# -------------------------------------------------
# IFS_TRIGGER.DEF
# -------------------------------------------------
#
# SMS suite definition file.
#
# This script is part of the ICON SMS suite
# Initial implementation: F. Prill, DWD (2012-05-07)
#
# Corresponding author:
#   Florian Prill, DWD, mailto:florian.prill@dwd.de
#
# Some parts of this definition file are based
# on the "bceps" SMS suite (H. Frank, DWD), cf.
# "ecgate:/home/ms/de/zde/BCeps"
#

# import environment variables:
setenv -i HOME
setenv -i USER
setenv -i HOST
setenv -i TMPDIR
set UID `id -u`

# global definitions:

# place where suite and tasks are defined
set SMSFILES    "$ECPERM/icon-dev/schedulers/ecmwf/sms"

# place where include files are stored
set SMSINCLUDE  "$ECPERM/icon-dev/schedulers/ecmwf/include"

# place where generated job scripts are stored
set SMSHOME     "$HOME/sms"

# place for SMS output
set SMSOUT      "$HOME/sms"


# set no. of restarts for aborted tasks in SMS:
set SMSTRIES      1


# -------------------------------------------------

define on_ecgate {
  label host "$HOST"
}

# -------------------------------------------------

suite ifs_trigger

    edit SMSTRIES   $SMSTRIES
    edit SMSHOME    $SMSHOME
    edit SMSFILES   $SMSFILES
    edit SMSINCLUDE $SMSINCLUDE
    edit SMSOUT     $SMSOUT
    edit USER       $USER

    # DUMMY TASK (IFS TRIGGER) ------------------------
    task fct_ifs  
        on_ecgate
        defstatus unknown

endsuite
