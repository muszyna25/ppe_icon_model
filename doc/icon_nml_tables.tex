\section{ICON Namelists}

\subsection{Scripts, Namelist files and Programs}

Run scripts starting the programs for the
models are stored in run/. These scripts write namelist files containing
the specified Fortran namelists. Programs are stored in $<$ icon home$>$/build/$<$architecture$>$/bin/.


\begin{table}[htb]
\caption{Namelist files}
\begin{center}
\begin{tabular}{llll}\hline
\textbf{Namelist file} & \textbf{Purpose} & \textbf{Made by script} & \textbf{Used by program} \\\hline
NAMELIST\_GRAPH   & Generate graphs     & create\_global\_grids.run & grid\_command \\
NAMELIST\_GRID    & Generate grids      & create\_global\_grids.run & grid\_command \\
NAMELIST\_GRIDREF & Gen. nested domains & create\_global\_grids.run & grid\_command \\
NAMELIST\_ICON    & Run ICON models     & exp.<name>.run & control\_model   \\ \hline
\end{tabular}
\end{center}
\label{table:namelistfiles}
\end{table}

\newpage

\subsection{Namelist parameters}

The following subsections tabulate all available Fortran namelist
parameters by name, type, default value, unit, description, and scope:

\begin{itemize}
\item \emph{Type} refers to the type of the Fortran variable, in which the
value is stored: I=INTEGER, L=LOGICAL, R=REAL, C=character string
\item \emph{Default} is the preset value, if defined, that is assigned to
this parameter within the programs.
\item \emph{Unit} shows the unit of the control parameter, where applicable.
\item \emph{Description} explains in a few words the purpose of the parameter.
\item \emph{Scope} explains under which conditions the namelist parameter
has any effect, if its scope is restricted to specific settings of
other namelist parameters.
\end{itemize}
Information on the file, where the namelist is defined and used, is
given at the end of each table.


%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM

\section{Namelist parameters defining the atmospheric model}

Namelist parameters for the ICON models are organized in several thematic
Fortran namelists controling the experiment, and the properties of
dynamics, transport, physics etc.

%------------------------------------------------------------------------------
% assimilation_nml:
%------------------------------------------------------------------------------
\subsection{assimilation\_nml}

The main switch for the Latent heat nudging scheme is called ldass\_lhn and has to be set in run\_nml. 

\begin{longtab}

%\hline
 {nlhn\_start}&
I&
-9999&
s&
time in seconds when LHN is applied for the first time&
run\_nml:ldass\_lhn = .true.
\tabularnewline

%\hline
 {nlhn\_end}&
I&
-9999&
s&
time in seconds when LHN is applied for the last time&
run\_nml:ldass\_lhn = .true.
\tabularnewline

%\hline
 {lhn\_coef}&
R&
1.0&
&
Nudging coefficient of adding the increments&
\tabularnewline

%\hline
 {fac\_lhn\_up}&
R&
2.0&
&
Upper limit of the scaling factor of the temperature profile.&
\tabularnewline

%\hline
 {fac\_lhn\_down}&
R&
0.5&
&
Lower limit of the scaling factor of the temperature profile.&
\tabularnewline

%\hline
 {lhn\_logscale}&
L&
.TRUE.&
&
Apply all scaling factors as logarithmic values&
fac\_lhn\_down, fac\_lhn\_up, fac\_lhn\_artif
\tabularnewline

%\hline
 {thres\_lhn}&
R&
0.1/3600.&
mm/s&
Minimal value of precipitation rate, either of model or radar. LHN will be applied first for precipitation above it.&
\tabularnewline

%\hline
 {start\_fadeout}&
R&
1.0&
&
Value to determine, at which model time step a fading out of the increments might start.&
\tabularnewline

%\hline
 {lhn\_qrs}&
L&
.TRUE.&
&
Use a vertical average of precipitation fluxes as reference to compare with radar observed precipitation, 
to avoid severe overestimation due to displacement of model surface precipitation.\\
If set .FALSE. the model surface precipitation rate is used as reference.&
\tabularnewline

%\hline
 {rqrsgmax}&
R&
1.0&
&
This value determines the height of the vertical averaging, to obtain the reference precipitation rate\\
It is the model layer where the quotion of the maximal precipitation flux occurred for the first time.&
lhn\_qrs = .TRUE.
\tabularnewline

%\hline
 {lhn\_hum\_adj}&
L&
.TRUE.&
&
Apply an increment of specific humidity with respect to the estimated temperature increment to maintain the relative humidty&
\tabularnewline

%\hline
 {lhn\_no\_ttend}&
L&
.FALSE.&
&
Only apply moisture increments. Temperature increments will only be used for calculation of moisture increments&
lhn\_hum\_adj=.TRUE.
\tabularnewline

%\hline
 {lhn\_incloud}&
L&
.TRUE.&
&
Apply increments only in model layers where the underlying latent heat release of the model is positive.&
lhn\_artif\_only=.FALSE.
\tabularnewline

%\hline
 {lhn\_limit}&
L&
.TRUE.&
&
Limitation of temperature increments&
abs\_lhn\_lim
\tabularnewline

%\hline
 {abs\_lhn\_lim}&
R&
50./3600.&
K/s&
Lower and upper limit for temperature increments to be added.&
lhn\_limit = .TRUE.
\tabularnewline

%\hline
 {lhn\_filt}&
L&
.TRUE.&
&
Vertical smoothing of the profile of temperature increments &
\tabularnewline

%\hline
 {lhn\_relax}&
L&
.FALSE.&
&
Horizontal smoothing of radar data but also of incorporated model fields &
nlhn\_relax
\tabularnewline

%\hline
 {nlhn\_relax}&
I&
2&
grid points&
Number of horizontal grid point, where smoothing is applied.&
lhn\_relax = .TRUE.
\tabularnewline

%\hline
 {lhn\_wweight}&
L&
.FALSE.&
&
Reduction of the LHN temperature increment in case of strong advection, messured by horizontal wind in 950, 850 and 700 hPa.\\
The reduction is done linearly down to cero.&
\tabularnewline


%\hline
 {lhn\_artif}&
L&
.TRUE.&
&
Apply an artificial temperature profile to estimate increments at model grid points without significant precipitation (determined by fac\_lhn\_artif).&
fac\_lhn\_artif, tt\_artif\_max, zlev\_artif\_max, std\_artif\_ma
\tabularnewline

%\hline
 {fac\_lhn\_artif}&
R&
5.0&
&
Value of the ratio of radar to model precipitation rate, from which an artificial temperature profile is applied&
lhn\_artif=.TRUE.
\tabularnewline

%\hline
 {fac\_lhn\_artif\_tune}&
R&
1.0&
&
Tuning factor to optimize the effectiveness of the artificial profile.&
lhn\_artif=.TRUE.
\tabularnewline

%\hline
 {lhn\_artif\_only}&
L&
.FALSE.&
&
Scaling the artificial temperature profile instead of local model profile of latent heat release for calculation the increments at any model grid point.\\
The scaling factor is still be determined by the ratio of observed to modelled precipitation rate.&
tt\_artif\_max, zlev\_artif\_max, std\_artif\_max
\tabularnewline

%\hline
 {tt\_artif\_max}&
R&
0.0015&
K&
Maximal temperature of Gaussian shaped function used a artificial temperature profile.&
lhn\_artif, lhn\_artif\_only
\tabularnewline

%\hline
 {zlev\_artif\_max}&
R&
1000.0&
m&
Height of maximum of Gaussian shaped function used a artificial temperature profile.&
lhn\_artif, lhn\_artif\_only
\tabularnewline

%\hline
 {std\_artif\_max}&
R&
4.0&
m&
Parameter defining width of Gaussian shaped function used a artificial temperature profile.&
lhn\_artif, lhn\_artif\_only
\tabularnewline

%\hline
 {nlhnverif\_start}&
I&
-9999&
s&
time in seconds when online verification within LHN is active for the first time&
run\_nml:ldass\_lhn = .true.
\tabularnewline

%\hline
 {nlhnverif\_end}&
I&
-9999&
s&
time in seconds when online verification within LHN is active for the last time&
run\_nml:ldass\_lhn = .true.
\tabularnewline

%\hline
 {lhn\_diag}&
L&
.FALSE.&
&
Enable a extensive diagnostic output, writing into file lhn.log.\\
lhn\_diag is set .TRUE. automatically, when online verification is active.&
\tabularnewline

%\hline
 {lhn\_dt\_obs}&
R&
300.0&
s&
Frequency of the radar observations&
\tabularnewline

%\hline
 {radar\_in}&
C&
'./'&
&
Path where the radar data file is expected.&
\tabularnewline

%\hline
 {radardata\_file(:)}&
C (n\_dom)&
&
&
Name of the radar data file. This might be either in GRIB2 or in NetCDF (recommended).&
\tabularnewline

%\hline
 {lhn\_black}&
L&
.FALSE.&
&
Apply a blacklist information in the radar data obtained by comparison against satelite clound information&
\tabularnewline

%\hline
 {blacklist\_file(:)}&
C (n\_dom)&
'radarblacklist.nc'&
&
Name of blacklist file, containing a mask concerning the quality of the radar data.\\
Value 1: good quality\\
Value 0: bad quality\\
This might be either in GRIB2 or in NetCDF (recommended).&
lhn\_black=.TRUE.
\tabularnewline

%\hline
 {lhn\_bright}&
L&
.FALSE.&
&
Apply a model intern bright band detection to avoid strong overestimation due to uncertain radar observations.&
\tabularnewline

%\hline
 {height\_file(:)}&
C (n\_dom)&
'radarheight.nc'&
&
Name of file containing the height of the lowest scan for each possible radar station within the given radar composite.\\
This file is required, when applying bright band detection.\\
This might be either in GRIB2 or in NetCDF (recommended).&
lhn\_bright=.TRUE.
\tabularnewline

%\hline
 {nradar}&
I (n\_dom)&
20&
&
Maximal number of radar height layers contained within height\_file&
lhn\_bright=.TRUE.
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_assimilation_nml.f90+

%------------------------------------------------------------------------------
% ccycle_nml:
%------------------------------------------------------------------------------
\subsection{ccycle\_nml}

The coupling of the carbon cycle between the atmosphere and land and ocean is configured by the data structure \textit{ccycle\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains.

\begin{longtab}
%\hline
ccycle\_config(jg)\% iccycle &
I &
0 &  &
controls the carbon cycle mode: \\
0: no C-cycle \\
1: C-cycle with interactive atmospheric $CO_2$ concentration \\
2: C-cycle with prescribed atmospheric $CO_2$ concentration &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s and echam\_phy\_config(jg)\% ljsb = .TRUE. (and atmosphere is coupled to ocean with biogeochemistry)
\tabularnewline

%\hline
ccycle\_config(jg)\% ico2conc &
I &
2 &  &
controls the $CO_2$ concentration provided to land/JSBACH and - if coupled to the ocean - to the ocean/HAMOCC \\
2: constant concentration as defined by  ccycle\_config(jg)\% vmr\_co2 \\
4: transient concentration scenario from file bc\_greenhouse\_gases.nc&
ccycle\_config(jg)\% iccycle = 2
\tabularnewline

ccycle\_config(jg)\% vmr\_co2 &
R &
284.32 & ppmv &
constant $CO_2$ volume mixing ratio of 1850 (CMIP6) &
ccycle\_config(jg)\% ico2conc = 2
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% coupling_model_nml:
%------------------------------------------------------------------------------
\subsection{coupling\_mode\_nml}
\begin{longtab}

%\hline
coupled\_mode &
L &
.FALSE. &  &
.TRUE.: if yac coupling routines have to be called &
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_coupling_nml.f90+


%-----------------------------------------------------------------------------
% diffusion_nml: horizontal (numerical) diffusion
%-----------------------------------------------------------------------------
\subsection{diffusion\_nml}
\begin{longtab}

%\hline
\textbf{lhdiff\_temp}&
L& .TRUE. & &
Diffusion on the temperature field&
\tabularnewline

%\hline
\textbf{lhdiff\_vn}&
L& .TRUE. & &
Diffusion on the horizontal wind field&
\tabularnewline

%\hline
\textbf{lhdiff\_w}&
L& .TRUE. & &
Diffusion on the vertical wind field&
\tabularnewline

%\hline
\textbf{hdiff\_order}&
I& 5 & &
Order of $\nabla$ operator for diffusion:\\
-1: no diffusion\\
2: $\nabla^{2}$ diffusion\\
3: Smagorinsky $\nabla^{2}$ diffusion (requires lhdiff\_rcf = .TRUE.) \\
4: $\nabla^{4}$ diffusion \\
5: Smagorinsky $\nabla^{2}$ diffusion combined with $\nabla^{4}$
background diffusion as specified via hdiff\_efdt\_ratio  &
\tabularnewline

%\hline
\textbf{lsmag\_3d}&
L& .FALSE. & &
.TRUE.: Use 3D Smagorinsky formulation for computing the horizontal diffusion coefficient (recommended at mesh sizes
finer than 1 km if the LES turbulence scheme is not used)& hdiff\_order=3 or 5; itype\_vn\_diffu=1
\tabularnewline

%\hline
\textbf{itype\_vn\_diffu} &
I& 1 & &
Reconstruction method used for Smagorinsky diffusion: \\
1: u/v reconstruction at vertices only \\
2: u/v reconstruction at cells and vertices& iequations=3, hdiff\_order=3 or 5
\tabularnewline

%\hline
\textbf{itype\_t\_diffu} &
I& 2 & &
Discretization of temperature diffusion: \\
1: $K_h \nabla^2 T$ \\
2: $\nabla \cdot (K_h \nabla T)$  & iequations=3, hdiff\_order=3 or 5
\tabularnewline


%\hline
\textbf{hdiff\_efdt\_ratio}&
R& 36.0 & &
ratio of e-folding time to time step (or 2{*} time step when using
a 3 time level time stepping scheme) (for triangular NH model, values above 30 are recommended when using hdiff\_order=5) &
\tabularnewline

%\hline
\textbf{hdiff\_w\_efdt\_ratio}&
R& 15.0  & &
ratio of e-folding time to time step for diffusion on vertical wind speed & iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_min\_efdt\_ratio}&
R& 1.0 & &
minimum value of hdiff\_efdt\_ratio near model top & iequations=3  .AND. hdiff\_order=4
\tabularnewline

%\hline
\textbf{hdiff\_tv\_ratio}&
R& 1.0& &
Ratio of diffusion coefficients for temperature and normal wind: $T:v_{n}$&
\tabularnewline

%\hline
\textbf{hdiff\_multfac}&
R& 1.0& &
Multiplication factor of normalized diffusion coefficient for nested
domains&
n\_dom$>$1\tabularnewline

%\hline
\textbf{hdiff\_smag\_faci}&
R& 0.015 & &
Scaling factor for Smagorinsky diffusion at height \(hdiff\_smag\_z\) and below. \(hdiff\_smag\_fac \geq 0\). &
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_fac2}&
R& \(2\cdot10^{-6}\cdot(1600+25000+\sqrt(1600\cdot(1600+50000))) \approx 0.071\)& &
Scaling factor for Smagorinsky diffusion at height \(hdiff\_smag\_z2\). \(hdiff\_smag\_fac2 \geq 0\). Between \(hdiff\_smag\_z\) and \(hdiff\_smag\_z2\) the scaling factor changes linearly from \(hdiff\_smag\_fac\) to \(hdiff\_smag\_fac2\). &
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_fac3}&
R& 0. & &
Scaling factor for Smagorinsky diffusion at height \(hdiff\_smag\_z3\). \(hdiff\_smag\_fac3 \geq 0\). The three points \((hdiff\_smag\_z2, hdiff\_smag\_fac2)\), \((hdiff\_smag\_z3, hdiff\_smag\_fac3)\),  and  \((hdiff\_smag\_z4, hdiff\_smag\_fac4)\) determine the quadratic function for the scaling factor between \(hdiff\_smag\_z2\) and \(hdiff\_smag\_z4\). &
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_fac4}&
R& 1.0 & &
Scaling factor for Smagorinsky diffusion at height \(hdiff\_smag\_z4\) and higher. \(hdiff\_smag\_fac4 \geq 0\). &
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_z}&
R& 32500. & m&
Height up to which \(hdiff\_smag\_fac\) is used, and where the linear profile up to height \(hdiff\_smag\_z2\) starts.&
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_z2}&
R& \(1600+50000+\sqrt(1600\cdot(1600+50000)) \approx 60686\) & m&
Height with scaling factor \(hdiff\_smag\_fac2\) where the linear profile starting at \(hdiff\_smag\_z\) ends, and where the quadratic profile up to \(hdiff\_smag\_z4\) starts. \(hdiff\_smag\_z < hdiff\_smag\_z2 < hdiff\_smag\_z4\).&
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_z3} &
R& 50000.& m&
Height with scaling factor \(hdiff\_smag\_fac3\). Needed to determine the quadratic function between \(hdiff\_smag\_z2\) and \(hdiff\_smag\_z4\). \(hdiff\_smag\_z3 \neq hdiff\_smag\_z2 \land hdiff\_smag\_z3 \neq hdiff\_smag\_z4\).&
iequations=3
\tabularnewline

%\hline
\textbf{hdiff\_smag\_z4} &
R& 90000.& m&
Height from which \(hdiff\_smag\_fac4\) is used.  \(hdiff\_smag\_z4 > hdiff\_smag\_z2\).&
iequations=3
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_diffusion_nml.f90+


%-----------------------------------------------------------------------------
% dynamics_nml:
%-----------------------------------------------------------------------------
\subsection{dynamics\_nml}
This namelist is relevant if run\_nml:ldynamics=.TRUE.

\begin{longtab}

%\hline
\textbf{iequations}&
I& 3& &
Equations and prognostic variables. Use positive indices for the atmosphere
and negative indices for the ocean.&\tabularnewline
&&&&3: non-hydrostatic atmosphere&\tabularnewline
&&&&-1: hydrostatic ocean&
\tabularnewline


%\hline
idiv\_method &
I& 1& &
Method for divergence computation:&
\tabularnewline
& & & & 1: Standard Gaussian integral. \\
Hydrostatic atm.~model: for unaveraged normal components\\
Non-hydrostatic atm.~model: for averaged normal components &
\tabularnewline
& & & & 2: bilinear averaging of divergence& \tabularnewline

%\hline
divavg\_cntrwgt&
R& 0.5& &
Weight of central cell for divergence averaging&
idiv\_method= 2
\tabularnewline

%\hline
lcoriolis &
L & .TRUE.& &
Coriolis force&
\tabularnewline

%\hline
ldeepatmo &
L & .FALSE. & &
Switch for deep-atmosphere modification of non-hydrostatic atmosphere. 
Specific settings can be found in upatmo\_nml. &
iequations = 3 \\
iforcing = 0, 2, 3 \\
is\_plane\_torus = .FALSE.
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_dynamics_nml.f90+


%------------------------------ switches for ECHAM physics


%------------------------------------------------------------------------------
% echam_cld_nml:
%------------------------------------------------------------------------------
\subsection{echam\_cld\_nml}

The parameterization of cloud microphysics for the ECHAM physics is configured by a data structure \textit{echam\_cld\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the parametrized effects:

\begin{longtab}
%\hline
echam\_cld\_config(jg)\% zmaxcld &
R & echam\_phy\_config(:)\% zmaxcloudy & &
maximum height for cloud physics computations &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ccwmin &
R & 1.0e-7 & kg/kg &
cloud water and ice minimum mass mixing ratio for cover>0 &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% cqtmin &
R & 1.0e-12 & kg/kg &
cloud water/ice minimum for microphysical processes &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% cthomi &
R & Tmelt-35 = 238.15 & K &
maximum temperature for homogeneous freezing &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% csecfrl &
R & 5.0e-6 & kg/kg &
minimum in-cloud water mass mixing ratio in mixed phase clouds &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ccraut &
R & 15. & &
coefficient of autoconversion of cloud droplets to rain &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ccracl &
R & 6. & &
coefficient of accretion  of cloud droplets by falling rain &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% cauloc &
R & 10. & &
coefficient of local rainwater production by autoconversion &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% clmin &
R & 0.0 & &
minimum for cauloc*dz/5000 &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% clmax &
R & 0.5 & &
maximum for cauloc*dz/5000 &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% cvtfall &
R & 2.5 & &
coefficient of sedimentation velocity of cloud ice &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ceffmin &
R & 10. & 1.e-6 m &
min effective radius for ice cloud &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ceffmax &
R & 150. & 1.e-6 m &
max effective radius for ice cloud &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% crhoi &
R & 500. & kg/m3 &
density of cloud ice &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% crhosno &
R & 100. & kg/m3 &
bulk density of snow &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ccsaut &
R & 95.0 & &
coefficient of autoconversion of cloud ice to snow &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% ccsacl &
R & 0.1 & &
coefficient of accretion of cloud droplets by falling snow &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% clwprat &
R & 4.0 & &
critical ratio of cloud liq.+ice paths below and above the top of shallow convection; for ratio > clwprat -> change ktype from 2 to 4 &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

%%echam\_cld\_config(jg)\% cptop &
%%R & 1000. & Pa &
%%pressure of highest level for tropopause calculation &
%%echam\_phy\_config(jg)\% dt\_cld > 0.000s
%%\tabularnewline
%%
%%echam\_cld\_config(jg)\% cpbot &
%%R & 50000. & Pa &
%%pressure of lowest  level for tropopause calculation &
%%echam\_phy\_config(jg)\% dt\_cld > 0.000s
%%\tabularnewline
%%
echam\_cld\_config(jg)\% ncctop &
I & 13 & &
index of highest  level for tropopause calculation &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

echam\_cld\_config(jg)\% nccbot &
I & 35 & &
index of lowest  level for tropopause calculation &
echam\_phy\_config(jg)\% dt\_cld > 0.000s
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_cnv_nml:
%------------------------------------------------------------------------------
\subsection{echam\_cnv\_nml}

The parameterization of convection for the ECHAM physics is configured by a data structure \textit{echam\_cnv\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the parametrized effects:

\begin{longtab}\ 
%\hline
echam\_cnv\_config(jg)\% lmfpen &
L& .TRUE.&&
Switch on penetrative convection.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% lmfmid &
L& .TRUE.&&
Switch on midlevel convection.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% lmfdd &
L& .TRUE.&&
Switch on cumulus downdraft.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% lmfdudv &
L& .TRUE.&&
Switch on cumulus friction.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% entrmid &
R & 2.0e-4 &&
Entrainment rate for midlevel convection.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% entrscv &
R & 3.0e-3 &&
Entrainment rate for shallow convection.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% entrpen &
R & 2.0e-4 &&
Entrainment rate for penetrative convection.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% entrdd &
R & 4.0e-4 &&
Entrainment rate for cumulus downdrafts.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cprcon &
R & 2.5e-4 &&
Coefficient for determining conversion from cloud water to rain.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmfctop &
R & 0.2 &&
Fractional convective mass flux across the top of cloud. &
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmfdeps &
R & 0.3 &&
Fractional convective mass flux for downdrafts at lfs. &
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cminbuoy &
R & 0.02 &&
Minimum excess buoyancy.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmaxbuoy &
R & 1.0 &&
Maximum excess buoyancy.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cbfac &
R & 1.0 &&
Factor for std dev of virtual pot temp.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% centrmax &
R & 3.0e-4 &&
Maximum entrainment/detrainment rate.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% dlev\_land &
R & 0 & Pa &
Minimum pressure thickness of clouds for precipitation over land.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% dlev\_ocean &
R & 0 & Pa &
Minimum pressure thickness of clouds for precipitation over ocean.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmftau &
R & 3600. &&
Characteristic convective adjustment time scale.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmfcmin &
R & 1.0e-10 &&
Minimum massflux value (for safety).&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

%\hline
echam\_cnv\_config(jg)\% cmfcmax &
R & 1.0 &&
Maximum massflux value for updrafts.&
echam\_phy\_config(jg)\% dt\_cnv > 0.000s
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_cop_nml:
%------------------------------------------------------------------------------
\subsection{echam\_cop\_nml}

The parameterization of cloud optical properties for the ECHAM physics is configured by a data structure \textit{echam\_cop\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the parametrized effects:

\begin{longtab}
%\hline
echam\_cop\_config(jg)\% cn1lnd &
R & 20. & 1e6/m3 &
cloud droplet number concentration over land, \newline
p <= 100 hPa &
\tabularnewline

echam\_cop\_config(jg)\% cn2lnd &
R & 180. & 1e6/m3 &
cloud droplet number concentration over land, \newline
p >= 800 hPa &
\tabularnewline

echam\_cop\_config(jg)\% cn1sea &
R & 20. & 1e6/m3 &
cloud droplet number concentration over sea, \newline
p <= 100 hPa &
\tabularnewline

echam\_cop\_config(jg)\% cn2sea &
R & 80. & 1e6/m3 &
cloud droplet number concentration over sea, \newline
p >= 800 hPa &
\tabularnewline

echam\_cop\_config(jg)\% cinhomi &
R & 0.8 & &
ice    cloud inhomogeneity factor &
\tabularnewline

echam\_cop\_config(jg)\% cinhoml1 &
R & 0.8 & &
liquid cloud inhomogeneity factor, \newline
ktype = 0 = stratiform clouds &
\tabularnewline

echam\_cop\_config(jg)\% cinhoml2 &
R & 0.4 & &
liquid cloud inhomogeneity factor, \newline
ktype = 4 = shallow conv. (cf. clwprat) &
\tabularnewline

echam\_cop\_config(jg)\% cinhoml3 &
R & 0.8 & &
liquid cloud inhomogeneity factor, \newline
ktype = 1 = deep convection and \newline
ktype = 2 = shallow conv. (cf. clwprat) and \newline
ktype = 3 = mid-level conv. &
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_cov_nml:
%------------------------------------------------------------------------------
\subsection{echam\_cov\_nml}

The parameterization of cloud cover for the ECHAM physics is configured by a data structure \textit{echam\_cov\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains the following control parameters:

\begin{longtab}
%\hline
echam\_cov\_config(jg)\% zmaxcov &
R & echam\_phy\_config(:)\% zmaxcloudy & &
maximum height for cloud cover computation &
\tabularnewline

echam\_cov\_config(jg)\% icov &
I & 1 & &
selects cloud cover scheme \newline
0: constant cloud cover =  clcon \newline
1: fractional cloud cover based on rel. humidity \newline
2: 0/1 cloud cover based on rel. humidity >= csat \newline
3: 0/1 cloud cover based on cloud condensate >= cqx &
\tabularnewline

echam\_cov\_config(jg)\% clcon &
R & 0.0 & &
constant cloud cover in m2/m2 &
icov = 0
\tabularnewline

echam\_cov\_config(jg)\% csat &
R & 1.0 & &
relative humidity at which cloud cover is 1 &
icov = 1, 2
\tabularnewline

echam\_cov\_config(jg)\% crs &
R & 0.968 & &
critical relative humidity at surface &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% crt &
R & 0.8 & &
critical relative humidity aloft &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% nex &
I & 2 & &
transition parameter for critical relative humidity profile &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% zinvmin &
R & 200. & m &
minimum height above sea level for search of inversion layer &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% zinvmax &
R & 2000. & m &
maximum height above sea level for search of inversion layer &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% cinv &
R & 0.25 & &
fraction of dry adiabatic lapse rate for search of top level of inversion layer over sea &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% csatsc &
R & 0.7 & &
minimum effective saturation for cloud cover below an inversion layer over sea &
icov = 1
\tabularnewline

echam\_cov\_config(jg)\% cqx &
R & 1.0e-8 & kg/kg &
minimum cloud condensate mass mixing ratio for cloud cover 1 &
icov = 3
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_gwd_nml:
%------------------------------------------------------------------------------
\subsection{echam\_gwd\_nml}

The parameterization of atmospheric gravity waves for the ECHAM physics is configured by a data structure \textit{echam\_gwd\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the parametrized effects:

\begin{longtab}
%\hline
echam\_gwd\_config(jg)\% lheatcal    &
L           &
.FALSE.     &&
.TRUE.: compute drag, heating rate and diffusion coefficient from the dissipation of gravity waves&
echam\_phy\_config(jg)\% dt\_gwd > 0.000s
\tabularnewline
&&&&
.FALSE.: compute drag only &
\tabularnewline

%\hline
echam\_gwd\_config(jg)\% emiss\_lev  &
I           &
10          &&
Index of model level, counted from the surface, from which the gravity wave spectra are emitted &
echam\_phy\_config(jg)\% dt\_gwd > 0.000s
\tabularnewline

%\hline
echam\_gwd\_config(jg)\% rmscon      &
R           &
0.87         &
m/s         &
Root mean square gravity wave wind at the emission level &
echam\_phy\_config(jg)\% dt\_gwd > 0.000s
\tabularnewline

%\hline
echam\_gwd\_config(jg)\% kstar       &
R           &
5.0e-5      &
1/m         &
Typical gravity wave horizontal wavenumber &
echam\_phy\_config(jg)\% dt\_gwd > 0.000s
\tabularnewline

%\hline
echam\_gwd\_config(jg)\% m\_min      &
R           &
0.0         &
1/m         &
Minimum bound in  vertical wavenumber &
echam\_phy\_config(jg)\% dt\_gwd > 0.000s
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_phy_nml:
%------------------------------------------------------------------------------
\subsection{echam\_phy\_nml}

The ECHAM physics is configured by a data structure \textit{echam\_phy\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains several parameters providing time control for the atmospheric forcing by the different parameterizations. Further logical switches control how the atmospheric boundary conditions for the ECHAM physics are determined. Time control parameters are available for the atmospheric processes tabulated below.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{l|l}
\textit{prc} & \textit{parameterized process} \\
\hline
rad & LW and SW radiation \\
vdf & vertical diffusion \\
cnv & cumulus convection \\
cld & cloud microphysics \\
gwd & atmospheric gravity wave drag \\
sso & sub grid scale orographic effects \\
mox & methane oxidation and water vapor photolysis \\
car & Cariolle's linearized ozone chemistry \\
art & ART chemistry \\
\end{tabular}
\end{center}
\label{default}
\end{table}%

The time control for an atmospheric forcing by a process \textit{prc} consists of three components, the time interval \textit{dt\_prc} for re-computing the forcing, and the start and end dates and times defining the interval \textit{[sd\_prc,ed\_prc[}, in which the forcing is either computed, if the date/time coincides with the interval \textit{dt\_prc}, or recycled. Recycling means that the forcing stored from the last computation is used again. Outside of the interval the forcing is set to zero.

If \textit{dt\_prc} is not specified, or an empty string or a string of blanks or an interval of length 0s, e.g. \textit{"PT0S"} is given, then the forcing is switched off for the entire experiment and the start and end dates and times are irrelevant.

If \textit{sd\_prc} or \textit{ed\_prc} are not specified, or an empty string or a string of blanks are given, then the experiment start date and the experiment stop date are used, respectively.

Further the forcing control switch \textit{fc\_prc} can be used to decide if an active process (\textit{dt\_prc} > 0) is used for the integration (\textit{fc\_prc} = 1) or only computed for diagnostic purposes (\textit{fc\_prc} = 0).

\begin{longtab}
%
echam\_phy\_config(jg)\% dt\_prc & C & "" & &
This is the time interval in ISO 8601-2004 format at which the forcing by the process \textit{prc} is computed. &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% sd\_prc & C & "" & &
Defines the start date/time in ISO 8601-2004 format of the interval \textit{[sd\_prc,ed\_prc[}, in which the forcing by the process \textit{prc} is computed in intervals \textit{dt\_prc}. &
run\_nml/iforcing = 2 and
\textit{dt\_prc}  > 0.000s \tabularnewline
%
echam\_phy\_config(jg)\% ed\_prc & C & "" & &
Defines the end date/time in ISO 8601-2004 format of the interval \textit{[sd\_prc,ed\_prc[}, in which the forcing by the process \textit{prc} is computed in intervals \textit{dt\_prc}. &
run\_nml/iforcing = 2 and
\textit{dt\_prc}  > 0.000s \tabularnewline
%
echam\_phy\_config(jg)\% fc\_prc & I & 1 & &
Forcing control for process  \textit{prc}.  \newline
fc\_prc = 0: the forcing of the process is not used in the integration.  \newline
fc\_prc = 1: the forcing of the process is used in the integration. &
run\_nml/iforcing = 2 and
\textit{dt\_prc}  > 0.000s \tabularnewline
%
echam\_phy\_config(jg)\% lice & L & .FALSE. & &
.TRUE. for sea-ice temperature calculation &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% lmlo & L & .FALSE. & &
.TRUE. for mixed layer ocean &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% ljsb & L & .FALSE. & &
.TRUE. for using the JSBACH land surface model &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% lamip & L & .FALSE. & &
.TRUE. for AMIP boundary conditions &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% iqneg\_d2p& I & 0 & &
If negative tracer mass fractions are found in the dynamics to physics interface, then: \\
1,3: they are reported; \\
2,3: they are replaced with zero &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% iqneg\_p2d& I & 0 & &
If negative tracer mass fractions are found in the physics to dynamics interface, then: \\
1,3: they are reported; \\
2,3: they are replaced with zero &
run\_nml/iforcing = 2 \tabularnewline
%
echam\_phy\_config(jg)\% zmaxcloudy &
R & 33000. & m &
maximum height for clouds &
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_rad_nml:
%------------------------------------------------------------------------------
\subsection{echam\_rad\_nml}

The input  from ECHAM physics to the PSrad scheme is configured by a data structure \textit{echam\_rad\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the Earth orbit, the computation of the SW incoming flux at the top of the atmosphere and the atmospheric composition:

\begin{longtab}
%
echam\_rad\_config(jg)\% isolrad & I & 0 & &
Selects the spectral solar irradiation (SSI) at 1 AU distance from the sun \\
0: SSI of the SRTM scheme, TSI = 1368.222 W\/m2.\\
1: SSI from an external file containing monthly mean time series \\
2: Average 1844--1856 of the SSI time series provided for CMIP5, TSI = 1360.875 W/m2 \\
3: Average 1979--1988 of the SSI time series provided for CMIP5, TSI = 1361.371 W/m2 \\
4: SSI for RCE--type simulation with diurnal cycle, TSI = 1069.315 W/m2 \\
5: SSI for RCE--type simulation without diurnal cycle, TSI = 433.3371 W/m2 \\
6: Average 1850-1873 of the SSI time series provided for CMIP6, TSI = 1360.744 W/m2 \\ &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% fsolrad & R & 1 & &
Scaling factor for the  SSI &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% l\_orbvsop87 & L & .TRUE. & &
.TRUE. for the realistic VSOP87 Earth orbit \\ .FALSE. for the Kepler orbit &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% cecc & R & 0.016715 & &
eccentricity of the Kepler orbit &
echam\_phy\_config(jg)\% dt\_rad > 0.000s and l\_orbvsop87 = .FALSE. \tabularnewline
%
echam\_rad\_config(jg)\% cobld & R & 23.44100 & deg &
obliquity of the Earth rotation axis on the Kepler orbit &
echam\_phy\_config(jg)\% dt\_rad > 0.000s  and l\_orbvsop87 = .FALSE. \tabularnewline
%
echam\_rad\_config(jg)\% clonp & R & 282.7000 & deg &
longitude of perihelion with respect to vernal equinox on the Kepler orbit &
echam\_phy\_config(jg)\% dt\_rad > 0.000s  and l\_orbvsop87 = .FALSE. \tabularnewline
%
echam\_rad\_config(jg)\% lyr\_perp & L & .FALSE. & &
.FALSE. for transient VSOP87 Earth orbit \\ .TRUE.: VSOP87 Earth orbit of year yr\_perp is perpertuated &
echam\_phy\_config(jg)\% dt\_rad > 0.000s  and l\_orbvsop87 = .TRUE. \tabularnewline
%
echam\_rad\_config(jg)\% yr\_perp & L & -99999 & &
year to be used for lyr\_perp = .TRUE. &
echam\_phy\_config(jg)\% dt\_rad > 0.000s  and l\_orbvsop87 = .TRUE. \tabularnewline
%
echam\_rad\_config(jg)\% nmonth & I & 0 & &
0: Earth circles on orbit\\1-12: Earth orbit position fixed for specified month&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% ldiur & L & .TRUE. & &
.TRUE. for diurnal cycle in solar irradiation \\ .FALSE. for zonally averaged solar irradiation &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% l\_sph\_symm\_irr & L & .FALSE. & &
.TRUE. for a horizontally independent solar irradiation; .FALSE. for a horizontally resolved solar irradiation & \tabularnewline 
%
echam\_rad\_config(jg)\% irad\_h2o & I & 1 & &
Selects source for concentration of water vapor, cloud water and cloud ice \\
0: set to zero (or epsilon) \\
1: from tracer &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_co2 & I & 2 & &
Selects source for concentration of CO2 \\
0: set to zero (or epsilon) \\
1: from tracer  \\
2: constant vol. mixing ration set by 'vmr \_co2'  \\
4: spatially constant, time dependent vol. mixing ratio from file bc\_greenhouse\_gases.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s and CO2 tracer is defined \tabularnewline
%
echam\_rad\_config(jg)\% irad\_ch4 & I & 3 & &
Selects source for concentration of CH4 \\
0: set to zero (or epsilon) \\
2: constant vol. mixing ration set by 'vmr \_ch4'  \\
3: horizontally constant, vertically decaying, with surface vol. mixing ratio set by 'vmr \_ch4'  \\
4: horizontally constant, vertically decaying, time dependent with surface vol. mixing ratio from file bc\_greenhouse\_gases.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_n2o & I & 3 & &
Selects source for concentration of N2O \\
0: set to zero (or epsilon) \\
2: constant vol. mixing ration set by 'vmr \_n2o'  \\
3: horizontally constant, vertically decaying, with surface vol. mixing ratio set by 'vmr \_n2o'  \\
4: horizontally constant, vertically decaying, time dependent with surface vol. mixing ratio from file bc\_greenhouse\_gases.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_o3 & I & 0 & &
Selects source for concentration of O3 \\
0: set to zero (or epsilon) \\
1: from tracer \\
2: 3-dim concentration, climatological annual cycle, monthly means from an annual file bc\_ozone.nc or - with nesting - bc\_ozone\_DOM<jg>.nc\\
4: 3-dim concentration, constant in time, 1st time slice in file bc\_ozone.nc or - with nesting - bc\_ozone\_DOM<jg>.nc\\
8: 3-dim concentration, time dependent, monthly means from yearly files bc\_ozone\_<year>.nc or - with nesting - bc\_ozone\_DOM<jg>\_<year>.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_o2 & I & 2 & &
Selects source for concentration of O2 \\
0: set to zero (or epsilon) \\
2: constant vol. mixing ration set by 'vmr \_o2'  &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_cfc11 & I & 2 & &
Selects source for concentration of CFC11 \\
0: set to zero (or epsilon) \\
2: constant vol. mixing ration set by 'vmr \_cfc11' \\
4: spatially constant, time dependent vol. mixing ratio from file bc\_greenhouse\_gases.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_cfc12 & I & 2 & &
Selects source for concentration of CFC12 \\
0: set to zero (or epsilon) \\
2: constant vol. mixing ration set by 'vmr \_cfc12' \\
4: spatially constant, time dependent vol. mixing ratio from file bc\_greenhouse\_gases.nc&
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% irad\_aero & I & 2 & &
Selects source of aerosol types\\
13: tropospheric 'Kinne' aerosols, time dependent from file 
(if the 1850--file is linked to all simulated years, only the 
natural background of aerosols is present)\\
14: volcanic stratospheric aerosols for CMIP6, time dependent from file\\
15: tropospheric 'Kinne' aerosols + volcanic stratospheric aerosols for CMIP6, 
time dependent, both from file.
If the 1850--file of the 'Kinne' aerosols is linked only, only the natural background is present\\
18: tropospheric natural 'Kinne' aerosols for 1850 (the 1850--file has to be linked for all 
years!) + time dep. volcanic stratospheric aerosols for CMIP6, both from file + param. 
time dep. anthropogenic 'simple plumes' \\
19: tropospheric natural 'Kinne' aerosols for 1850 
(the 1850--file has to be linked for all years!) + 
param. time dep. anthropogenic 'simple plumes' \\
any other: set to zero &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_co2 & R & 348.0e-06 & m3/m3 &
Volume mixing ratio of CO2 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_ch4 & R & 1650.0e-09 & m3/m3 &
Volume mixing ratio of CH4 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_n2o & R & 306.0e-09 & m3/m3 &
Volume mixing ratio of N2O &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_o2 & R & 0.20946 & m3/m3 &
Volume mixing ratio of O2 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_cfc11 & R & 214.5e-12 & m3/m3 &
Volume mixing ratio of CFC11 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% vmr\_cfc12 & R & 371.1e-12 & m3/m3 &
Volume mixing ratio of CFC11 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_h2o & R & 1.0 & &
Scaling factor for concentration of water vapor, cloud water and cloud ice &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_co2 & R & 1.0 & &
Scaling factor for concentration of  CO2 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_ch4 & R & 1.0 & &
Scaling factor for concentration of CH4 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_n2o & R & 1.0 & &
Scaling factor for concentration of N2O &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_o3 & R & 1.0 & &
Scaling factor for concentration of O3 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_o2 & R & 1.0 & &
Scaling factor for concentration of O2 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline
%
echam\_rad\_config(jg)\% frad\_cfc & R & 1.0 & &
Scaling factor for concentration of CFC11 and CFC12 &
echam\_phy\_config(jg)\% dt\_rad > 0.000s \tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% echam_sso_nml:
%------------------------------------------------------------------------------
\subsection{echam\_sso\_nml}

The parameterization of subgrid scale orographic (SSO) effects for the ECHAM physics is configured by a data structure \textit{echam\_sso\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over the parametrized effects:

\begin{longtab}
%
echam\_sso\_config(jg)\% gpicmea & R & 40. & m &
Minimum height difference of peak height and mean height to activate the SSO parameterization. &
echam\_phy\_config(jg)\% dt\_sso > 0.000s \tabularnewline
%
echam\_sso\_config(jg)\% gstd & R & 10. & m &
Minimum standard deviation of the SSO height to activate the SSO parameterization. &
echam\_phy\_config(jg)\% dt\_sso > 0.000s \tabularnewline
%
echam\_sso\_config(jg)\% gkdrag & R & 0.05 & &
Coefficient for orographic gravity wave drag. &
echam\_phy\_config(jg)\% dt\_sso > 0.000s \tabularnewline
%
echam\_sso\_config(jg)\% gkwake & R & 0. & &
Coefficient for low level blocking. &
echam\_phy\_config(jg)\% dt\_sso > 0.000s \tabularnewline
%
echam\_sso\_config(jg)\% gklift & R & 0. & &
Coefficient for low level lift. &
echam\_phy\_config(jg)\% dt\_sso > 0.000s \tabularnewline
%
echam\_sso\_config(jg)\% lsftlf & L & .TRUE. & &
.FALSE.: SSO effects are directly applied, for the case that SSO parameters are valid for the full cell area.  \newline
.TRUE.: SSO effects are scaled with the cell area fraction of land including lakes (field sftlf), for the case that SSO parameters are valid only for this part of the cell area.&
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
\end{longtab}

%------------------------------------------------------------------------------
% echam_vdf_nml:
%------------------------------------------------------------------------------
\subsection{echam\_vdf\_nml}

The parameterization of vertical diffusion (VDF) for the ECHAM physics is configured by a data structure \textit{echam\_vdf\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains. The structure contains parameters providing control over some of the parametrized effects:

\begin{longtab}
%
echam\_vdf\_config(jg)\% lsfc\_mom\_flux & L & .TRUE. & &
switch on/off surface momentum flux &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% lsfc\_heat\_flux & L & .TRUE. & &
switch on/off surface heat flux &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% pr0 & R & 1.0 & &
neutral limit Prandtl number, can be varied from about 0.6 to 1.0 &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% f\_tau0 & R & 0.17 & &
neutral non-dimensional stress factor &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% c\_f & R & 0.185 & &
mixing length: coriolis term tuning parameter &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% c\_n & R & 2.0 & &
mixing length: stability term tuning parameter &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% wmc & R & 0.5 & &
ratio of typical horizontal velocity to wstar at free convection &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% fsl & R & 0.4 & &
fraction of first-level height at which surface fluxes are nominally evaluated, tuning param for sfc stress &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% fbl & R & 3.0 & &
1/fbl: fraction of BL height at which lmix hat its max &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% lmix\_max & R & 150. & m &
maximum mixing length &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% z0m\_min & R & 0.000015 & m &
minimum roughness length &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% z0m\_ice & R & 0.001 & m &
roughness length for sea ice surfaces &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
echam\_vdf\_config(jg)\% z0m\_oce & R & 0.001 & m &
roughness length for sea water surfaces &
echam\_phy\_config(jg)\% dt\_vdf > 0.000s \tabularnewline
%
\end{longtab}

%------------------------------------------------------------------------------
% echam_wmp_nml:
%------------------------------------------------------------------------------
\subsection{echam\_wmo\_nml}

The diagnostics of the tropopause pressure, following the WMO definition is configured by a data structure \textit{echam\_wmo\_config(jg=1:ndom)\%<param>}, which is a 1-dimensional array extending over all  domains:

\begin{longtab}
%
echam\_wmo\_config(jg)\% zmaxwmo & R & 38000. & m &
maximum height for tropopause search &
\tabularnewline
%
echam\_wmo\_config(jg)\% zminwmo & R & 5000. & m &
minimum height for tropopause search &
\tabularnewline
%
\end{longtab}

%------------------------------------------------------------------------------
% ensemble_pert_nml:
%------------------------------------------------------------------------------
\subsection{ensemble\_pert\_nml}


\begin{longtab}


\hline
use\_ensemble\_pert&
L&
.FALSE.&
&
Main switch to activate physics parameter perturbations for ensemble forecasts / ensemble data assimilation; 
the perturbations are applied via random numbers depending on the perturbationNumber 
(ensemble member ID) specified in gribout\_nml. Perturbations are always turned off if perturbationNumber $\le$ 0   &
run\_nml:iforcing = inwp
\tabularnewline

\hline
itype\_pert\_gen&
I&
1&
&
Mode of ensemble perturbation generation\\
1: Equal distribution within perturbation range\\
2: Discrete distribution with 50\% probability for default value and 25\% probability for upper and lower extrema&
\tabularnewline

\hline
timedep\_pert&
I&
0&
&
Time-dependence of ensemble perturbations (except tkred\_sfc, which oscillates with a time scale of 20 days)\\
0: None\\
1: Random seed for perturbation generation depends on initial date\\
2: Time-dependent perturbations varying sinusoidally within their range &
\tabularnewline

\hline
range\_gkwake&
R&
0.5&
&
Variability range for low level wake drag constant&
\tabularnewline

\hline
range\_gkdrag&
R&
0.04&
&
Variability range for orographic gravity wave drag constant&
\tabularnewline

\hline
range\_gfrcrit&
R&
0.1&
&
Variability range for critical Froude number in SSO scheme&
\tabularnewline

\hline
range\_gfluxlaun&
R&
0.75e-3&
&
Variability range for non-orographic gravity wave launch momentum flux &
\tabularnewline


\hline
range\_zvz0i&
R&
0.25&
m/s&
Variability range for terminal fall velocity of cloud ice&
inwp\_gscp = 1 or 2
\tabularnewline

\hline
range\_rain\_n0fac&
R&
4.&
&
Multiplicative change of intercept parameter of raindrop size distribution&
inwp\_gscp = 1 or 2
\tabularnewline

\hline
range\_entrorg&
R&
0.2e-3&
1/m&
Variability range for entrainment parameter in convection scheme & 
inwp\_convection = 1
\tabularnewline

\hline
range\_rdepths&
R&
5.e3&
Pa&
Variability range for maximum allowed shallow convection depth & 
inwp\_convection = 1
\tabularnewline

\hline
range\_rprcon&
R&
0.25e-3&
&
Variability range for tuning parameter controlling conversion of cloud water into precipitation & 
inwp\_convection = 1
\tabularnewline


\hline
range\_capdcfac\_et&
R&
0.75&
&
Maximum fraction of CAPE diurnal cycle correction applied in the extratropics &
icapdcycl = 3
\tabularnewline

\hline
range\_rhebc&
R&
0.05&
&
Variability range for RH threshold for the onset of evaporation below cloud base & 
inwp\_convection = 1
\tabularnewline

\hline
range\_texc&
R&
0.05&
K&
Variability range for temperature excess value in test parcel ascent & 
inwp\_convection = 1
\tabularnewline

\hline
range\_qexc&
R&
0.005&
&
Variability range for mixing ratio excess value in test parcel ascent & 
inwp\_convection = 1
\tabularnewline

\hline
range\_box\_liq&
R&
0.01&
&
Variability range for box width scale of liquid clouds in cloud cover scheme &
inwp\_cldcover = 1
\tabularnewline

\hline
range\_box\_liq\_asy&
R&
0.25&
&
Variability range for asymmetry factor for sub-grid scale liquid cloud distribution &
inwp\_cldcover = 1
\tabularnewline

\hline
range\_thicklayfac&
R&
0.0025&
&
Variability range for thick-layer correction factor for sub-grid scale liquid cloud distribution &
inwp\_cldcover = 1
\tabularnewline

\hline
range\_tkhmin&
R&
0.2&
m$^2$s$^{-1}$&
Variability range for minimum vertical diffusion for heat/moisture &
inwp\_turb = 1
\tabularnewline

\hline
range\_tkmmin&
R&
0.2&
m$^2$s$^{-1}$&
Variability range for minimum vertical diffusion for momentum &
inwp\_turb = 1
\tabularnewline

\hline
range\_turlen&
R&
150&
m&
Variability range for turbulent mixing length &
inwp\_turb = 1
\tabularnewline

\hline
range\_a\_hshr&
R&
1&
&
Variability range for scaling factor for extended horizontal shear term&
inwp\_turb = 1
\tabularnewline

\hline
range\_a\_stab&
R&
1&
&
Variability range for stability correction&
inwp\_turb = 1
\tabularnewline

\hline
range\_c\_diff&
R&
2.0&
&
Range for multiplicative change of length scale factor for vertical diffusion&
inwp\_turb = 1
\tabularnewline

\hline
range\_q\_crit&
R&
1&
&
Variability range for critical value for normalized supersaturation in turbulent cloud scheme &
inwp\_turb = 1
\tabularnewline

\hline
range\_tkred\_sfc&
R&
4.0&
&
Range for multiplicative change of reduction of minimum diffusion coefficients near the surface &
inwp\_turb = 1
\tabularnewline

\hline
range\_rlam\_heat&
R&
8.0&
&
Variability range (additive) of laminar transport resistance parameter &
inwp\_turb = 1
\tabularnewline

\hline
range\_charnock&
R&
1.5&
&
Variability range (multiplicative!) of upper and lower bound of wind-speed dependent Charnock parameter &
inwp\_turb = 1
\tabularnewline

\hline
range\_minsnowfrac&
R&
0.1&
&
Variability range for minimum value to which snow cover fraction is artificially reduced in case of melting snow & 
idiag\_snowfrac = 20
\tabularnewline

\hline
range\_c\_soil&
R&
0.25&
&
Variability range for evaporating fraction of soil & 
\tabularnewline

\hline
range\_cwimax\_ml&
R&
2.0&
&
Variability range for capacity of interception storage (multiplicative) & 
\tabularnewline

\hline
range\_lhn\_coef &
R&
0.0&
&
Scaling factor for latent heat nudging increments & 
latent heat nudging; i.e. ldass\_lhn = .true.
\tabularnewline

\hline
range\_lhn\_artif\_fac &
R&
0.0&
&
Scaling factor for artificial heating profile in latent heat nudging & 
latent heat nudging; i.e. ldass\_lhn = .true.
\tabularnewline

\hline
range\_lhn\_down &
R&
0.0&
&
 Lower limit for reduction of pre-existing latent heating in LHN & 
latent heat nudging; i.e. ldass\_lhn = .true.
\tabularnewline

\hline
range\_lhn\_up &
R&
0.0&
&
Upper limit for increase of pre-existing latent heating in LHN & 
latent heat nudging; i.e. ldass\_lhn = .true.
\tabularnewline



\hline
range\_z0\_lcc&
R&
0.25&
&
Variability range (relative change) of roughness length attributed to each landuse class &
\tabularnewline

\hline
range\_rootdp&
R&
0.2&
&
Variability range (relative change) of root depth attributed to each landuse class &
\tabularnewline

\hline
range\_rsmin&
R&
0.2&
&
Variability range (relative change) of minimum stomata resistance attributed to each landuse class &
\tabularnewline

\hline
range\_laimax&
R&
0.15&
&
Variability range (relative change) of leaf area index (maximum of annual cycle) attributed to each landuse class &
\tabularnewline


\hline
stdev\_sst\_pert&
R&
0.&
K&
Inserting the standard deviation of SST perturbations (present in the model input data) activates 
a correction factor for the saturation vapor pressure over oceans,
which compensates the systematic increase of evaporation due to the SST perturbations.
&
\tabularnewline

\end{longtab}


Defined and used in: \verb+src/namelists/mo_ensemble_pert_nml.f90+

%------------------------------------------------------------------------------
% gribout_nml:
%------------------------------------------------------------------------------
\subsection{gribout\_nml}
\begin{longtab}

%\hline
preset&
C& ''determ\dots'' & &
Setting this different to ''none'' enables a couple of defaults for
the other \texttt{gribout\_nml} namelist parameters. If, additionally, the
user tries to set any of these other parameters to a conflicting
value, an error message is thrown. 
Possible values are ''none'', ''deterministic'', ''ensemble''.
&
filetype=2
\tabularnewline

%\hline
tablesVersion&
I& 15 & &
Main switch for Table version &
filetype=2
\tabularnewline

%\hline
backgroundProcess&
I& 0 & &
Background process \\
- GRIB2 code table backgroundProcess.table &
filetype=2
\tabularnewline

%\hline
generatingCenter&
I& -1 & &
Output generating center. If this key is not set, center information is taken from the grid file\\
DWD: 78 \\
MPIMET: 98 \\
ECMWF: 98 &
filetype=2
\tabularnewline

%\hline
generatingSubcenter&
I& -1 & &
Output generating Subcenter. If this key is not set, subcenter information is taken from the grid file\\
DWD: 255\\
MPIMET: 232\\
ECMWF: 0 &
filetype=2
\tabularnewline

%\hline
generatingProcess\par Identifier&
I(n\_dom)& 1 & &
generating Process Identifier \\
- GRIB2 code table generatingProcessIdentifier.table &
filetype=2
\tabularnewline

%\hline
numberOfForecastsIn- Ensemble&
I& -1 & &
Local definiton for ensemble products,
(only set if value changed from default) &
filetype=2
\tabularnewline

%\hline
perturbationNumber&
I& -1 & &
Local definiton for ensemble products,
(only set if value changed from default) &
filetype=2
\tabularnewline

%\hline
productionStatusOfPro-\par cessedData&
I& 1 & &
Production status of data\\
- GRIB2 code table 1.3 &
filetype=2
\tabularnewline

%\hline
significanceOfReferenceTime &
I& 1& &
Significance of reference time\\
- GRIB2 code table 1.2 &
filetype=2
\tabularnewline

%\hline
typeOfEnsembleForecast&
I& -1 & &
Local definiton for ensemble products
(only set if value changed from default) &
filetype=2
\tabularnewline

%\hline
typeOfGeneratingProcess&
I& -1 & &
Type of generating process \\
- GRIB2 code table 4.3 &
filetype=2
\tabularnewline

%\hline
typeOfProcessedData&
I& -1 & &
Type of data \\
- GRIB2 code table 1.4 &
filetype=2
\tabularnewline

%\hline
localDefinitionNumber&
I& -1 & &
local Definition Number\\
- GRIB2 code table grib2LocalSectionNumber.78.table &
filetype=2
\tabularnewline

%\hline
localNumberOfExperiment&
I& 1 & &
local Number of Experiment &
filetype=2
\tabularnewline

%\hline
localTypeOfEnsemble-\par Forecast&
I& -1 & &
Local definiton for ensemble products
(only set if value changed from default) &
filetype=2
\tabularnewline

typeOfGrib2TileTemplate&
C& ``DWD'' &&
type of GRIB2 templates which are used for decoding tiled surface fields\\
WMO: official WMO templates (55, 59)\\
DWD: local DWD templates (40455, 40456)&
filetype = 2
\tabularnewline

lspecialdate\_invar&
L& .FALSE. &&
Special reference date for invariant and climatological fields\\
.TRUE.: set special reference date 0001-01-01, 00:00\\
.FASLE.: no special reference date &
filetype = 2
\tabularnewline

%\hline
ldate\_grib\_act&
L& .TRUE. & &
GRIB creation date\\
.TRUE.: add creation date\\
.FALSE.: add dummy date &
filetype=2
\tabularnewline

%\hline
lgribout\_24bit&
L& .FALSE. & &
If TRUE, write thermodynamic fields $\rho$, $\theta_{v}$, $T$, $p$ with 24bit precision instead of 16bit &
filetype=2
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_gribout_nml.f90+


%-------------------------------------------------------------------
% grid_nml: horizontal grid
%-------------------------------------------------------------------
\subsection{grid\_nml}
\begin{longtab}


%\hline
lplane &
L & .FALSE.& &
planar option&
\tabularnewline

%\hline
is\_plane\_torus &
L & .FALSE.& &
f-plane approximation on triangular grid &
\tabularnewline

%\hline
corio\_lat &
R & 0.0& deg&
Center of the f-plane is located at this geographical latitude &
lplane=.TRUE. and is\_plane\_torus=.TRUE.
\tabularnewline

%\hline
grid\_angular \_velocity &
R & Earth's & rad/s &
The angular velocity in rad per sec. &
\tabularnewline

%%\hline
%start\_lev &
%I & 4& &
%coarsest bisection level&
%\tabularnewline

%\hline
\textbf{l\_scm\_mode} &
L & .FALSE.& &
Single Column Model (SCM) mode. Can be extended to equivalent LES and CRM setups
by setting ldynamics=.TRUE. . & is\_plane\_torus=.TRUE.
\tabularnewline

%\hline
\textbf{l\_limited\_area} &
L & .FALSE.& & &
\tabularnewline

%\hline
grid\_rescale\_factor &
R & 1.0   &  &
Defined as the inverse of the reduced-size earth reduction factor $X$. 
Choose \texttt{grid\_rescale\_factor $<$ 1} for a reduced-size earth.\\
&
\tabularnewline

%\hline
lrescale\_timestep &
L & .FALSE.   &  &
if .TRUE. then the timestep will be multiplied by \texttt{grid\_rescale\_factor}.\\
&
\tabularnewline

%\hline
lrescale\_ang\_vel &
L & .FALSE.   &  &
if .TRUE. then the angular velocity will be divided by \texttt{grid\_rescale\_factor}.\\
&
\tabularnewline

%\hline
\textbf{lfeedback} &
L(n\_dom) & .TRUE.& &
Specifies if feedback to parent grid is performed. Setting lfeedback(1)=.false. turns off feedback
for all nested domains; to turn off feedback for selected nested domains, set lfeedback(1)=.true.
and set ``.false." for the desired model domains&
n\_dom$>$1
\tabularnewline

%\hline
ifeedback\_type &
I & 2& &
1: incremental feedback \\ 2: relaxation-based feedback \\
Note: vertical nesting requires option 2 to run numerically stable over longer time periods & n\_dom$>$1
\tabularnewline

%\hline
start\_time &
R(n\_dom) & 0.   & s &
Time when a nested domain starts to be active. Relative time w.r.t.\ experiment start date (\texttt{ini\_datetime\_string} / \texttt{experimentStratDate}).\\
(namelist entry is ignored for the global domain)
& n\_dom$>$1
\tabularnewline

%\hline
end\_time &
R(n\_dom) & 1.E30  & s &
Time when a nested domain terminates. Relative time w.r.t.\ experiment start date (\texttt{ini\_datetime\_string} / \texttt{experimentStratDate}).\\ 
(namelist entry is ignored for the global domain)
& n\_dom$>$1
\tabularnewline

%\hline
patch\_weight &
R(n\_dom) & 0.& &
If patch\_weight is set to a value $>$ 0 for any of the first level child patches,
processor splitting will be performed, i.e. every of the first level child patches
gets a subset of the total number or processors corresponding to its patch\_weight.
A value of 0. corresponds to exactly 1 processor for this patch, regardless of
the total number of processors. For the root patch and higher level childs,
patch\_weight is not used. However, patch\_weight must be set to 0 for these patches
to avoid confusion.&
n\_dom$>$1
\tabularnewline

%\hline
lredgrid\_phys &
L(n\_dom) & .FALSE.& &
If set to .true. radiation is calculated on a reduced grid (= one grid level higher) \\
Needs to be set for each model domain separately; for the global domain, the file containing the 
reduced grid must be specified in the variable ``radiation\_grid\_filename" &
\tabularnewline

%\hline
\textbf{dynamics\_grid\_ filename} &
C & & &
Array of the grid filenames to be used by the dycore.
May contain the keyword \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}. &
\tabularnewline

%\hline
\textbf{dynamics\_parent\_ grid\_id} &
I(n\_dom) & $i-1$& &
Array of the indexes of the parent grid filenames, as described by the dynamics\_grid\_filename array.
Indexes start at 1, an index of 0 indicates no parent.
%
Specification of this namelist parameter is only required if more than
one domain is in use \emph{and} the grid files are rather old
s.t. they do not contain a \texttt{uuidOfParHGrid} global
  attribute.
 &
\tabularnewline

%\hline
\textbf{radiation\_grid\_ filename} &
C & & &
Grid filename to be used for the radiation model on the coarsest grid.
Filled only if the radiation grid is different from the dycore grid.
May contain the keyword \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}.
& lredgrid\_phys=.TRUE.
\tabularnewline

%\hline
create\_vgrid &
L & .FALSE. & &
.TRUE.: Write vertical grid files containing (\texttt{vct\_a}, \texttt{vct\_b}, \texttt{z\_ifc}, and \texttt{z\_ifv}. &
\tabularnewline

%\hline
vertical\_grid\_filename &
C(n\_dom) & & &
Array of filenames. These files contain the vertical grid definition (\texttt{vct\_a}, \texttt{vct\_b}, \texttt{z\_ifc}). 
If empty, the vertical grid is created within ICON during the setup phase.&
\tabularnewline

%\hline
use\_duplicated\_\par connectivity &
L & .TRUE. & &
if .TRUE., the zero connectivity is replaced by the last non-zero value&
\tabularnewline

%\hline
use\_dummy\_cell\_closure &
L & .FALSE. & &
if .TRUE. then create a dummy cell and connect it to cells and edges with no neighbor&
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_grid_nml.f90+



%-------------------------------------------------------------------
% gridref_nml: grid refinement and nesting
%-------------------------------------------------------------------
\subsection{gridref\_nml}
\begin{longtab}

%\hline
grf\_intmethod\_c&
I& 2& &
Interpolation method for grid refinement (cell-based dynamical variables):&
n\_dom$>$1\tabularnewline
& & & & 1: parent-to-child copying & \tabularnewline
& & & & 2: gradient-based interpolation & \tabularnewline

%\hline
grf\_intmethod\_ct&
I& 2& &
Interpolation method for grid refinement (cell-based tracer variables):&
n\_dom$>$1\tabularnewline
& & & & 1: parent-to-child copying & \tabularnewline
& & & & 2: gradient-based interpolation & \tabularnewline

%\hline
grf\_intmethod\_e&
I& 6& &
Interpolation method for grid refinement (edge-based variables):&
n\_dom$>$1\tabularnewline
& & & & 1: inverse-distance weighting (IDW) & \tabularnewline
& & & & 2: RBF interpolation & \tabularnewline
& & & & 3: combination gradient-based / IDW & \tabularnewline
& & & & 4: combination gradient-based / RBF & \tabularnewline
& & & & 5/6: same as 3/4, respectively, but direct interpolation of mass fluxes along nest interface edges & \tabularnewline

%\hline
grf\_velfbk&
I& 1& & Method of velocity feedback:&
n\_dom$>$1\tabularnewline
& & & & 1: average of child edges 1 and 2 & \tabularnewline
& & & & 2: 2nd-order method using RBF interpolation & \tabularnewline

%\hline
grf\_scalfbk&
I& 2& & Feedback method for dynamical scalar variables ($T, p_{sfc}$):&
n\_dom$>$1\tabularnewline
& & & & 1: area-weighted averaging & \tabularnewline
& & & & 2: bilinear interpolation & \tabularnewline

%\hline
grf\_tracfbk&
I& 2& & Feedback method for tracer variables:&
n\_dom$>$1\tabularnewline
& & & & 1: area-weighted averaging & \tabularnewline
& & & & 2: bilinear interpolation & \tabularnewline

%\hline
grf\_idw\_exp\_e12&
R& 1.2& &
exponent of generalized IDW function for child edges 1/2 &
n\_dom$>$1\tabularnewline

%\hline
grf\_idw\_exp\_e34&
R& 1.7& &
exponent of generalized IDW function for child edges 3/4 &
n\_dom$>$1\tabularnewline

%\hline
rbf\_vec\_kern\_grf\_e&
I& 1& &
RBF kernel for grid refinement (edges):&
n\_dom$>$1\tabularnewline
& & & & 1: Gaussian & \tabularnewline
& & & & 2: $1/(1+r^{2})$ & \tabularnewline
& & & & 3: inverse multiquadric & \tabularnewline

%\hline
rbf\_scale\_grf\_e&
R(n\_dom)& 0.5& &
RBF scale factor for grid refinement (lateral boundary interpolation to edges). Refers to the
respective parent domain and thus does not need to be specified for the innermost nest. Lower values
than the default of 0.5 are needed for child mesh sizes less than about 500 m.&
n\_dom$>$1\tabularnewline

%\hline
denom\_diffu\_t&
R& 135& &
Deniminator for lateral boundary diffusion of temperature&
n\_dom$>$1\tabularnewline

%\hline
denom\_diffu\_v&
R& 200& &
Deniminator for lateral boundary diffusion of velocity&
n\_dom$>$1\tabularnewline

%\hline
l\_mass\_consvcorr&
L& .FALSE.& &
.TRUE.: Apply mass conservation correction in feedback routine &
n\_dom$>$1\tabularnewline

%\hline
l\_density\_nudging &
L& .FALSE.& &
.TRUE.: Apply density nudging near lateral nest boundary if grf\_intmethod\_e $\le$ 4&
n\_dom$>$1 .AND. lfeedback = .TRUE. \tabularnewline

\hline
fbk\_relax\_timescale &
R & 10800& &
Relaxation time scale for feedback &
n\_dom>1 .AND. lfeedback = .TRUE. .AND. ifeedback\_type = 2 \tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_gridref_nml.f90+




%------------------------------------------------------------------------------
% initicon_nml
%------------------------------------------------------------------------------
\subsection{initicon\_nml}

\begin{longtab}

%\hline
\textbf{init\_mode}&
I & 2& &
1: MODE\_DWDANA\\ \quad start from DWD analysis or FG \\
2: MODE\_IFSANA\\ \quad start from IFS analysis \\
3: MODE\_COMBINED\\ \quad IFS atm + ICON/GME soil \\
4: MODE\_COSMO\\ \quad start from prognostic set of variables as used by COSMO \\
5: MODE\_IAU\\ \quad start from DWD analysis with incremental analysis update. Extension of MODE\_IAU\_OLD including snow increments\\
6: MODE\_IAU\_OLD\\ \quad start from DWD analysis with incremental analysis update. NOTE: Extension of mode MODE\_DWDANA\_INC 
   including W\_SO increments. \\
7: MODE\_ICONVREMAP\\ \quad start from DWD first guess with subsequent vertical remapping (work in progress; so far, changing
the number of model levels does not yet work) &
\tabularnewline

dt\_iau&
R & 10800 & s &
Duration of incremental analysis update (IAU) procedure. Start time for IAU is the actual model start time (see below). &
init\_mode=5,6
\tabularnewline

dt\_shift&
R & 0 & s &
Time by which the actual model start time is shifted ahead of the nominal date. 
The latter is given by either \texttt{ini\_datetime\_string} or \texttt{experimentStartDate}.
\texttt{dt\_shift} must be NEGATIVE, usually $- 0.5$ dt\_iau. &
init\_mode=5,6
\tabularnewline

iterate\_iau&
L & .FALSE. &  &
If .TRUE., the IAU phase is calculated twice with halved dt\_shift in first cycle (allows
writing a fully initialized analysis at the nominal initialization date while using
a centered IAU window for the forecast). &
init\_mode=5,6 and dt\_shift $<$ 0
\tabularnewline

start\_time\_avg\_fg&
R & 0 & s &
Start time for calculating temporally averaged first guess output for data assimilation. &
\tabularnewline

end\_time\_avg\_fg&
R & 0 & s &
End time for calculating temporally averaged first guess output for data assimilation. \\
Setting end\_time\_avg\_fg $>$ start\_time\_avg\_fg activates the averaging &
\tabularnewline

interval\_avg\_fg&
R & 0 & s &
Corresponding averaging interval. Note that end\_time\_avg\_fg $-$ start\_time\_avg\_fg must not be smaller than the averaging interval &
\tabularnewline

rho\_incr\_filter\_wgt &
R & 0 &  &
Vertical filtering weight on density increments &
init\_mode=5,6
\tabularnewline

niter\_diffu &
I & 10 &  &
Number of diffusion iterations applied on wind increments &
init\_mode=5,6
\tabularnewline

niter\_divdamp &
I & 25 &  &
Number of divergence damping iterations applied on wind increments &
init\_mode=5,6
\tabularnewline

%\hline
type\_iau\_wgt&
I & 1 &  &
Weighting function for performing IAU\\
1: Top-Hat\\
2: SIN2 &
init\_mode=5,6
\tabularnewline

%\hline
\textbf{nlevsoil\_in}&
I & 4 & &
number of soil levels of input data&
init\_mode=2
\tabularnewline

%\hline
zpbl1 &
R & 500.0& m&
bottom height (AGL) of layer used for gradient computation&
\tabularnewline

%\hline
zpbl2 &
R & 1000.0& m&
top height (AGL) of layer used for gradient computation&
\tabularnewline

%\hline
lread\_ana&
L & .TRUE.& &
If .FALSE., ICON is started from first guess only. Analysis field is not required, and skipped if provided. &
init\_mode=1,3
\tabularnewline

%\hline
use\_lakeiceana&
L & .FALSE.& &
If .TRUE., analysis data for sea ice fraction are also used for freshwater lakes (for the time being restricted to the Great Lakes; extension to other
lakes needs to be tested) &
init\_mode=5,6
\tabularnewline

%\hline
qcana\_mode&
I & 0 & &
If $>$ 0, analysis increments for cloud water concentration are read and processed. \\
1: QC increments are added to QV increments \\
2: QC increments are added to QC if clouds are present, otherwise to QV increments &
init\_mode=5
\tabularnewline

%\hline
qiana\_mode&
I & 0 & &
1: analysis increments for cloud ice concentration are read and processed.  &
init\_mode=5
\tabularnewline

%\hline
qrsgana\_mode&
I & 0 & &
1: analysis increments for rain, snow and graupel mass concentrations are read and processed. In case of the 2-moment microphysics (inwp\_gscp=4,5,6), also hail mass concentration increments are processed. &
init\_mode=5
\tabularnewline

% \hline
qnxana\_2mom\_mode&
I & 0 & &
Only effective in case of 2-moment microphysics (inwp\_gscp=4,5,6).
Affects the analysis increments of the the number concentrations of those hydrometeors in IAU which have been selected by the settings of qcana\_mode, qiana\_mode and qrsgana\_mode: \\
0: analysis increments are not taken from analysis files but diagnosed based on the mass concentrations (from fg) and mass increments.  \\
1: analysis increments are taken from the analysis files. If missing for a specific hydrometeor type, they are diagnosed similar to option 0 as a fallback. &
init\_mode=5, inwp\_gscp=4,5,6
\tabularnewline


icpl\_da\_sfcevap&
I & 0 & &
Coupling between data assimilation and model parameters controlling surface evaporation (bare soil and plants). 
Choosing values $>$ 0 requires itype\_vegetation\_cycle=2 (in extpar\_nml) :\\
0: off \\
1: use time-filtered T2M bias provided by the soil moisture analysis \\
2: use in addition a time-filtered RH increment at the lowest model level (requires assimilation of RH2M)  \\
3: as option 2, but use a time-filtered temperature increment at the lowest model level instead of the T2M bias provided by the SMA 
(requires assimilation of T2M and RH2M)&
init\_mode=5
\tabularnewline

icpl\_da\_snowalb&
I & 0 & &
Coupling between temperature bias inferred from data assimilation and snow albedo\\
0: off \\
1: on; requires assimilation of T2M and cycling of a time-filtered temperature increment at the lowest model level \\
2: as option 1, but additional adaptation of sea-ice albedo &
init\_mode=5; icpl\_da\_sfcevap=3
\tabularnewline


icpl\_da\_skinc&
I & 0 & &
Coupling between bias of diurnal temperature amplitude inferred from data assimilation and skin conductivity\\
0: off \\
1: on; requires assimilation of T2M and cycling of a time-filtered weighted (with cosine of local time) 
temperature increment at the lowest model level  \\
2: as option 1, but additional adaptation of soil heat conductivity and heat capacity &
init\_mode=5
\tabularnewline


adjust\_tso\_tsnow&
L & .FALSE. & &
If .TRUE., apply T increments for lowest model level also to snow and upper soil layers (full to upper 3 cm, half to 3-9 cm layer).
Requires assimilation of T2M to be meaningful &
init\_mode=5
\tabularnewline



%\hline
lconsistency\_checks&
L & .TRUE.& &
If .FALSE., consistency checks for Analysis and First Guess fields are skipped. On default, checks are performed for 
\emph{uuidOfHGrid} and \emph{validity time}. &
init\_mode=1,3,4,5,6
\tabularnewline

%\hline
l\_coarse2fine\_mode&
L(n\_dom) & .FALSE.& &
If true, apply corrections for coarse-to-fine mesh interpolation to wind and temperature &
\tabularnewline

%\hline
lp2cintp\_incr&
L(n\_dom) & .FALSE.& &
If true, interpolate atmospheric data assimilation increments from parent domain. \\
Can be specified separately for each nested domain; setting the first (global) entry to true activates
the interpolation for all nested domains. & init\_mode=5,6
\tabularnewline

%\hline
lp2cintp\_sfcana&
L(n\_dom) & .FALSE.& &
If true, interpolate atmospheric surface analysis data from parent domain. \\
Can be specified separately for each nested domain; setting the first (global) entry to true activates
the interpolation for all nested domains. & init\_mode=5,6
\tabularnewline

%\hline
ltile\_init&
L & .FALSE.& &
True: initialize tiled surface fields from a first guess coming from a run without tiles. \\
Along coastlines and lake shores, a neighbor search is executed to fill the variables on previously non-existing
land or water points with reasonable values. Should be combined with ltile\_coldstart = .TRUE. & init\_mode=1,5,6
\tabularnewline

%\hline
ltile\_coldstart&
L & .FALSE.& &
If true, tiled surface fields are initialized with tile-averaged fields from a previous run with tiles. \\
A neighbor search is applied to subgrid-scale ocean points for SST and sea-ice fraction. & init\_mode=1,5,6
\tabularnewline

%\hline
lvert\_remap\_fg&
L & .FALSE.& &
If true, vertical remapping is applied to the atmospheric first-guess fields, whereas the analysis increments
remain unchanged. The number of model levels must be the same for input and output fields, and the z\_ifc 
(alias HHL) field pertaining to the input fields must be appended to the first-guess file. & init\_mode=5,6
\tabularnewline


%\hline
\textbf{ifs2icon\_filename}&
C &
&
&
Filename of IFS2ICON input file, default
''\texttt{<path>ifs2icon\_R<nroot>B<jlev>\_DOM <idom>.nc}''.
May contain the keywords \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}, as well as \texttt{nroot}, \texttt{nroot0}, \texttt{jlev},
and \texttt{idom} defining the current patch. & init\_mode=2
\tabularnewline

%\hline
\textbf{dwdfg\_filename}&
C &
&
&
Filename of DWD first-guess input file, default
''\texttt{<path>dwdFG\_R<nroot>B<jlev>\_DOM <idom>.nc}''.
May contain the keywords \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}, as well as \texttt{nroot}, \texttt{nroot0}, \texttt{jlev},
and \texttt{idom} defining the current patch. & init\_mode=1,3,5,6
\tabularnewline

%\hline
\textbf{dwdana\_filename}&
C &
&
&
Filename of DWD analysis input file, default
''\texttt{<path>dwdana\_R<nroot>B<jlev>\_DOM
<idom>.nc}''.
May contain the keywords \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}, as well as \texttt{nroot}, \texttt{nroot0}, \texttt{jlev},
and \texttt{idom} defining the current patch. & init\_mode=1,3,5,6
\tabularnewline

%\hline
\textbf{filetype} &
I& -1 (undef.)& &
One of CDI's FILETYPE\_XXX constants.
Possible values: 2 (=FILETYPE\_GRB2), 4 (=FILETYPE\_NC2).
If this parameter has not been set, we try to determine the file type by its extension "*.grb*" or ".nc".
&
\tabularnewline


%\hline
check\_fg(jg)\%list &
C(:)& & &
In ICON a small subset of first guess input fields is declared 'optional', meaning that they are read in 
if present, but they are not mandatory to start the model. By adding optional fields to this list, 
they become mandatory for domain \texttt{jg}, such that the model aborts if any of them is missing. 
This list may include a subset of the optional first guess fields, or even the entire set of first 
guess fields. On default this list is empty, such that optional fields experience a cold-start 
initialization if they are missing and the model does not abort.
& init\_mode=1,5,6
\tabularnewline

%\hline
check\_ana(jg)\%list &
C(:)& & &
List of mandatory analysis fields for domain \texttt{jg} that must be present in the analysis file. If these fields are not found, 
the model aborts. For all other analysis fields, the FG-fields will serve as fallback position.
& init\_mode=1,5,6
\tabularnewline

%\hline
\textbf{ana\_varnames\_map\_ file} &
C& & &
Dictionary file which maps internal variable names onto
GRIB2 shortnames or NetCDF var names.
This is a text file with two columns separated by whitespace, where
left column: ICON variable name, right column: GRIB2 short name or NetCDF var name.
&
\tabularnewline

%\hline
itype\_vert\_expol&
I & 1 & &
Type of vertical extrapolation of initial data: \\
1: Linear extrapolation (standard) \\
2: Blend of linear extrapolation and simple climatology. 
Intended for upper-atmosphere simulations and specific settings 
can be found in upatmo\_nml. Requires: 
ivctype = 2, 12; l\_limited\_area = .FALSE.
& 
\tabularnewline


\end{longtab}

Defined and used in: \verb+src/namelists/mo_initicon_nml.f90+


%------------------------------------------------------------------------------
% interpol_nml: horizontal interpolation/reconstruction
%------------------------------------------------------------------------------
\subsection{interpol\_nml}
\begin{longtab}

%\hline
l\_intp\_c2l&
L& .TRUE.& &
DEPRECATED &
\tabularnewline

%\hline
l\_mono\_c2l&
L& .TRUE.& &
Monotonicity can be enforced by demanding that the interpolated
value is not higher or lower than the stencil point values.&
\tabularnewline

%\hline
llsq\_high\_consv&
L& .TRUE.& &
conservative (T) or non-conservative (F) least-squares reconstruction for high order transport&
\tabularnewline

%\hline
lsq\_high\_ord&
I& 3& &
polynomial order of high order least-squares reconstruction for tracer transport& ihadv\_tracer > 2 \tabularnewline
& & & & 1: linear & \tabularnewline
& & & & 2: quadratic & \tabularnewline
& & & & 3: cubic & \tabularnewline

%\hline
llsq\_lin\_consv&
L& .FALSE.& &
conservative (T) or non-conservative (F) least-squares reconstruction for 2nd order (linear) transport&
\tabularnewline

%\hline
nudge\_efold\_width&
R& 2.0& &
e-folding width (in units of cell rows) for lateral boundary nudging coefficient. This switch and the following two pertain 
to one-way nesting and limited-area mode &
\tabularnewline

%\hline
nudge\_max\_coeff&
R& 0.02& &
Maximum relaxation coefficient for lateral boundary nudging. Recommended range of values for limited-area mode is 0.06 -- 0.075.&
\tabularnewline

%\hline
nudge\_zone\_width&
I& 8& &
Total width (in units of cell rows) for lateral boundary nudging zone. For the limited-area mode, a minimum of 10 is recommended.
If < 0 the patch boundary\_depth\_index is used. &
\tabularnewline

%\hline
rbf\_dim\_c2l&
I& 10& &
stencil size for direct lon-lat interpolation:
 4 = nearest neighbor,
13 = vertex stencil,
10 = edge stencil.&
\tabularnewline

%\hline
rbf\_scale\_mode\_ll&
I& 2& &
Specifies, how the RBF shape parameter is
determined for lon-lat interpolation.\\
1 : lookup table based on grid level\\
2 : determine automatically.\\
So far, this routine only estimates the smallest value for the shape parameter for which the Cholesky is likely to succeed in floating point arithmetic.
3 : explicitly set shape parameter in each output namelist (namelist parameter \texttt{output\_nml::rbf\_scale}, p.~\pageref{output_nml__rbf_scale}).
&
\tabularnewline

%\hline
rbf\_vec\_kern\_c&
I& 1& &
Kernel type for reconstruction at cell centres:& \tabularnewline
& & & & 1: Gaussian & \tabularnewline
& & & & 3: inverse multiquadric & \tabularnewline

%\hline
rbf\_vec\_kern\_e&
I& 3& &
Kernel type for reconstruction at edges:& \tabularnewline
& & & & 1: Gaussian & \tabularnewline
& & & & 3: inverse multiquadric & \tabularnewline

%\hline
rbf\_vec\_kern\_ll&
I& 1& &
Kernel type for reconstruction at lon-lat-points:& \tabularnewline
& & & & 1: Gaussian & \tabularnewline
& & & & 3: inverse multiquadric & \tabularnewline

%\hline
rbf\_vec\_kern\_v&
I& 1& &
Kernel type for reconstruction at vertices:& \tabularnewline
& & & & 1: Gaussian & \tabularnewline
& & & & 3: inverse multiquadric & \tabularnewline

%\hline
rbf\_vec\_scale\_c&
R(n\_dom)& resolution-dependent& &
Scale factor for RBF reconstruction at cell centres&
\tabularnewline

%\hline
rbf\_vec\_scale\_e&
R(n\_dom)& resolution-dependent& &
Scale factor for RBF reconstruction at edges&
\tabularnewline

%\hline
rbf\_vec\_scale\_v&
R(n\_dom)& resolution-dependent& &
Scale factor for RBF reconstruction at vertices&
\tabularnewline

%\hline
support\_baryctr\_intp &
L& .FALSE. & &
Flag. If .FALSE. barycentric interpolation is replaced by a
fallback interpolation.&
\tabularnewline

%\hline
lreduced\_nestbdry\_stencil &
L& .FALSE. & &
Flag. If .TRUE. then the nest boundary points are taken out from
the lat-lon interpolation stencil.&
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_interpol_nml.f90+


%------------------------------------------------------------------------------
% io_nml:
%------------------------------------------------------------------------------
\subsection{io\_nml}
\begin{longtab}

%\hline
lkeep\_in\_sync&
L& .FALSE. & &
Sync output stream with file on disk after each timestep&
\tabularnewline

%\hline
dt\_diag&
R& 86400. & s&
diagnostic integral output interval &
\texttt{run\_nml:output = "totint"}
\tabularnewline


%\hline
\textbf{dt\_checkpoint}&
R& 0 & s&
Time interval for writing restart files.
Note that if the value of dt\_checkpoint resulting from
model default or user's specification is longer than time\_nml:dt\_restart,
it will be reset (by the model) to dt\_restart so
that at least one restart file is generated during the restart cycle.
&
\texttt{output /= "none"} (\texttt{run\_nml})
\tabularnewline

%\hline
inextra\_2d&
I &
0&&
Number of extra 2D Fields for diagnostic/debugging output. &
dynamics\_nml:iequations = 3
\tabularnewline
%\hline
inextra\_3d&
I &
0&&
Number of extra 3D Fields for diagnostic/debugging output. &
dynamics\_nml:iequations = 3
\tabularnewline

%\hline
lflux\_avg&
L& .TRUE. & &
if .FALSE. the output fluxes are accumulated  \\
 from the beginning of the run                \\
if .TRUE. the output fluxes are average values\\
 from the beginning of the run, except of     \\
 TOT\_PREC that would be accumulated &
iequations=3\\
iforcing=3
\tabularnewline

%\hline
itype\_pres\_msl&
I& 1 & &
Specifies method for computation of mean sea level pressure (and geopotential at
pressure levels below the surface). \\
1: GME-type extrapolation, \\
2: stepwise analytical integration, \\
3: current IFS method, \\
4: IFS method with consistency correction \\
5: New DWD method constituting a mixture between IFS and old GME method
(departure level for downward extrapolation between 10 m and 150 m AGL depending on elevation)
&
\tabularnewline

%\hline
itype\_rh&
I& 1 & &
Specifies method for computation of relative humidity \\
1: WMO-type: water only (e\_s=e\_s\_water), \\
2: IFS-type: mixed phase (water and ice), \\
3: IFS-type with clipping ($\mathrm{rh}\leq100$)
&
\tabularnewline

%\hline
gust\_interval&
R(n\_dom)& 3600. & s&
Interval over which wind gusts are maximized &
iforcing=3
\tabularnewline

%\hline
celltracks\_interval&
R(n\_dom)& 3600. & s&
Interval over which celltrack variables are maximized (lpi\_max, uh\_max, vorw\_ctmax, w\_ctmax, tcond\_max, tcond10\_max, dbz\_ctmax) &
iforcing=3
\tabularnewline

%\hline
dt\_celltracks&
R(n\_dom)& 120. & s&
Interval at which celltrack variables except lpi (uh, vorw, w\_ct, tcond, tcond10) are calculated to determine uh\_max, vorw\_ctmax, w\_ctmax, tcond\_max, tcond10\_max and dbz\_ctmax  &
iforcing=3
\tabularnewline

%\hline
dt\_lpi&
R(n\_dom)& 180. & s&
Interval at which lpi is calculated for determining lpi\_max &
iforcing=3
\tabularnewline

%\hline
dt\_radar\_dbz&
R(n\_dom)& 120. & s&
Interval at which radar reflectivity is calculated for determining dbz\_ctmax &
iforcing=3
\tabularnewline

%\hline
precip\_interval&
C(n\_dom)& "P01Y" & &
Interval over which precipitation variables are accumulated (rain\_gsp, snow\_gsp, graupel\_gsp, ice\_gsp, hail\_gsp, prec\_gsp, rain\_con, snow\_con, prec\_con, tot\_prec, prec\_con\_rate\_avg, prec\_gsp\_rate\_avg, tot\_prec\_rate\_avg)&
iforcing=3
\tabularnewline

%\hline
maxt\_interval&
C(n\_dom)& "PT06H" & &
Interval over which max/min 2-m temperatures are calculated &
iforcing=3
\tabularnewline

%\hline
runoff\_interval&
C(n\_dom)& "P01Y" & &
Interval over which surface and soil water runoff are accumulated &
iforcing=3
\tabularnewline

%\hline
sunshine\_interval&
C(n\_dom)& "P01Y" & &
Interval over which sunshine duration is accumulated &
iforcing=3
\tabularnewline

%\hline
itype\_dursun&
I &
0&&
Type of sunshine. 0 for WMO standard and for sunshine duration counted if >120W/m$^2$. In the case of type 1 (this is the MeteoSwiss definition) the sunshine duration is counted only if >200W/m$^2$ &
iforcing=3
\tabularnewline

%\hline
echotop\_meta \\[2\baselineskip]
\squeezeme{\hspace*{3ex} This type contains:}\\[\baselineskip]
\squeezeme{\hspace*{3ex} echotop\_meta(1:n\_dom)\%time\_interval}\\[\baselineskip]
\squeezeme{\hspace*{3ex} echotop\_meta(1:n\_dom)\%dbzthresh}   &
\squeezeme{TYPE(n\_dom)} \\[4\baselineskip]
R(1)\\[\baselineskip]
\squeezeme{R(max\_echotop)}\\[2\baselineskip]
\squeezeme{max\_echotop=10}                      &
\,\\[4\baselineskip]
3600.0\\[1\baselineskip]
\squeezeme{(/18.0,25.0,35.0/)}                   &
\,\\[4\baselineskip]
s\\[\baselineskip]
dBZ                                              &
Derived type to define properties of radar reflectivity echotops for each domain.
Two types of echotops are available: minimum pressure ('echotop') and maximum height ('echotopinm') during
a given time interval where a given reflectivity threshold is exeeded. Takes effect
if 'echotop' and/or 'echotopinm' is/are present in the \texttt{ml\_varlist} of any domain-specific namelist \texttt{output\_nml}.\par
The derived type contains the echotop properties which are listed to the left, along with their defaults and units:\par
\textbf{time\_interval:} time interval [s] over which echotops are calculated\\
\textbf{dbzthresh:} list of reflectivity thresholds [dBZ] for which echotops shall be computed\par
You have to specify properties for each domain separately, e.g.\\
\squeezeme{echotop\_meta(1)\%time\_interval=3600.0}\\
\squeezeme{echotop\_meta(1)\%dbzthresh=19.0,25.0,35.0,46.0}\\ 
\squeezeme{echotop\_meta(2)\%time\_interval=1800.0}\\
\squeezeme{echotop\_meta(2)\%dbzthresh=27.0,36.0}\\ 
&
iforcing=3
\tabularnewline

%\hline
 output\_nml\_dict &
C&' '& &
 File containing the mapping of variable names to the internal ICON names.
 May contain the keyword \texttt{<path>} which will be substituted by
 \texttt{model\_base\_dir}.\\
 The format of this file: \\
 One mapping per line, first the name as given in the \texttt{ml\_varlist},
 \texttt{hl\_varlist}, \texttt{pl\_varlist} or \texttt{il\_varlist}
 of the \texttt{output\_nml} namelists, then the internal ICON name,
 separated by an arbitrary number of blanks.
 The line may also start and end with an arbitrary number of blanks.
 Empty lines or lines starting with \# are treated as comments. \\
 Names not covered by the mapping are used as they are.
&
\texttt{output\_nml} namelists
\tabularnewline

%\hline
linvert\_dict&
L& .FALSE. & &
If .TRUE., columns in dictionary file output\_nml\_dict are evaluated in inverse order. \\
This allows using the same dictionary file as for input (ana\_varnames\_map\_file in initicon\_nml). &
\tabularnewline

%\hline
 netcdf\_dict &
C&' '& &
 File containing the mapping from internal names to names written to NetCDF.
 May contain the keyword \texttt{<path>} which will be substituted by
 \texttt{model\_base\_dir}.\\
 The format of this file: \\
 One mapping per line, first the name written to NetCDF,
 then the internal name, separated by an arbitrary number of blanks
 (\emph{inverse to the definition of \emph{output\_nml\_dict}}).
 The line may also start and end with an arbitrary number of blanks.
 Empty lines or lines starting with \# are treated as comments. \\
 Names not covered by the mapping are output as they are. \\
 Note that the specification of output variables, e.\,g.\ in
 \texttt{ml\_varlist}, is independent from this renaming, see
 the namelist parameter \texttt{output\_nml\_dict} for this.
&
\texttt{output\_nml} namelists,
NetCDF output
\tabularnewline

%\hline
lnetcdf\_flt64\_output&
L& .FALSE. & &
If .TRUE. floating point variable output in NetCDF files is written in 64-bit instead of 32-bit accuracy. &
\tabularnewline

%\hline
restart\_file\_type&
I&  4& &
Type of restart file. One of CDI's FILETYPE\_XXX. So far, only 4 (=FILETYPE\_NC2) is allowed&
\tabularnewline

%\hline
restart\_write\_mode&
C& '' '' & &
Restart read/write mode. \\
Allowed settings (character strings!) are listed below.
&
\tabularnewline

%\hline
nrestart\_streams&
I& 1 & &
%
 When using the restart write mode "dedicated procs multifile", it is
 possible to split the restart output into several files, as if
 \verb+nrestart_streams * num_io_procs+ restart processes were
 involved. This speeds up the read-in process, since all the files may
 then be read in parallel.
%
& \verb+restart_write_mode+ = \verb+"dedicated procs multifile"+ 
\tabularnewline

%\hline
lmask\_boundary&
L&  F& &
Set to \texttt{.TRUE.}, if interpolation zone should be masked in triangular output.&
\tabularnewline

%\hline
bvf2\_mode&
I&  1& &
Computation mode for square of Brunt-Vaisala frequency:\\
1: standard, $N^2 = (g / \theta_v) \partial \theta_v / \partial z$ \\
2: hydrostatic, $N^2 = (g / T_v)(\partial T_v / \partial z + g / c_p)$ \\
3: dk1982, standard computation is extended by considering water vapor saturation effects 
(after Durran \& Klemp, 1982, ``On the effects of moisture on the Brunt-Vaisala frequency''). 
&
\tabularnewline

%\hline
parcelfreq2\_mode&
I&  11& &
Computation mode for square of general air parcel oscillation frequency${}^\ast$:\\
11: standard + unrestricted oscillation \\
12: standard + vertical oscillation \\
21: hydrostatic + unrestricted oscillation \\
12: hydorstatic + vertical oscillation \\
Please not: the computation of parcelfreq2 is extremely expensive (runtime and memory), 
use with care! \\
(${}^\ast$ See Ertel, Jaw \& Li, 1941, ``Tensorielle Theorie der Stabilit{\"a}t''.)
&
\tabularnewline

%\hline
\end{longtab}


% -------------------------------------------------------------
\subsubsection{Restart read/write mode:}
% -------------------------------------------------------------

Allowed settings for \texttt{restart\_write\_mode} are:\\[1em]
\texttt{''sync''} \\
\hspace*{2em} 
\parbox{0.8\textwidth}{\raggedright%
  'Old' synchronous mode. PE \# 0 reads and writes restart files. All other PEs have to wait.}\\[1em]
%
\texttt{''async''} \\
\hspace*{2em} 
\parbox{0.8\textwidth}{\raggedright%
  Asynchronous restart writing:
  Dedicated PEs (\texttt{num\_restart\_proc > 0}) write restart files
  while the simulation continues.  Restart PEs can only parallelize
  over different patches. --- Read-in: PE \# 0 reads while other PEs
  have to wait.  } \\[1em]
%
\texttt{''joint procs multifile''} \\
\hspace*{2em} 
\parbox{0.8\textwidth}{\raggedright%
  All worker PEs write restart files to a dedicated
  directory. Therefore, the directory itself is called the restart
  file.  The information is stored in a way that it can be read back
  into the model independent from the processor count and the domain
  decomposition. --- Read-in: All worker PEs read the data in parallel.
 }\\[1em]
%
\texttt{''dedicated procs multifile''} \\
\hspace*{2em} 
\parbox{0.8\textwidth}{\raggedright%

  In this case, all the restart data is first transferred to memory
  buffers in dedicated restart writer PEs.  After that, the work
  processes carry on with their work immediately, while the restart
  writers perform the actual restart writing asynchronously.  Restart
  PEs can parallelize over patches and horizontal indices.
  --- Read-in: All worker PEs read the data in parallel..
}\\[1em]
%
\texttt{'' ''} \\
\hspace*{2em} 
\parbox{0.8\textwidth}{\raggedright%
  Fallback mode. \\ If \texttt{num\_restart\_proc == 0} (\texttt{parallel\_nml}),
  then this behaves like \texttt{''sync''}, otherwise like \texttt{''async''}.
}\\[1em]

% -------------------------------------------------------------
\subsubsection{Some notes on the output of optional diagnostics:}\label{subsec:optdiagnostics}
% -------------------------------------------------------------

$\blacksquare$ \emph{How can I switch on the output of one of the available diagnostics?} \\

Let us assume that you would like to output \emph{potential vorticity} 
(see table of available diagnostics below) on model levels. 
Simply add the following element to the desired output namelist (see \ref{nml:output}) in your run script: \\
\texttt{\&output\_nml}\\
\texttt{\ldots}\\
\texttt{ml\_varlist = \ldots, 'pv'} \\
\texttt{\ldots}\\
\texttt{/}\\
%
Please note that the output of some diagnostics is restricted to the NWP mode 
(\texttt{iforcing = inwp = 3}, see column ``Scope'' in the table \ref{tab:optionaldiagnostics} below).\\

$\blacksquare$ \emph{Which optional diagnostics are currently available for output?} \\

Here is a table of the available diagnostics and some additional information on them.

\renewcommand*{\arraystretch}{1.2}
\begin{longtable}
{|>{\raggedright}p{0.08\textwidth}  % Short name
|>{\raggedright}p{0.28\textwidth}   % Long name
|>{\raggedright}p{0.07\textwidth}   % Unit
|>{\raggedright}p{0.1\textwidth}    % Scope
|>{\raggedright}p{0.04\textwidth}   % Shape
|>{\raggedright}p{0.15\textwidth}   % Specifications in io_nml
|>{\raggedright}p{0.13\textwidth}|} % Place of computation in source code
\caption{Optional diagnostics (last update Aug. 2020)}\label{tab:optionaldiagnostics}\\
\hline
\textbf{Short name}${}^\ast$ & \textbf{Long name} & \textbf{Unit} & \textbf{Scope} & \textbf{Shape} & 
\textbf{Specifications}\\\textbf{in io\_nml} & \textbf{Place of computation} \\ \textbf{in source code}${}^{\ast\ast}$
\tabularnewline
\hline
\endhead

rh & relative humidity & \% & iforcing = inwp = 3 & 3d & itype\_rh & [1]
\tabularnewline
%

pv & potential vorticity & K m2 kg-1 s-1 & iforcing = inwp & 3d & - & [2]
\tabularnewline
%

sdi2 & supercell detection index (SDI2) & s-1 & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

lpi & lightning potential index (LPI) & J kg-1 & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

lpi\_max & lightning potential index, maximum during prescribed time interval & J kg-1 & iforcing = inwp & 2d &
celltracks\_interval \\ dt\_lpi & [2]
\tabularnewline
%

ceiling & ceiling height & m & iforcing = inwp & 2d & - &  [2]
\tabularnewline
%

hbas\_sc & cloud base above msl, shallow convection & m & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

htop\_sc & cloud top above msl, shallow convection & m & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

twater & total column-integrated water & kg m-2 & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

q\_sedim & specific content of precipitation particles & kg kg-1 & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

tcond\_max & total column-integrated condensate, maximum during prescribed time interval & 
kg m-2 & iforcing = inwp & 2d & celltracks\_interval \\ dt\_celltracks & [2]
\tabularnewline
%

tcond10\_max & total column-integrated condensate above z(T=-10 degC), 
maximum during prescribed time interval & kg m-2 & iforcing = inwp & 2d & 
celltracks\_interval \\ dt\_celltracks & [2]
\tabularnewline
%

uh\_max & updraft helicity, maximum during prescribed time interval & 
m2 s-2 & iforcing = inwp & 2d & celltracks\_interval \\ dt\_celltracks & [2]
\tabularnewline
%

vorw\_ctmax & maximum rotation amplitude during prescribed time interval & 
s-1 & iforcing = inwp & 2d & celltracks\_interval \\ dt\_celltracks & [2]
\tabularnewline
%

w\_ctmax & maximum updraft track during prescribed time interval & 
m s-1 & iforcing = inwp & 2d & celltracks\_interval \\ dt\_celltracks & [2]
\tabularnewline
%

dbz & radar reflectivity & dBZ & iforcing = inwp & 3d & - & [2]
\tabularnewline
%

dbz\_cmax & column maximum reflectivity & dBZ & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

dbz\_850 & reflectivity in approx. 850 hPa & dBZ & iforcing = inwp & 2d & - & [2]
\tabularnewline
%

dbz\_ctmax & column and time maximum reflectivity during prescribed time interval & 
dBZ & iforcing = inwp & 2d & celltracks\_interval \\ dt\_radar\_dbz & [2]
\tabularnewline
%

echotop & minimum pressure of exceeding radar reflectivity threshold during prescribed time interval & 
Pa & iforcing = inwp & 3d & celltracks\_interval \\ echotop\_meta & [2]
\tabularnewline
%

echotopinm & maximum height of exceeding radar reflectivity threshold during prescribed time interval & 
m & iforcing = inwp & 3d & celltracks\_interval \\ echotop\_meta & [2]
\tabularnewline
%

pres\_msl & mean sea level pressure & Pa & - & 2d & itype\_pres\_msl & [3]
\tabularnewline
%

omega & vertical (pressure) velocity & Pa s-1 & - & 3d & - & [2]
\tabularnewline
%

vor\_u & zonal component of relative vorticity & s-1 & - & 3d & - & [4]
\tabularnewline
%

vor\_v & meridional component of relative vorticity & s-1 & - & 3d & - & [4]
\tabularnewline
%

bvf2 & square of Brunt-Vaisala frequency & s-2 & - & 3d & bvf2\_mode & [5]
\tabularnewline
%

parcelfreq2 & square of air parcel oscillation frequency & s-2 & - & 3d & 
parcelfreq2\_mode & [5]
\tabularnewline
%

\hline
\end{longtable}
\renewcommand*{\arraystretch}{1.}
%
\begin{itemize}
\setlength\itemsep{-0.3em}
\item[*]  To be used in output\_nml.
\item[**] The keys, {[1]}, {[2]}, etc., are itemized under the following point.
\end{itemize}
%

$\blacksquare$ \emph{Where can I find more about the computation of the diagnostics in the source code?} \\

\emph{As for the ICON model component of the non-hydrostatic atmosphere:}\\

Each optional diagnostic has its own switch in the source code of ICON 
which is set to \texttt{.TRUE.} if the diagnostic is found in one of the \texttt{output\_nml} in your run script. 
This configuration can be found in the module: \\
\texttt{/src/configure\_model/mo\_io\_config}. \\

Further information on the metadata of the diagnostics can be found 
in their allocation area. 
For the diagnostics that are meant for the NWP mode of ICON 
(\texttt{iforcing = inwp = 3}, see column ``Scope'' in table \ref{tab:optionaldiagnostics} above), 
the allocation takes place in:\\
\texttt{/src/atm\_phy\_nwp/mo\_nwp\_phy\_state}.\\
Optional diagnostics with unrestricted scope are allocated in:\\
\texttt{/src/atm\_dyn\_iconam/mo\_nonhydro\_state}.\\

The job control of the computation and output of most of the optional diagnostics 
is organized by the post-processing scheduler:\\
\texttt{/src/atm\_dyn\_iconam/mo\_pp\_scheduler}, \\
\texttt{/src/atm\_dyn\_iconam/mo\_pp\_tasks}, \\
and integrated into the main time loop in:\\
\texttt{/src/atm\_dyn\_iconam/mo\_nh\_stepping}.\\
The job control of a small portion of the diagnostics 
is organized in: \\
\texttt{/src/atm\_phy\_nwp/mo\_nwp\_diagnosis}.\\

Finally, the computation of the individual diagnostics can be found 
in the following modules 
(the assignment of the keys, {[1]}, {[2]}, etc., to the respective diagnostic 
is found in the column ``Place of computation in source code'' of table \ref{tab:optionaldiagnostics} above):
%
\begin{itemize}
\setlength\itemsep{-0.3em}
\item[{[1]}] \texttt{/src/atm\_phy\_nwp/mo\_util\_phys}
\item[{[2]}] \texttt{/src/atm\_phy\_nwp/mo\_opt\_nwp\_diagnostics}
\item[{[3]}] \texttt{/src/atm\_phy\_nwp/mo\_nh\_diagnose\_pmsl} 
\item[{[4]}] \texttt{/src/diagnostics/atmosphere/mo\_diag\_atmo\_air\_flow} 
\item[{[5]}] \texttt{/src/diagnostics/atmosphere/mo\_diag\_atmo\_air\_parcel}
\end{itemize}
%

Defined and used in: \verb+src/namelists/mo_io_nml.f90+


%------------------------------------------------------------------------------
% les_nml:
%------------------------------------------------------------------------------
\subsection{les\_nml (parameters for LES turbulence scheme; valid for inwp\_turb=5)}

\begin{longtab}

%\hline
sst & R & 300 & K &
sea surface temperature for idealized LES simulations &
isrfc\_type=5,4
\tabularnewline

%\hline
shflx & R & 0.1 & Km/s &
Kinematic sensible heat flux at surface &
isrfc\_type = 2
\tabularnewline

%\hline
lhflx & R & 0 & m/s &
Kinematic latent heat flux at surface &
isrfc\_type = 2
\tabularnewline

%\hline
isrfc\_type & I & 1 &  &
surface type \\
0 = No fluxes and zero shear stress \\
1 = TERRA land physics \\
2 = fixed surface fluxes \\
3 = fixed buoyancy fluxes \\
4 = RICO test case \\
5 = fixed SST \\
6 = time varying SST and qv\_s case with prescribed roughness length for semi-idealized setups &
\tabularnewline

%\hline
ufric & R & -999 & m/s &
friction velocity for idealized LES simulations; if < 0 then it is
automatically diagnosed &
\tabularnewline

%\hline
psfc & R & -999 & Pa &
surface pressure for idealized LES simulations; if < 0 then it uses
the surface pressure from dynamics &
\tabularnewline

%\hline
min\_sfc\_wind & R & 1.0 & m/s &
Minimum surface wind for surface layer useful in the limit of free convection &
\tabularnewline

%\hline
is\_dry\_cbl & L & .FALSE. &  &
switch for dry convective boundary layer simulations &
\tabularnewline

%\hline
smag\_constant & R & 0.23 &  &
Smagorinsky constant &
\tabularnewline

%\hline
km\_min & R & 0.0 &  &
Minimum turbulent viscosity &
\tabularnewline

%\hline
smag\_coeff\_type & I & 1 &  &
choose type of coefficient setting: \\
1 = Smagorinsky model (default) \\
2 = set coeff. externally by Km\_ext, Kh\_ext (for testing purposes, e.g. Straka et al. (1993)) &
\tabularnewline

%\hline
Km\_ext & R & 75.0 &  m$^2$/s  &
externally set constant kinematic viscosity  &
smag\_coeff\_type=2
\tabularnewline

%\hline
Kh\_ext & R & 75.0 &  m$^2$/s  &
externally set constant diffusion coeff.   &
smag\_coeff\_type=2
\tabularnewline

%\hline
max\_turb\_scale & R & 300.0 &  &
Asymtotic maximum turblence length scale (useful for coarse grid LES and when grid is vertically stretched) &
\tabularnewline

%\hline
turb\_prandtl & R & 0.333333 &  &
turbulent Prandtl number &
\tabularnewline

%\hline
bflux & R & 0.0007 &  m$^2$/s$^3$ &
buoyancy flux for idealized LES simulations (Stevens 2007) &
isrfc\_type=3
\tabularnewline

%\hline
tran\_coeff & R & 0.02 &  m/s &
transfer coefficient near surface for idealized LES simulation (Stevens 2007)&
isrfc\_type=3
\tabularnewline

%\hline
vert\_scheme\_type & I & 2 &   &
type of time integration scheme in vertical diffusion \\
1 = explicit \\
2 = fully implicit \\ &
\tabularnewline

%\hline
sampl\_freq\_sec & R & 60 & s  &
sampling frequency in seconds for statistical (1D and 0D) output &
\tabularnewline

%\hline
avg\_interval\_sec & R & 900 & s  &
(time) averaging interval in seconds for 1D statistical output &
\tabularnewline

%\hline
expname & C & ICOLES &   &
expname to name the statistical output file &
\tabularnewline

%\hline
ldiag\_les\_out & L & .FALSE. &   &
Control for the statistical output in LES mode &
\tabularnewline

%\hline
les\_metric & L & .FALSE. &   &
Switch to turn on Smagorinsky diffusion with 3D metric terms to account for topography &
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_les_nml.f90+


%------------------------------------------------------------------------------
% limarea_nml:
%------------------------------------------------------------------------------
\subsection{limarea\_nml (Scope: l\_limited\_area=.TRUE. in grid\_nml)}

\begin{longtab}

%\hline
\textbf{itype\_latbc}&
I & 0& &
Type of lateral boundary nudging.\\
%
0: constant lateral boundary conditions derived from the initial
conditions,\\
%
1: time-dependent lateral boundary conditions provided by an external
source (IFS, COSMO or a coarser-resolution ICON run), \\
%
2: Test mode using time-dependent lateral boundary conditions from a
nested ICON run in which the present limited-area domain was operated
as a nested grid with identical(!) model level configuration. \\
Available for synchronous read mode (num\_prefetch\_proc = 0) only!
\tabularnewline

%\hline
\textbf{dtime\_latbc}&
R &
10800.0& s
&
Time difference between two consecutive boundary data. 
(Upper bound for asynchronous read-in: 1 day = 86400 s.)
&
itype\_latbc $\ge$ 1
\tabularnewline

%\hline
init\_latbc\_from\_fg&
L &
.FALSE. & 
&
If .TRUE., take lateral boundary conditions for initial time from first guess (or analysis) field
&
itype\_latbc $\ge$ 1
\tabularnewline


%\hline
nudge\_hydro\_pres&
L &
.TRUE. & 
&
If .TRUE., hydrostatic pressure is used to compute lateral boundary nudging (recommended
if boundary conditions contain hydrostatic pressure, which is usually the case)
&
itype\_latbc $\ge$ 1
\tabularnewline


%\hline
fac\_latbc\_presbiascor&
R &
0. & 
&
Scaling factor for pressure bias correction at lateral boundaries. Requires running in data assimilation
cycle. Recommended value for activating the option is 1.
&
itype\_latbc $\ge$ 1, init\_mode=5
\tabularnewline


%\hline
\textbf{latbc\_filename}&
C &
&
&
%
Filename of boundary data input file, these files must be located in
the \texttt{latbc\_path} directory.
%
Default:\\
''\texttt{prepiconR<nroot>B<jlev>\_<y><m><d><h>.nc}''.
%
The filename may contain keyword tokens (day, hour, etc.) which
will be automatically replaced during the run-time.
See the table below for a list of allowed keywords.
%
&
itype\_latbc $\ge$ 1
\tabularnewline

%\hline
\textbf{latbc\_path}&
C &
&
&
Absolute path to boundary data.
&
itype\_latbc $\ge$ 1
\tabularnewline

%\hline
latbc\_boundary\_grid&
C &
'' ''
&
&
Grid file defining the lateral boundary. Empty string means: whole
domain is read for the lateral boundary. This NetCDF grid file must
contain two integer index arrays: 
\texttt{int global\_cell\_index(cell)}, 
\texttt{int global\_edge\_index(edge)},
both with attributes \texttt{nglobal} which contains the global size
size of the non-sparse cells and edges.
&
itype\_latbc $\ge$ 1
\tabularnewline


%\hline
\textbf{latbc\_varnames\_map\_ file} &
C& & &
Dictionary file which maps internal variable names onto
GRIB2 shortnames or NetCDF var names.
This is a text file with two columns separated by whitespace, where
left column: ICON variable name, right column: GRIB2 short name.
This list contains variables that are to be read asynchronously for
boundary data nudging in a HDCP2 simulation. All new boundary variables
that in the future, would be read asynchronously. Need to be added to text 
file dict.latbc in run folder.   
& num\_prefetch\_proc=1
\tabularnewline

%\hline
latbc\_contains\_qcqi&
L &
.TRUE. &
&
Set to .FALSE. if there is no qc, qi in latbc data.
&
\tabularnewline

%\hline
nretries&
I &
0 & 
&
If LatBC data is unavailable: number of retries
&
\tabularnewline


%\hline
retry\_wait\_sec&
I &
10 & 
&
If LatBC data is unavailable: idle wait seconds between retries
&
\tabularnewline


\end{longtab}

Defined and used in: \verb+src/namelists/mo_limarea_nml.f90+


\paragraph{Keyword substitution in boundary data filename (\texttt{latbc\_filename}):}
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
\texttt{<y>}         \> substituted by year (four digits) \\
\texttt{<m>}         \> substituted by month (two digits) \\
\texttt{<d>}         \> substituted by day (two digits) \\
\texttt{<h>}         \> substituted by hour (two digits) \\
\texttt{<min>}       \> substituted by minute (two digits) \\
\texttt{<sec>}       \> substituted by seconds (two digits) \\
\texttt{<ddhhmmss>}  \> substituted by a \emph{relative} day-hour-minute-second string.\\
\texttt{<dddhh>}     \> substituted by a \emph{relative} (three-digit) day-hour string.
\end{tabbing}




%------------------------------------------------------------------------------
% nwp_lnd_nml:
%------------------------------------------------------------------------------
\subsection{lnd\_nml}

\begin{longtab}

nlev\_snow &
I&
2&
&
number of snow layers&
lmulti\_snow=.true.
\tabularnewline
%\hline
\textbf{ntiles} &
I&
1&
&
number of tiles&
\tabularnewline

%\hline
zml\_soil &
R(:)&
0.005, 0.02, 0.06,\newline
0.18, 0.54, 1.62,\newline
4.86, 14.58&
m
&
soil full layer depths&
init\_mode = 2, 3
\tabularnewline

%\hline
czbot\_w\_so &
R&
2.5&
m
&
thickness of the hydrological active soil layer&
\tabularnewline

%\hline
\textbf{lsnowtile} &
L&
.FALSE.&
&
.TRUE.: consider snow-covered and snow-free tiles separately &
ntiles$>$1
\tabularnewline

%\hline
frlnd\_thrhld &
R&
0.05&
&
fraction threshold for creating a land grid point &
ntiles$>$1
\tabularnewline

%\hline
frlake\_thrhld &
R&
0.05&
&
fraction threshold for creating a lake grid point &
ntiles$>$1
\tabularnewline
%\hline
frsea\_thrhld &
R&
0.05&
&
fraction threshold for creating a sea grid point &
ntiles$>$1
\tabularnewline

%\hline
frlndtile\_thrhld &
R&
0.05&
&
fraction threshold for retaining the respective tile for a grid point&
ntiles$>$1
\tabularnewline

%\hline
lmelt &
L&
.TRUE.&
&
.TRUE. soil model with melting process&
\tabularnewline

%\hline
lmelt\_var &
L&
.TRUE.&
&
.TRUE. freezing temperature dependent on water content&
\tabularnewline

%\hline
lana\_rho\_snow &
L&
.TRUE.&
&
.TRUE. take rho\_snow-values from analysis file&
init\_mode=1
\tabularnewline

%\hline
\textbf{lmulti\_snow} &
L&
.FALSE.&
&
.TRUE. for use of multi-layer snow model (default is single-sayer scheme)&
\tabularnewline

l2lay\_rho\_snow &
L&
.FALSE.&
&
.TRUE. predict additional snow density for upper part of the snowpack, having
a maximum depth of max\_toplaydepth & lmulti\_snow = .FALSE.
\tabularnewline

%\hline
max\_toplaydepth &
R &
0.25&
m &
maximum depth of uppermost snow layer & lmulti\_snow=.TRUE. or l2lay\_rho\_snow=.TRUE.
\tabularnewline

%\hline
idiag\_snowfrac &
I & 1 &  & Type of snow-fraction diagnosis:\\ 
1 = based on SWE only\\
2 = more advanced method used operationally \\ 
20 = same as 2, but with artificial reduction of snow fraction in case of melting snow
(should be used only in combination with lsnowtile=.TRUE.&
\tabularnewline

%\hline
itype\_snowevap &
I & 2 &  & Tuning of snow evaporation in vegetated areas:\\ 
1: Tuning turned off\\
2: First level of tuning without additional control variables \\ 
3: Second level of tuning with additional I/O variables for snow age and maximum snow depth
(should be used only if these additional variables are avaliable from the DWD assimilation cycle)&
lsnowtile=.TRUE.
\tabularnewline

%\hline
itype\_lndtbl &
I & 3 &  & Table values used for associating surface parameters to land-cover classes: \\
1 = defaults from extpar (GLC2000 and GLOBCOVER2009) \\
2 = Tuned version based on IFS values for globcover classes (GLOBCOVER2009 only) \\
3 = even more tuned operational version (GLOBCOVER2009 only) \\
4 = tuned version for new bare soil evaporation scheme (itype\_evsl=4) &
\tabularnewline

%\hline
itype\_root &
I & 2 &  & type of root density distribution \\
1 = constant \\
2 = exponential &
\tabularnewline

%\hline
itype\_evsl &
I & 2 &  & type of bare soil evaporation parameterization \\
2 = BATS scheme, Dickinson (1984) \\
3 = ISBA scheme, Noilhan and Planton (1989) \\
4 = Resistance-based scheme by Schulz and Vogel (2016) &
\tabularnewline

%\hline
itype\_trvg &
I & 2 &  & type of plant transpiration parameterization \\
2 = BATS scheme, Dickinson (1984) \\
3 = Extended BATS scheme with additional prognostic variable for integrated plant transpiration since sunrise; 
should be used only with an appropriate first guess for this variable coming from the DWD assimilation cycle &
\tabularnewline

%\hline
itype\_canopy &
I & 1 &  & Type of canopy parameterization with respect to surface energy balance \\
1 = Surface energy balance equation solved at the ground surface, canopy energetically not represented \\
2 = Skin temperature formulation by Schulz and Vogel (2017), based on Viterbo and Beljaars (1995) &
\tabularnewline

%\hline
cskinc &
R & $-1.0$ & $\mathrm{W m^{-2} K^{-1}}$ & Skin conductivity \\
For cskinc < 0, an external parameter field SKC is read and used \\
For cskinc > 0, this globally constant value is used in the whole model domain \\
Reasonable range: 10.0 -- 1000.0 &
\tabularnewline

%\hline
tau\_skin &
R & 3600. & s & Relaxation time scale for the computation of the skin temperature  &
\tabularnewline

%\hline
itype\_heatcond &
I & 2 &  & type of soil heat conductivity \\
1 = constant soil heat conductivity \\
2 = moisture dependent soil heat conductivity, cf.\ Schulz et al.\ (2016) \\
3 = variant of option 2 with reduced near-surface heat conductivity in the presence of plant cover &
\tabularnewline

%\hline
itype\_interception &
I & 1 &  & type of plant interception \\
1 = standard scheme, effectively switched off by tiny value cwimax\_ml \\
2 = Rain and snow interception (\textcolor{red}{to be removed}) &
\tabularnewline

%\hline
cwimax\_ml &
R & $1.e-6$ & m & scaling parameter for maximum interception storage (almost switched off); \\
use $5.e-4$ to activate interception storage & itype\_interception = 1 
\tabularnewline

%\hline
c\_soil &
R & 1. &  & surface area density of the (evaporative) soil surface \\
allowed range: 0 -- 2 &
\tabularnewline

%\hline
c\_soil\_urb &
R & 1. &  & surface area density of the (evaporative) soil surface, urban areas \\
allowed range: 0 -- 2 &
\tabularnewline

%\hline
itype\_hydbound &
I & 1 &  & type of hydraulic lower boundary condition \\
1 = none \\
3 = ground water as lower boundary of soil column &
\tabularnewline

%\hline
lstomata &
L & .TRUE. &  & If .TRUE., use map of minimum stomatal resistance\\
If .FALSE., use constant value of $150\, \mathrm{s/m}$.
&
\tabularnewline

%\hline
l2tls &
L & .TRUE. &  & If .TRUE., forecast with 2-Time-Level integration scheme (mandatory in ICON)
&
\tabularnewline

%\hline
\textbf{lseaice} &
L&
.TRUE.&
&
.TRUE. for use of sea-ice model&
\tabularnewline


%\hline
lprog\_albsi &
L&
.FALSE.&
&
If .TRUE., sea-ice albedo is computed prognostically & lseaice=.TRUE.
\tabularnewline


%\hline
\textbf{llake} &
L&
.TRUE.&
&
.TRUE. for use of lake model&
\tabularnewline
%\hline
sstice\_mode &
I&
1&
&
1: SST and sea ice fraction are read from the analysis. The SST is kept constant 
whereas the sea ice fraction can be modified by the seaice model.\\
2: SST and sea ice fraction are read from the analysis. The SST is updated by climatological 
increments on a daily basis. The sea ice fraction can be modified by the seaice model.\\
3: SST and sea ice fraction are updated daily, based on climatological monthly
means\\
4: SST and sea ice fraction are updated daily, based on actual monthly means\\
5: SST and sea ice fraction are updated daily, based on actual daily means (\textcolor{red}{not yet implemented}) \\
6: SST and sea ice fraction are updated with user-defined interval &
iequations=3\\
iforcing=3
\tabularnewline
%\hline
sst\_td\_filename &
C&
&
&
Filename of SST input files for time dependent SST.
Default is "$<$path$>$SST\_$<$year$>$\_<month>\_$<$gridfile$>$". May contain the
keyword $<$path$>$ which will be substituted by model\_base\_dir \newline
In case sstice\_mode=6, SST data for all time steps in the current simulation should be prepared in one single file, variable should be named SST in this file. &
sstice\_mode=3,4,5,6
\tabularnewline
%\hline
ci\_td\_filename &
C&
&
&
Filename of sea ice fraction input files for time dependent sea ice fraction.
Default is "$<$path$>$CI\_$<$year$>$\_$<$month$>$\_$<$gridfile$>$". May contain
the keyword $<$path$>$ which will be substituted by model\_base\_dir \newline
In case sstice\_mode=6, sea ice data for all time steps in the current simulation should be prepared in one single file, variable should be named SIC in this file. &
sstice\_mode=3,4,5,6
\tabularnewline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_lnd_nwp_nml.f90+


%------------------------------------------------------------------------------
% ls_forcing_nml:
%------------------------------------------------------------------------------
\subsection{ls\_forcing\_nml (parameters for large-scale forcing; valid for torus geometry; is\_plane\_torus=.TRUE.)}

\begin{longtab}

%\hline
is\_ls\_forcing & L & .TRUE. && 
switch for enabling LS forcing &
\tabularnewline

%\hline
is\_subsidence\_moment & L & .FALSE. &  &
switch for enabling LS vertical advection due to subsidence for momentum equations&
\tabularnewline

%\hline
is\_subsidence\_heat & L & .FALSE. &  &
switch for enabling LS vertical advection due to subsidence for thermal equations &
\tabularnewline

%\hline
is\_advection & L & .FALSE. &  &
switch for enabling LS horizontal advection &
\tabularnewline

%\hline
is\_advection\_uv & L & .TRUE. & &
switch for enabling LS horizontal advection for u and v &
is\_advection=.TRUE.
\tabularnewline

%\hline 
is\_advection\_tq & L & .TRUE. &  &
switch for enabling LS horizontal advection for temperature and moisture &
is\_advection=.TRUE.
\tabularnewline

%\hline
is\_nudging & L & .FALSE. &  &
switch for enabling LS Newtonian relaxation (nudging) &
\tabularnewline

%\hline
is\_nudging\_uv & L & .TRUE. &  &
switch for enabling LS Newtonian relaxation (nudging) for horizontal winds
only &
is\_nudging=.TRUE.
\tabularnewline

%\hline
is\_nudging\_tq & L & .TRUE. &  &
switch for enabling LS Newtonian relaxation (nudging) for temperature and
specific humidity only &
is\_nudging=.TRUE.
\tabularnewline

%\hline
nudge\_start\_height & R & 1000. & m &
height where nudging starts &
is\_nudging=.TRUE.
\tabularnewline

%\hline
nudge\_full\_height & R & 2000. & m &
height where nudging reaches full strength &
is\_nudging=.TRUE.
\tabularnewline

% \hline
dt\_relax & R & 3600. & s &
relaxation time scale for the nudging &
is\_nudging=.TRUE.
\tabularnewline

%\hline
is\_geowind & L & .FALSE. &  &
switch for enabling geostrophic wind &
\tabularnewline

%\hline
is\_rad\_forcing & L & .FALSE. &  &
switch for enabling radiative forcing &
inwp\_rad=.FALSE.
\tabularnewline

%\hline
is\_sim\_rad & L & .FALSE. &  &
switch for enabling a simplified radiation scheme &
inwp\_rad=.FALSE.
\tabularnewline


%\hline
is\_theta & L & .FALSE. &  &
switch to indicate that the prescribed radiative forcing is for potential temperature &
is\_rad\_forcing=.TRUE.
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_ls_forcing_nml.f90+


%------------------------------------------------------------------------------
% master_nml: the minimum one needs to specify about an integration
%------------------------------------------------------------------------------
\subsection{master\_nml}
\begin{longtab}

%\hline
\textbf{institute} &
C & ' ' & &
Acronym of the institute for which the full institute name is printed in the log file. Options are DWD, MPIM, KIT, or CSCS. Otherwise the full names of MPIM and DWD are printed.&
\tabularnewline

%\hline
\textbf{lrestart}&
L & .FALSE. & &
If .TRUE.: Current experiment is started from a restart.&
\tabularnewline

%\hline
\textbf{read\_restart\_namelists}&
L & .TRUE. & &
If .TRUE.: Namelists are read from the restart file to override the default namelist settings, before reading new namelists from the run script. Otherwise the namelists stored in the restart file are ignored.&
\tabularnewline

%\hline
\textbf{lrestart\_write\_last}&
L & .FALSE. & &
If .TRUE.: model run should create restart at experiment end.  This is
independent from the settings of the restart interval.&
\tabularnewline

%\hline
\textbf{model\_base\_dir} &
C & ' ' & &
General path which may be used in file names of other name lists:
If a file name contains the keyword "\texttt{<path>}", then this
\texttt{model\_base\_dir} will be substituted.
 &
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% master_model_nml: specifies specifics for each component model
%------------------------------------------------------------------------------
\subsection{master\_model\_nml (repeated for each model)}
\begin{longtab}

%\hline
\textbf{model\_name} &
C & & &
Character string for naming this component.&
\tabularnewline

%\hline
\textbf{model\_namelist\_ filename} &
C & & &
File name containing the model namelists.&
\tabularnewline

%\hline
\textbf{model\_type} &
I & -1 & &
Identifies which component to run.\\
1=atmosphere\\
2=ocean\\
3=radiation\\
99=dummy\_model &
\tabularnewline

%\hline
model\_min\_rank &
I & 0 & &
Start MPI rank for this model.&
\tabularnewline

%\hline
model\_max\_rank &
I & -1 & &
End MPI rank for this model.&
\tabularnewline

%\hline
model\_inc\_rank &
I & 1 & &
Stride of MPI ranks.&
\tabularnewline

\end{longtab}

%------------------------------------------------------------------------------
% master_time_control_nml: time information need in early stage of model init.
%------------------------------------------------------------------------------
\subsection{master\_time\_control\_nml}
\begin{longtab}

%\hline
\textbf{calendar} & C & ``proleptic gregorian'' & &
Selects the calendar type to use:   \\
``proleptic gregorian'' = proleptic Gregorian calendar    \\
``365 day year'' = 365 day year without leap years \\
``360 day year'' = 360 day year with 30 day months &
\tabularnewline
%\hline

\textbf{experimentReferenceDate} &
C & '' '' & ISO8601 formatted string &
This specifies the reference date for the calendar in use. It is an
anchor date for cycling of events on the time line.
If this namelist parameter is unspecified, then the reference
date is set to the experiment start date.
&
\tabularnewline

\textbf{experimentStartDate} &
C & '' '' & ISO8601 formatted string &
This is the start date of an experiment, which remains valid for the
whole experiment. The start date is also the reference date of the
experiment, which is the anchor point for cycling events. In special
cases the reference date might be reset. Reasons might be debugging
purposes or spinning off experiments from an existing restart of an
other experiment.
\tabularnewline

\textbf{experimentStopDate} &
C & '' '' & ISO8601 formatted string &
This is the date an experiment is finished.&
\tabularnewline

\textbf{forecastLeadTime} &
C & '' '' & ISO8601 formatted string & 
Specifies the time span for a numerical weather forecast.
It is used to set the experiment stop time with respect to
the experiment start date. &
\tabularnewline

\textbf{checkpointTimeIntVal} &
C & '' '' & ISO8601 formatted string & 
Time interval for writing checkpoints.&
\tabularnewline

\textbf{restartTimeIntVal} &
C & '' '' & ISO8601 formatted string &
Time interval for writing a restart file and interrupt the
current running job.&
\tabularnewline

%% %\hline
\end{longtab}

%% Defined and used in: \verb+src/namelists/mo_master_time_control_nml.f90+

%------------------------------------------------------------------------------
% meteogram_output_nml:
%------------------------------------------------------------------------------
\subsection{meteogram\_output\_nml}

This namelist is relevant if run\_nml:output=``nml''.\\
Nearest neighbour 'interpolation' is used for all variables.
\begin{longtab}

%\hline
lmeteogram\_enabled&
L(n\_dom) &
.FALSE.&&
Flag. True, if meteogram of output variables is desired.&
\tabularnewline

%\hline
zprefix&
C(n\_dom) &
``METEO GRAM\_''&&
string with file name prefix for output file&
\tabularnewline

%\hline
ldistributed&
L(n\_dom) &
.TRUE.&&
Flag. Separate files for each PE.&
\tabularnewline

%\hline
loutput\_tiles&
L &
.FALSE.&&
Write tile-specific output for some selected surface/soil fields&
\tabularnewline

%\hline
n0\_mtgrm&
I(n\_dom) &
0&&
initial time step for meteogram output.&
\tabularnewline

%\hline
ninc\_mtgrm&
I(n\_dom) &
1&&
output interval (in time steps)&
\tabularnewline

%\hline
stationlist\_tot&
&
53.633,  9.983, 'Hamburg' &&
list of meteogram stations (triples with lat, lon, name string)&
\tabularnewline

%\hline
silent\_flush&
L(n\_dom) &
1&&
do not warn about flushing to disk if .TRUE.&
\tabularnewline

%\hline
max\_time\_stamps&
I(n\_dom) &
1&&
number of output time steps to record in memory before flushing to disk&
\tabularnewline

%\hline
var\_list&
C(:)
&
" " &&
Positive-list of variables (optional). Only variables contained in
this list are included in the meteogram. If the default list is not
changed by user input, then all available variables are added to the
meteogram
&
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_mtgrm_nml.f90+

%-----------------------------------------------------------------------------
% nonhydrostatic_nml:
%-----------------------------------------------------------------------------
\subsection{nonhydrostatic\_nml (relevant if run\_nml:iequations=3)}

\begin{longtab}

%\hline
\textbf{itime\_scheme}&
I& 4& &
Options for predictor-corrector time-stepping scheme:& \tabularnewline
& & & &
4: Contravariant vertical velocity is computed in the predictor step only,
   velocity tendencies are computed in the corrector step only (most efficient option) \\
5: Contravariant vertical velocity is computed in both substeps (beneficial for numerical
   stability in very-high resolution setups with extremely steep slops, otherwise no significant impact)\\
6: As 5, but velocity tendencies are also computed in both substeps (no apparent benefit, but more expensive) &
iequations=3
\tabularnewline

%\hline
rayleigh\_type&
I& 2& &
Type of Rayleigh damping\\
1: CLASSICAL (requires velocity reference state!)\\
2: Klemp (2008) type &
\tabularnewline

%\hline
\textbf{rayleigh\_coeff}&
R(n\_dom)& 0.05 & &
Rayleigh damping coefficient $1/\tau_{0}$ (Klemp, Dudhia, Hassiotis: MWR136, pp.3987-4004);
higher values are recommended for R2B6 or finer resolution&
\tabularnewline

%\hline
\textbf{damp\_height}&
R(n\_dom)& 45000 & m&
Height at which Rayleigh damping of vertical wind starts (needs to be adjusted to model top height; the damping
layer should have a depth of at least 20 km when the model top is above the stratopause)&
\tabularnewline

%\hline
htop\_moist\_proc&
R& 22500.0& m&
Height above which moist physics and advection of cloud and precipitation variables are turned off&
\tabularnewline

%\hline
hbot\_qvsubstep&
R& 22500.0& m&
Height above which QV is advected with substepping scheme&
ihadv\_tracer=22, 32, 42 or 52
\tabularnewline

%\hline
htop\_tracer\_proc&
R& 1000000.0& m&
Height above which physical processes and advection of additional tracer variables are turned off; the default value
is set to an very high value, i.e. by default this possible restriction is not active.
This value is taken for all additional tracers in the tracer container with an index equal or greater than iqt;
it may be overwritten for specific ART tracers by the tag 'htop\_proc' in the XML file when defining the individual
ART tracers.& tracers with an index $\ge$ iqt
\tabularnewline

%\hline
vwind\_offctr&
R& 0.15& &
Off-centering in vertical wind solver. Higher values may be needed for R2B5 or coarser grids when the model top is above 50 km.
Negative values are not allowed&
\tabularnewline

%\hline
rhotheta\_offctr&
R& -0.1& &
Off-centering of density and potential temperature at interface level (may be set to 0.0 for R2B6 or finer grids; positive
values are not recommended) &
\tabularnewline

%\hline
veladv\_offctr&
R& 0.25& &
Off-centering of velocity advection in corrector step. Negative values are not recommended &
\tabularnewline

%\hline
ivctype&
I& 2& &
Type of vertical coordinate:\\
1: Gal-Chen hybrid \\
2: SLEVE (uses sleve\_nml)\\
12: as 2, but nominal interface heights (vct\_a (\& vct\_b)) from file, as in
case of 1.
Requires: ldeepatmo = .TRUE. (and layer\_thickness < 0, 
to trigger read-in of vertical coordinates from file). 
Please, see <icon\_home>/vertical\_coord\_tables/README: 
section ``atm\_hyb\_sz\_<nlev>'' for the format of the coordinate file, 
and \\
<icon\_home>/src/atm\_dyn\_iconam$\ldots$ \\
$\ldots$/mo\_init\_vgrid: init\_sleve\_coord 
for the entrie to the column ``vct\_b'' of the file. 
(Please, use with care. It has not been thoroughly checked for all possible
negative interferences with other parts of the code.)&
\tabularnewline

%\hline
ndyn\_substeps&
I& 5& &
number of dynamics substeps per fast-physics / transport step &
\tabularnewline

%\hline
lhdiff\_rcf&
L& .TRUE. & &
.TRUE.: Compute diffusion only at advection time steps (in this case,
divergence damping is applied in the dynamical core) &
\tabularnewline

%\hline
lextra\_diffu&
L& .TRUE. & &
.TRUE.: Apply additional momentum diffusion at grid points close to the stability limit for vertical advection (becomes effective
extremely rarely in practice; this is mostly an emergency fix for pathological cases with very large orographic gravity waves)
& 
\tabularnewline

%\hline
divdamp\_fac&
R& 0.0025& &
Scaling factor for divergence damping at height \(divdamp\_z\) and below. \(divdamp\_fac \geq 0\).&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_fac2&
R& 0.004& &
Scaling factor for divergence damping at height \(divdamp\_z2\). \(divdamp\_fac2 \geq 0\). Between \(divdamp\_z\) and \(divdamp\_z2\) the scaling factor changes linearly from \(divdamp\_fac\) to \(divdamp\_fac2\).  &
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_fac3&
R& 0.004& &
Scaling factor for divergence damping at height \(divdamp\_z3\). \(divdamp\_fac3 \geq 0\). The three points \((divdamp\_z2, divdamp\_fac2)\), \((divdamp\_z3, divdamp\_fac3)\),  and  \((divdamp\_z4, divdamp\_fac4)\) determine the quadratic function for the scaling factor between \(divdamp\_z2\) and \(divdamp\_z4\). &
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_fac4&
R& 0.004& &
Scaling factor for divergence damping at height \(divdamp\_z4\) and higher. \(divdamp\_fac4 \geq 0\).&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_z&
R& 32500.& m&
Height up to which \(divdamp\_fac\) is used, and where the linear profile up to height \(divdamp\_z2\) starts.&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_z2&
R& 40000.& m&
Height with scaling factor \(divdamp\_fac2\) where the linear profile starting at \(divdamp\_z\) ends, and where the quadratic profile up to \(divdamp\_z4\) starts. \(divdamp\_z < divdamp\_z2 < divdamp\_z4\).&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_z3&
R& 60000.& m&
Height with scaling factor \(divdamp\_fac3\). Needed to determine the quadratic function between \(divdamp\_z2\) and \(divdamp\_z4\). \(divdamp\_z3 \neq divdamp\_z2 \land divdamp\_z3 \neq divdamp\_z4\).&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_z4&
R& 80000.& m&
Height from which \(divdamp\_fac4\) is used.  \(divdamp\_z4 > divdamp\_z2\).&
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_order&
I& 4& &
Order of divergence damping: \\
2 = second-order divergence damping \\
4 = fourth-order divergence damping \\
24 = combined second-order and fourth-order divergence damping and enhanced vertical wind off-centering during the initial spinup phase (does not allow checkpointing/restarting earlier than 2.5 hours of integration) &
lhdiff\_rcf = .TRUE.
\tabularnewline

%\hline
divdamp\_type&
I& 3 & &
Type of divergence damping: \\
2 = divergence damping acting on 2D divergence \\
3 = divergence damping acting on 3D divergence \\
32 = combination of 3D div. damping in the troposphere with transition to 2D div. damping in the stratosphere &
lhdiff\_rcf = .TRUE.
\tabularnewline

divdamp\_trans\_start&
R & 12500. & &
Lower bound of transition zone between 2D and 3D divergence damping  &
divdamp\_type = 32
\tabularnewline

divdamp\_trans\_end&
R & 17500. & &
Upper bound of transition zone between 2D and 3D divergence damping  &
divdamp\_type = 32
\tabularnewline

%\hline
nest\_substeps&
I& 2& &
Number of dynamics substeps for the child patches.\\
\textcolor{red}{DO NOT CHANGE!!! The code will not work correctly with other values}&
\tabularnewline

%\hline
l\_masscorr\_nest&
L& .FALSE.& &
.TRUE.: Apply mass conservation correction also in nested domain & ifeedback\_type=1
\tabularnewline

%\hline
iadv\_rhotheta&
I& 2& &
Advection method for rho and rhotheta:\\
1: simple second-order upwind-biased scheme \\
2: 2nd order Miura horizontal &
\tabularnewline
& & & & 3: 3rd order Miura horizontal (not recommended)&
\tabularnewline

%\hline
igradp\_method&
I& 3& &
Discretization of horizontal pressure gradient:\\
1: conventional discretization with metric correction term\\
2: Taylor-expansion-based reconstruction of pressure (advantageous at very high resolution)\\
3: Similar discretization as option 2, but uses hydrostatic approximation
for downward extrapolation over steep slopes \\
4: Cubic/quadratic polynomial interpolation for pressure reconstruction \\
5: Same as 4, but hydrostatic approximation for downward extrapolation over steep slopes &
\tabularnewline

%\hline
l\_zdiffu\_t&
L& .TRUE.& &
.TRUE.: Compute Smagorinsky temperature diffusion truly horizontally over steep slopes&
 hdiff\_order=3/5 .AND. lhdiff\_temp = .true.
\tabularnewline

%\hline
thslp\_zdiffu&
R& 0.025& &
Slope threshold above which truly horizontal temperature diffusion is activated&
hdiff\_order=3/5 .AND. lhdiff\_temp=.true. .AND. l\_zdiffu\_t=.true.
\tabularnewline

%\hline
thhgtd\_zdiffu&
R& 200& m&
Threshold of height difference between neighboring grid points above which
truly horizontal temperature diffusion is activated (alternative criterion to thslp\_zdiffu)&
 hdiff\_order=3/5 .AND. lhdiff\_temp=.true. .AND. l\_zdiffu\_t=.true.
\tabularnewline

%\hline
exner\_expol&
R& 1./3.& &
Temporal extrapolation (fraction of dt) of Exner function for computation of horizontal pressure gradient.
This damps horizontally propagating sound waves. For R2B5 or coarser grids, values between 1/2 and 2/3 are recommended.
Model will be numerically unstable for negative values.&
\tabularnewline

%\hline
l\_open\_ubc&
L& .FALSE.& &
.TRUE.: Use open upper boundary condition (rather than w=0) to allow vertical motions related to diabatic heating to
extend beyond the model top&
\tabularnewline


%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_nonhydrostatic_nml.f90+

%------------------------------------------------------------------------------
% nudging_nml:
%------------------------------------------------------------------------------
\subsection{nudging\_nml}

Parameters for the upper boundary nudging in the limited-area mode 
(grid\_nml: l\_limited\_area = .TRUE.) or global nudging. 
For the lateral boundary nudging, please see interpol\_nml and limarea\_nml. 
The characteristics of the driving data for the nudging can be specified 
in limarea\_nml.

\begin{longtab}

%\hline
nudge\_type&
I(n\_dom) &
0        &
         &
Nudging type: \\
{\textasteriskcentered} 0: none \\
{\textasteriskcentered} 1: upper boundary nudging \\
{\textasteriskcentered} 2: global nudging \\
Please note: \\
{\textbullet} nudge\_type = 1 requires l\_limited\_area = .TRUE. \\
%
{\textbullet} nudge\_type = 1 is also applicable to nested domains. Nudging is performed against the same forcing data set for all domains. 
If nudging is enabled for one or more nested domains, it needs to be enabled for the base domain, as well.\\
%
{\textbullet} nudge\_type = 2 (global nudging) is applied in primary domain only \\
%
{\textbullet} for global nudging the following settings in limarea\_nml 
are mandatory: \\
- itype\_latbc = 1 (time-dependent driving data)\\
- dtime\_latbc = \ldots \\
- latbc\_path = "{\ldots}" \\
- latbc\_boundary\_grid = "{ }"{ }(no boundary grid: driving data have to be available 
on entire grid)\\
- latbc\_varnames\_map\_file = "{\ldots}"{ }(e.g., run/dict.latbc), 
if num\_prefetch\_proc = 1 (asynchronous read-in of driving data) \\
{\textbullet} defaults and (additional) scopes for global nudging are 
marked by ($\cdot$)\textsubscript{glbndg}, 
if a parameter applies to both upper boundary and global nudging \\
&
run\_nml:iforcing = 3 (NWP) \\
ivctype = 2 (SLEVE)
\tabularnewline

%\hline
max\_nudge\_coeff\_vn&
R &
0.04 (0.016)\textsubscript{glbndg}&
1  &
Max. nudging coefficient for the horizontal wind (i.e. the edge-normal wind
component $v_n$). 
Given the wind update due to the nudging term on the rhs:\\
$v_n(t) = v_n^\star(t) + \text{nudge\_coeff\_vn}(z) *
\text{ndyn\_substeps} * [\overline{v_n}(t) - v_n^\star(t)]$, \\
where $t$ and $z$ denote time and height, respectively, 
$\overline{v_n}(t)$ is the target wind 
to nudge to, and $v_n^\star$ is the value before the nudging, 
the vertical profile of the coefficient for upper boundary nudging reads:\\
$\text{nudge\_coeff\_vn}(z) = 
\text{max\_nudge\_coeff\_vn} * 
[(z - \text{nudge\_start\_height})/(\text{top\_height} -
  \text{nudge\_start\_height})]^2$,  \\
for $\text{nudge\_start\_height} \leq z \leq \text{top\_height}$ 
(see nudge\_start\_height below), 
and is zero elsewhere. 
The range of validity is 
$\text{max\_nudge\_coeff\_vn} \in [0, \sim 1/\text{ndyn\_substeps}]$, 
where the lower boundary is mandatory. \\
&
nudge\_type > 0 \\
(nudge\_var = "{all}" { or} "...,vn,...")\textsubscript{glbndg}
\tabularnewline

%\hline
max\_nudge\_coeff\_thermdyn &
R &
0.075 (0.03)\textsubscript{glbndg}&
1  &
Max. nudging coefficient for the thermodynamic variables 
selected by limarea\_nml: nudge\_hydro\_pres in case of upper boundary 
nudging and by thermdyn\_type in case of global nudging.
The range of validity is 
$\text{max\_nudge\_coeff\_thermdyn} \in [0, \sim 1/\text{ndyn\_substeps}]$, 
where the lower boundary is mandatory. \\
&
nudge\_type > 0 \\
(nudge\_var = "{all}" { or} "...,thermdyn,...")\textsubscript{glbndg}
\tabularnewline

%\hline
nudge\_start\_height&
R &
12000 (2000)\textsubscript{glbndg}&
m &
Nudging is applied for: \\
$\text{nudge\_start\_height} \leq z \leq \text{top\_height}$ 
in case of upper boundary nudging and for:\\
$\text{nudge\_start\_height} \leq z \leq \text{nudge\_end\_height}$ 
in case of global nudging, 
where $z$ denotes the nominal height of the grid layer center, 
and top\_height is the height of the model top 
(see sleve\_nml). 
For upper boundary nudging the range of validity is 
$\text{nudge\_start\_height} \in [0, \text{top\_height}]$, 
where both boundaries are mandatory. 
For global nudging a nudge\_start\_height in the range $[0, \text{top\_height}]$ 
has to satisfy nudge\_start\_height < nudge\_end\_height. 
Values outside $[0, \text{top\_height}]$ will be interpreted 
as nudge\_start\_height = 0. \\
&
nudge\_type > 0
\tabularnewline

%\hline
max\_nudge\_coeff\_qv&
R &
0.008&
1  &
Max. nudging coefficient for water vapor.
The range of validity is 
$\text{max\_nudge\_coeff\_qv} \in [0, \sim 1/\text{ndyn\_substeps}]$, 
where the lower boundary is mandatory. 
(For global nudging only.) \\
&
nudge\_type = 2 \\
nudge\_var = "{all}" { or} "...,qv,..."
\tabularnewline

%\hline
nudge\_end\_height&
R &
40000&
m &
Nudging is applied for: \\
$\text{nudge\_start\_height} \leq z \leq \text{nudge\_end\_height}$, 
where $z$ denotes the nominal height of the grid layer center. 
A nudge\_end\_height in the range $[0, \text{top\_height}]$ 
has to satisfy nudge\_start\_height < nudge\_end\_height. 
Values outside $[0, \text{top\_height}]$ will be interpreted 
as nudge\_start\_height = top\_height. 
(For global nudging only.) \\
&
nudge\_type = 2
\tabularnewline

%\hline
nudge\_profile&
I &
4 &
  &
Vertical profile of the nudging coefficient (nudging strength) 
between nudge\_start\_height and nudge\_end\_height:\\ 
{\textasteriskcentered} 1: squared scaled vertical distance from nudge\_start\_height 
(this is the profile used for upper boundary nudging)\\
{\textasteriskcentered} 2: constant profile\\
{\textasteriskcentered} 3: hyperbolic tangent profile\\
{\textasteriskcentered} 4: trapezoidal profile\\
The profile values range from 0 to 1. A multiplication with 
max\_nudge\_coeff\_vn/thermdyn/qv and ndyn\_substeps 
yields the final value of the nudging coefficient.
(For global nudging only.) \\
&
nudge\_type = 2
\tabularnewline

%\hline
nudge\_scale\_height&
R &
3000&
m &
Scale height of nudging profile.
(For global nudging only.) \\
&
nudge\_type = 2 \\
nudge\_profile = 3 {or} 4
\tabularnewline

%\hline 
nudge\_var&
C &
"{all}"&
 &
Select the variables that shall be nudged:\\
{\textasteriskcentered} "vn": horizontal wind\\
{\textasteriskcentered} "thermdyn": thermodynamic variables\\
{\textasteriskcentered} "qv": water vapor\\
{\textasteriskcentered} comma-separated list: e.g., "vn,thermdyn"\\
{\textasteriskcentered} "{all}": all available variables (i.e. equivalent to "vn,thermdyn,qv")\\
Please note that the nudging of water vapor requires ltransport = .TRUE. 
(For global nudging only.) \\
&
nudge\_type = 2 
\tabularnewline

%\hline
thermdyn\_type&
I &
1&
 &
Set of variables used to compute the thermodynamic nudging increments: \\
{\textasteriskcentered} 1: hydrostatic set (pressure and temperature)\\
{\textasteriskcentered} 2: non-hydrostatic set (density and virtual potential temperature)\\
&
nudge\_type = 2 \\
nudge\_var = "{all}" { or} "...,thermdyn,..."
\tabularnewline

%\hline
idiagnose&
I &
-1 &
 &
Switch for nudging diagnostics:\\
{\textasteriskcentered} $\leq$ 0: switched off\\
{\textasteriskcentered} $>$ 0: each (idiagnose * dtime) time diagnostics are computed 
and written to the ASCII file ``nudging\_diagnostics.txt''.\\
The nudging diagnostics are:\\
{\textbullet} correlation between the mean sea-level pressure from ICON 
on the one hand and from the driving model on the other hand (a measure for 
the nudging success)\\
{\textbullet} global mean of the absolute horizontal wind divergence 
(a measure for the nudging impact on the atmospheric ``noise'' 
or the gravity wave activity, depending on the perspective)\\
{\textbullet} global mean of the absolute 
surface pressure time tendency (a further measure for the nudging impact)\\
(For global nudging only.)
&
nudge\_type = 2 \\
msg\_level >= 11
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_nudging_nml.f90+


%------------------------------------------------------------------------------
% nwp_bench_nml:
%------------------------------------------------------------------------------
\subsection{nwp\_bench\_nml}

The switches to disable subroutine calls inside the time\_loop. These are used for early GPU benchmarks of ICON while not everything is ported. They should be removed again once the port is ready to support all the subroutine calls in this list.

\begin{longtab}

\hline
d\_unpb&
L&
.FALSE.&
&
disables the call to update\_nwp\_phy\_bcs if set to .TRUE.&
\tabularnewline

\hline
d\_ndfo&
L&
.FALSE.&
&
disables the call to nwp\_diag\_for\_output if set to .TRUE.&
\tabularnewline

\hline
d\_rld&
L&
.FALSE.&
&
disables the call to recv\_latbc\_data if set to .TRUE.&
\tabularnewline

\hline
d\_n&
L&
.FALSE.&
&
disables the call to nudging if set to .TRUE.&
\tabularnewline

\hline
d\_wnlo&
L&
.FALSE.&
&
disables the call to write\_name\_list\_output if set to .TRUE.&
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_bench_nml.f90+



%------------------------------------------------------------------------------
% nwp_phy_nml:
%------------------------------------------------------------------------------
\subsection{nwp\_phy\_nml}

The switches for the physics schemes and the time steps can be set for each model domain individually.
If only one value is specified, it is copied to all child domains, implying that the same set
of parameterizations and time steps is used in all domains. If the number of values given
in the namelist is larger than 1 but less than the number of model domains, then the settings
from the highest domain ID are used for the remaining model domains. 

If the time steps are not an integer multiple of the advective time step (dtime), then the time step of the
respective physics parameterization is automatically rounded to the next higher integer multiple
of the advective time step. If the radiation time step is not an integer multiple of the cloud-cover 
time step it is automatically rounded to the next higher integer multiple of the cloud cover time step.

\begin{longtab}

%\hline
\textbf{inwp\_gscp}&
I (max\_ dom)&
1&
&
cloud microphysics and precipitation\\
0: none\\
1: hydci (COSMO-EU microphysics, 2-cat ice: cloud ice, snow)\\
2: hydci\_gr (COSMO-DE microphysics, 3-cat ice: cloud ice, snow, graupel)\\
3: as 1, but with improved ice nucleation scheme by C. Koehler\\
4: Two-moment microphysics by A. Seifert\\

9: Kessler scheme &
run\_nml:iforcing = inwp
\tabularnewline

%\hline
qi0&
R&
0.0&
kg/kg &
cloud ice threshold for autoconversion &
inwp\_gscp=1
\tabularnewline

%\hline
qc0&
R&
0.0&
kg/kg &
cloud water threshold for autoconversion &
inwp\_gscp=1
\tabularnewline

mu\_rain&
R&
0.0&
 &
shape parameter in gamma distribution for rain&
inwp\_gscp$>$0
\tabularnewline

rain\_n0\_factor&
R&
1.0&
 &
tuning factor for intercept parameter of raindrop size distribution &
inwp\_gscp$>$0
\tabularnewline

mu\_snow&
R&
0.0&
 &
shape parameter in gamma distribution for snow&
inwp\_gscp$>$0
\tabularnewline

icpl\_aero\_gscp&
I&
0&
 &
0: off \\
1: simple coupling between autoconversion and Tegen aerosol climatology; requires irad\_aero=6 \\
More advanced options are in preparation&
currently only for inwp\_gscp = 1
\tabularnewline

%\hline
\textbf{inwp\_convection}&
I (max\_ dom)&
1&
&
convection\\
0: none\\
1: Tiedtke/Bechtold convection
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
lshallowconv\_only&
L (max\_ dom)&
.FALSE.&
&
.TRUE.: use shallow convection only\\
& inwp\_convection = 1; cannot be combined with lgrayzone\_deepconv
\tabularnewline

%\hline
lgrayzone\_deepconv&
L (max\_ dom)&
.FALSE.&
&
.TRUE.: activates shallow and deep convection but not mid-level convection, together with some tuning
measures targeted at grayzone (convection-permitting) model resolutions\\
& inwp\_convection = 1; cannot be combined with lshallowconv\_only
\tabularnewline


%\hline
ldetrain\_conv\_prec&
L (max\_ dom)&
.FALSE.&
&
.TRUE.: Activate detrainment of convective rain and snow\\
& inwp\_convection = 1
\tabularnewline

%\hline
icapdcycl&
I & 0 &  & Type of CAPE correction to improve diurnal cycle for convection: \\
0 = none (IFS default prior to autumn 2013) \\
1 = intermediate testing option \\
2 = correctoins over land and water now operational at ECMWF \\
3 = correction over land as in 2 restricted to the tropics, no correction over water (this choice optimizes the NWP skill scores) &
inwp\_convection = 1
\tabularnewline

icpl\_aero\_conv&
I&
0&
 &
0: off \\
1: simple coupling between autoconversion and Tegen aerosol climatology; requires irad\_aero=6 &
\tabularnewline

iprog\_aero &
I&
0&
 &
0: off \\
1: simple prognostic aerosol scheme for mineral dust, based on 2D aerosol optical depth fields of Tegen climatology \\
2: as option 1, but for all 5 aerosol types  & irad\_aero=6
\tabularnewline

icpl\_o3\_tp&
I&
1&
 &
0: off \\
1: simple coupling between the ozone mixing ratio and the thermal tropopause, restricted to the extratropics & irad\_o3 = 7 or 9
\tabularnewline

%\hline
\textbf{inwp\_cldcover}&
I (max\_ dom)&
1&
&
cloud cover scheme for radiation\\
0: no clouds (only QV)\\
1: diagnostic cloud cover (by Martin Koehler)\\
2: prognostic total water variance (not yet started)\\
3: clouds from COSMO SGS cloud scheme\\
4: clouds as in turbulence (turbdiff)\\
5: grid scale clouds
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{inwp\_radiation}&
I (max\_ dom)&
1&
&
radiation\\
0: none\\
1: RRTM radiation\\
2: (removed)\\
3: (removed) \\
4: ecRad radiation
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{inwp\_satad}&
I&
1&
&
saturation adjustment\\
0: none\\
1: saturation adjustment at constant density
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{inwp\_turb}&
I (max\_ dom)&
1&
&
vertical diffusion and transfer\\
0: none\\
1: COSMO diffusion and transfer\\
2: GME turbulence scheme\\
3: EDMF-DUALM (work in progress)\\
5: Classical Smagorinsky diffusion
&run\_nml:iforcing = inwp
\tabularnewline
%\hline
\textbf{inwp\_sso}&
I (max\_ dom)&
1&
&
subgrid scale orographic drag\\
0: none\\
1: Lott and Miller scheme (COSMO)
&run\_nml:iforcing = inwp\\
inwp\_turb > 0
\tabularnewline

%\hline
\textbf{inwp\_gwd}&
I (max\_ dom)&
1&
&
non-orographic gravity wave drag\\
0: none\\
1: Orr-Ern-Bechtold-scheme (IFS)
&run\_nml:iforcing = inwp\\
inwp\_turb > 0
\tabularnewline


%\hline
\textbf{inwp\_surface}&
I (max\_ dom)&
1&
&
surface scheme\\
0: none\\
1: TERRA
&run\_nml:iforcing = inwp
\tabularnewline


%\hline
ustart\_raylfric&
R& 160.0& m/s& wind speed at which extra Rayleigh friction starts &
inwp\_gwd $>$ 0
\tabularnewline


%\hline
efdt\_min\_raylfric&
R& 10800.& s & minimum e-folding time of Rayleigh friction (effective for u $>$ ustart\_raylfric + 90 m/s) &
inwp\_gwd $>$ 0
\tabularnewline

%\hline
latm\_above\_top&
L (max\_ dom)& .FALSE.&  & .TRUE.: take into account atmosphere above model top for radiation computation &
inwp\_radiation $>$ 0
\tabularnewline

%\hline
itype\_z0&
I & 2 &  & Type of roughness length data used for turbulence scheme: \\
1 = land-cover-related roughness including contribution from sub-scale orography (does not account for tiles)\\
2 = land-cover-related roughness based on tile-specific landuse class \\
3 = land-cover-related roughness based on tile-specific landuse class including contribution from sub-scale orography &
inwp\_turb $>$ 0
\tabularnewline

%\hline
\textbf{dt\_conv} &
R (max\_ dom)&
600.&
s&
time interval of convection and cloud-cover call.\\
If convection is switched off, dt\_conv controlls the time intervall of cloud-cover, only.\\
currently each subdomain has the same value
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{dt\_rad} &
R (max\_ dom)&
1800.&
s&
time interval of radiation call\\
currently each subdomain has the same value
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{dt\_sso}&
R (max\_ dom)&
1200.&
s&
time interval of sso call\\
currently each subdomain has the same value
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
\textbf{dt\_gwd} &
R (max\_ dom)&
1200.&
s&
time interval of gwd call\\
currently each subdomain has the same value
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
lrtm\_filename &
C(:)&
``rrtmg\_ lw.nc''&
&
NetCDF file containing longwave absorption coefficients and other data
for RRTMG\_LW k-distribution model. &
\tabularnewline

%\hline
cldopt\_filename &
C(:)&
``ECHAM 6\_CldOpt Props.nc''&
&
NetCDF file with RRTM Cloud Optical Properties for ECHAM6. &
\tabularnewline

%\hline
ireff\_calc &
I (max\_ dom) &
0 &
&
Parameterization set for diagnostic calculations of effective radius: \\
0 \,\,\,  = No calculation \\
1,2,4,5,6,7 = Consistent with microphysics given by ireff\_calc (naming same convention as inwp\_gscp) \\
100 = Consistent with current microphysics (it sets ireff\_calc = inwp\_gscp) \\
101 = Reff given by RRTM parameterization
&run\_nml:iforcing = inwp
\tabularnewline

%\hline
icpl\_rad\_reff  &
I (max\_ dom) &
0 &
&
Coupling of the effective radius with radiation: \\
0 \,\,\,  = No coupling. The calculation of the effective radius happens at the radiation interface. \\
1 \,\,\, = Radiation uses the effective radius defined by ireff\_calc. All hydrometeors are combined in a frozen and a liquid phase. 
&run\_nml:iforcing = inwp \\
inwp\_radiation = 1 or 4  \\
ireff\_calc > 0
\tabularnewline

%\hline
ithermo\_water &
I (max\_ dom) &
0 &
&
Latent Heat Function \\
0 \,\,\,  = Temperature-dependent latent heat in saturation adjustment but constant in microphysics: \\
1 \,\,\,  = Temperature-dependent latent heat in saturation adjustment and microphysics 
&run\_nml:iforcing = inwp \\
 inwp\_gscp = 1,2,4,5,7
\tabularnewline

%\hline
lupatmo\_phy&
L (max\_ dom)& .FALSE.&  & 
Switch for upper-atmosphere physics. \\
Examples of usage for multi-domain applications: \\
\begin{itemize}
\item set lupatmo\_phy = .TRUE. to switch on upatmo physics for all domains
\item set lupatmo\_phy = .TRUE., .TRUE., .FALSE. to switch on
upatmo physics for dom 1 and 2, but switch them off for dom 3
\item please note that ``skipping'' domains is currently not possible, 
i.e. lupatmo\_phy = .TRUE., .FALSE., .TRUE. is transformed into 
lupatmo\_phy = .TRUE., .FALSE., .FALSE.
\end{itemize}
See upatmo\_nml for configuration of the upper-atmosphere physics
parameterizations. 
&
run\_nml:iforcing = inwp \\
init\_mode $<$ 4 \\
inwp\_turb $>$ 0 \\
inwp\_radiation $>$ 0
\tabularnewline

\end{longtab}


Defined and used in: \verb+src/namelists/mo_nwp_phy_nml.f90+



%------------------------------------------------------------------------------
% nwp_tuning_nml:
%------------------------------------------------------------------------------
\subsection{nwp\_tuning\_nml}

Please note: These tuning parameters are NOT domain specific.

\begin{longtab}

\hline
\hline
\multicolumn{6}{|l|}{\textbf{SSO} (Lott and Miller)} 
\tabularnewline

\hline
tune\_gkwake&
R (max\_ dom)&
1.5&
&
low level wake drag constant&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_gkdrag&
R (max\_ dom)&
0.075&
&
gravity wave drag constant&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_gfrcrit&
R (max\_ dom)&
0.4&
&
critical Froude number (controls depth of blocking layer)&
run\_nml:iforcing = inwp
\tabularnewline

\hline

tune\_grcrit&
R (max\_ dom)&
0.25&
&
critical Richardson number (controls onset of wave breaking)&
run\_nml:iforcing = inwp
\tabularnewline

\hline

tune\_minsso&
R (max\_ dom)&
10.&
m &
minimum SSO standard deviation for which SSO scheme is applied&
run\_nml:iforcing = inwp
\tabularnewline


\hline

tune\_blockred&
R (max\_ dom)&
100.&
 &
multiple of SSO standard deviation above which blocking tendency is reduced &
run\_nml:iforcing = inwp
\tabularnewline

\hline

\multicolumn{6}{|l|}{\textbf{GWD} (Warner McIntyre)} 
\tabularnewline

\hline
tune\_gfluxlaun&
R&
2.50e-3&
&
total launch momentum flux in each azimuth (rho\_o x F\_o)&
run\_nml:iforcing = inwp
\tabularnewline


\hline
\hline
\multicolumn{6}{|l|}{\textbf{Grid scale microphysics} (one moment)} 
\tabularnewline

\hline
tune\_zceff\_min&
R&
0.01&
&
Minimum value for sticking efficiency&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_v0snow&
R&
25.0&
&
factor in the terminal velocity for snow&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_zvz0i&
R&
1.25&
m/s&
Terminal fall velocity of ice&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_icesedi\_exp&
R&
0.33&
&
Exponent for density correction of cloud ice sedimentation&
run\_nml:iforcing = inwp
\tabularnewline

\hline
\hline
\multicolumn{6}{|l|}{\textbf{Convection scheme}} 
\tabularnewline


\hline
tune\_entrorg&
R&
1.85e-3&
1/m&
Entrainment parameter valid for dx=20 km (depends on model resolution)&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rprcon&
R&
1.4e-3&
&
Coefficient for conversion of cloud water into precipitation&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rdepths&
R&
2.e4&
Pa&
Maximum allowed depth of shallow convection &
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_capdcfac\_et&
R&
0.5&
&
Fraction of CAPE diurnal cycle correction applied in the extratropics&
icapdcycl = 3
\tabularnewline

\hline
tune\_rhebc\_land&
R&
0.75&
&
RH threshold for onset of evaporation below cloud base over land&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rhebc\_land\_trop&
R&
0.75&
&
RH threshold for onset of evaporation below cloud base over land in the tropics&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rhebc\_ocean &
R&
0.85&
&
RH threshold for onset of evaporation below cloud base over sea&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rhebc\_ocean\_trop &
R&
0.80&
&
RH threshold for onset of evaporation below cloud base over sea in the tropics&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rcucov&
R&
0.05&
&
Convective area fraction used for computing evaporation below cloud base&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_rcucov\_trop&
R&
0.05&
&
Convective area fraction used for computing evaporation below cloud base in the tropics&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_texc&
R&
0.125&
K&
Excess value for temperature used in test parcel ascent&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_qexc&
R&
0.0125&
&
Excess fraction of grid-scale QV used in test parcel ascent&
run\_nml:iforcing = inwp
\tabularnewline

\hline
tune\_box\_liq&
R&
0.05&
&
Box width for liquid cloud diagnostic in cloud cover scheme&
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
tune\_thicklayfac&
R&
0.005&
1/m &
Factor for enhancing the box width for model layer thicknesses exceeding 150 m &
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
tune\_box\_liq\_asy&
R&
2.5&
&
Asymmetry factor for liquid cloud cover diagnostic&
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
tune\_box\_liq\_sfc\_fac&
R&
1.0&
&
Tuning factor for box\_liq reduction near the surface&
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
allow\_overcast&
R&
1.0&
&
Tuning factor for the dependence of liquid cloud cover on relative humidity. This is an unphysical ad-hoc parameter to improve the cloud cover in the Mediterranean&
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
tune\_sgsclifac&
R&
0.0 &
 &
Scaling factor for parameterization of subgrid-scale (turbulence-induced) cloud ice 
(values $>$ 0 not recommended for global configurations with RRTM radiation) &
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
icpl\_turb\_clc&
I&
1&
&
Mode of coupling between turbulence and cloud cover\\
1: strong dependency of box width on rcld with upper and lower limit \\
2: weak dependency of box width on rcld with additive term and upper limit &
run\_nml:iforcing = inwp; inwp\_cldcover = 1
\tabularnewline

\hline
lcalib\_clcov&
L&
.TRUE.&
&
Apply calibration of layer-wise cloud cover diagnostics over land in order to improve scores against SYNOP reports&
run\_nml:iforcing = inwp
\tabularnewline


\hline
max\_calibfac\_clcl&
R&
4.0&
&
Maximum allowed calibration factor for low clouds (CLCL) &
run\_nml:iforcing = inwp
\tabularnewline


\hline
\hline
\multicolumn{6}{|l|}{\textbf{Misc}} 
\tabularnewline


\hline
tune\_gust\_factor&
R&
8.0&
&
Multiplicative factor for friction velocity in gust parameterization &
run\_nml:iforcing = inwp
\tabularnewline


\hline
itune\_gust\_diag&
I&
1&
&
Method of SSO blocking correction used in the gust diagnostics\\
1: Use level above ``SSO envelope top'' for gust enhancement over mountains \\
2: Use ``SSO envelope top'' level for gust enhancement over mountains, combined with an adjusted nonlinearity factor &
run\_nml:iforcing = inwp
\tabularnewline

\hline
itune\_albedo&
I&
0&
&
MODIS albedo tuning\\
0: None\\
1: dimmed sahara&
run\_nml:iforcing = inwp\\
albedo\_type=2
\tabularnewline

\hline
tune\_difrad\_3dcont&
R&
0.5&
&
Tuning factor for 3D contribution to diagnosed diffuse radiation (no impact on prognostic results!) &
inwp\_radiation = 1 or 4
\tabularnewline


\hline
tune\_minsnowfrac&
R&
0.2&
&
Minimum value to which the snow cover fraction is artificially reduced in case of melting show &
lnd\_nml:idiag\_snowfrac = 20/30/40
\tabularnewline


\hline
\hline
\multicolumn{6}{|l|}{\textbf{IAU}} 
\tabularnewline

\hline
max\_freshsnow\_inc&
R&
0.025&
&
Maximum allowed freshsnow increment per analysis cycle (positive or negative)&
init\_mode=5 (MODE\_IAU)
\tabularnewline
\end{longtab}


Defined and used in: \verb+src/namelists/mo_nwp_tuning_nml.f90+




%------------------------------------------------------------------------------
% output_nml:
%------------------------------------------------------------------------------
\subsection{output\_nml (relevant if run\_nml/output='nml')}\label{nml:output}

Please note: There may be several instances of
output\_nml in the namelist file, every one defining a list of variables with
separate attributes for output.

\begin{longtab}

%\hline
\textbf{dom}&
I(:)&-1& &
 Array of domains for which this name-list is used.
 If not specified (or specified as -1 as the first array member),
 this name-list will be used for all domains. \\
 Attention: Depending on the setting of the parameter l\_output\_phys\_patch
 these are either logical or physical domain numbers!
&
\tabularnewline

%\hline
\textbf{file\_interval} &
C&'' ''& &
Defines the length of a file in terms of an ISO-8601 duration string. An example for this time stamp format is given below. This namelist parameter can be set instead of \texttt{steps\_per\_file}.
&
\tabularnewline

%\hline
\textbf{filename\_format} &
C&see description.& &
 Output filename format. Includes keywords \texttt{path}, \texttt{output\_filename}, \texttt{physdom}, etc. (see below).
 Default is \texttt{<output\_filename>\_DOM<physdom>\_<levtype>\_ <jfile>}
&
\tabularnewline

%\hline
filename\_extn &
C&"default"& &
User-specified filename extension (empty string also possible).
If this namelist parameter is chosen as "default", then we have
".nc" for NetCDF output files, and ".grb" for GRIB1/2.
&
\tabularnewline

%\hline
filetype &
I&4& &
One of CDI's FILETYPE\_XXX constants.
Possible values:\\
2=FILETYPE\_GRB2,\\
4=FILETYPE\_NC2, \\
5=FILETYPE\_NC4
&
\tabularnewline

%\hline
m\_levels &
C&None&  &
 Model level indices (optional). \\
 Allowed is a comma- (or semicolon-) separated list of integers,
 and of integer ranges like "10...20".  One may also use the
 keyword "nlev" to denote the maximum integer (or, equivalently,
 "n" or "N").
 Furthermore, arithmetic expressions like "(nlev~-~2)" are
 possible.\\
 Basic example:\\\texttt{m\_levels = "1,3,5...10,20...(nlev-2)"}
 \\
&
\tabularnewline

%\hline
h\_levels &
R(:)&None& m &
 height levels \\
&
\tabularnewline

%\hline
p\_levels &
R(:)&None& Pa &
 pressure levels \\
&
\tabularnewline

%\hline
i\_levels &
R(:)&None& K &
 isentropic levels \\
&
\tabularnewline

%\hline
\textbf{ml\_varlist} &
C(:)&None& &
 Name of model level fields to be output.
&
\tabularnewline

%\hline
\textbf{hl\_varlist }&
C(:)&None& &
 Name of height level fields to be output.
&
\tabularnewline

%\hline
\textbf{pl\_varlist} &
C(:)&None& &
 Name of pressure level fields to be output.
&
\tabularnewline

%\hline
\textbf{il\_varlist }&
C(:)&None& &
 Name of isentropic level fields to be output.
&
\tabularnewline

%\hline
\textbf{include\_last} &
L&.TRUE.& &
 Flag whether to include the last time step
&
\tabularnewline

%\hline
 \textbf{mode }&
I&2& &
 1 = forecast mode, 2 = climate mode \\
 In climate mode the time axis of the output file
 is set to TAXIS\_ABSOLUTE. In forecast mode it is set
 to TAXIS\_RELATIVE. Till now the forecast mode only
 works if the output is at multiples of 1 hour
&
\tabularnewline

%\hline
 taxis\_tunit &
I&2& &
 Time unit of the TAXIS\_RELATIVE time axis.\\
 1 = TUNIT\_SECOND\\ 
 2 = TUNIT\_MINUTE\\
 5 = TUNIT\_HOUR\\
 9 = TUNIT\_DAY\\
 For a complete list of possible values see cdilib.c
& mode=1
\tabularnewline

%\hline
 \textbf{output\_bounds} &
R($k \ast$ 3)&None& &
 Post-processing times: start, end, increment.
 We choose  the advection time step matching or following the 
 requested output time, therefore we require \texttt{output\_bounds(3) > dtime}.
 Multiple triples are possible in order to define multiple starts/ends/intervals.
 See namelist parameters \texttt{output\_start}, \texttt{output\_end}, \texttt{output\_interval}
 for an alternative specification of output events.
&
\tabularnewline

%\hline
 \textbf{output\_time\_unit} &
I& 1 & &
 Units of output bounds specification.\\
 1 = second\\
 2 = minute\\
 3 = hour\\
 4 = day\\
 5 = month\\
 6 = year
&
\tabularnewline

%\hline
\textbf{output\_filename }&
C&None& &
 Output filename prefix (which may include path).
 Domain number, level type, file number and extension will be added,
 according to the format given in namelist parameter ``filename\_format''.
&
\tabularnewline

%\hline
\textbf{output\_grid} &
L&.FALSE.& &
 Flag whether grid information is added to output.
&
\tabularnewline

%\hline
 \textbf{output\_start }&
C(:)&'' ''& &
 ISO8601 time stamp for begin of output.
 An example for this time stamp format is given below.
 More than one value is possible in order to define multiple start/end/interval triples.
 See namelist parameter \texttt{output\_bounds} for an alternative specification of output events.
&
\tabularnewline

%\hline
\textbf{output\_end }&
C(:)&'' ''& &
 ISO8601 time stamp for end of output.
 An example for this time stamp format is given below.
 More than one value is possible in order to define multiple start/end/interval triples.
 See namelist parameter \texttt{output\_bounds} for an alternative specification of output events.
&
\tabularnewline

%\hline
\textbf{output\_interval} &
C(:)&'' ''& &
 ISO8601 time stamp for repeating output intervals.
 We choose  the advection time step matching or following the 
 requested output time, therefore we require \texttt{output\_bounds(3) > dtime}.
 An example for this time stamp format is given below.
 More than one value is possible in order to define multiple start/end/interval triples.
 See namelist parameter \texttt{output\_bounds} for an alternative specification of output events.
&
\tabularnewline
\hline
\textbf{operation }&
C&None& &
 Use this variable for internal diagnostics applied on all given
 output variables or groups except time-constant ones: \texttt{mean}
 for generating time averaged, \texttt{square} for time averaged
 square values, \texttt{max} or \texttt{min} for maximum and minimum and
 \texttt{acc} for accumulated values within the corresponding interval,
 i.e.  \texttt{output\_interval}.  \\Supported are 2D, 3D and single values
 like global means on model levels of all components. All operations can be
 used on global and nested grids.
&
\tabularnewline
\hline

%\hline
 pe\_placement\_il &
I(:)& -1 & &
Advanced output option:
Explicit assignment of output MPI ranks to the isentropic level output file.
At most \texttt{stream\_partitions\_il} different ranks can be specified.
See namelist parameter \texttt{pe\_placement\_ml} for further details.
&
\tabularnewline

%\hline
 pe\_placement\_hl &
I(:)& -1 & &
Advanced output option:
Explicit assignment of output MPI ranks to the height level output file.
At most \texttt{stream\_partitions\_hl} different ranks can be specified.
See namelist parameter \texttt{pe\_placement\_ml} for further details.
&
\tabularnewline

%\hline
 pe\_placement\_ml &
I(:)& -1 & &
Advanced output option:
Explicit assignment of output MPI ranks to the model level output file.
At most \texttt{stream\_partitions\_ml} different ranks can be specified,
out of the following list: \texttt{0} $\ldots$ (\texttt{num\_io\_procs} - 1).
If this namelist parameters is not provided, then the output ranks are chosen
in a Round-Robin fashion among those ranks that are not occupied by explicitly
placed output files.
&
\tabularnewline

%\hline
 pe\_placement\_pl &
I(:)& -1 & &
Advanced output option:
Explicit assignment of output MPI ranks to the pressure level output file.
At most \texttt{stream\_partitions\_pl} different ranks can be specified.
See namelist parameter \texttt{pe\_placement\_ml} for further details.
&
\tabularnewline

%\hline
 ready\_file &
 C & ''default'' & &
 A \emph{ready file} is a technique for handling dependencies between the NWP processes.
 The completion of the write process is signalled by creating a small file 
 with name \texttt{ready\_file}.
 Different \texttt{output\_nml}'s may be joined together to form a single ready file event.
 The setting of \texttt{ready\_file = "default"} does not create a ready file.
 The ready file name may contain string tokens \texttt{<path>},
 \texttt{<datetime>}, \texttt{<ddhhmmss>}, \texttt{<datetime2>} which
 are substituted as described for the namelist parameter
 \texttt{filename\_format}.  & \tabularnewline

%\hline
 reg\_def\_mode &
I&0& &
Specify if the "delta" value prescribes an interval size or
the total *number* of intervals:
0: switch automatically between increment and no. of grid points,
1: \texttt{reg\_lon/lat\_def(2)} specifies increment,
2: \texttt{reg\_lon/lat\_def(2)} specifies no. of grid points.
&
remap=1
\tabularnewline

%\hline
 \textbf{remap }&
I&0& &
 interpolate horizontally\\ 
0: none\\
1: to regular lat-lon grid
&
\tabularnewline

%\hline
 north\_pole &
R(2)&0,90& &
 definition of north pole for rotated lon-lat grids (\texttt{[longitude, latitude]}.
&
\tabularnewline

%\hline
 \textbf{reg\_lat\_def} &
R(3)&None& &
 start, increment, end latitude in degrees.
 Alternatively, the user may set the number of grid points instead of an increment.
 Details for the setting of regular grids is given below together with an example. 
&
remap=1
\tabularnewline

%\hline
 \textbf{reg\_lon\_def} &
R(3)&None& &
 The regular grid points are specified by three values: start, increment, end given in degrees.
 Alternatively, the user may set the number of grid points instead of an increment.
 Details for the setting of regular grids is given below together with an example. 
&
remap=1
\tabularnewline

%\hline
\textbf{steps\_per\_file }&
I&-1& &
 Max number of output steps in one output file. If this number is reached, a new output
 file will be opened. Setting steps\_per\_file to 1 enforces a flush when writing is completed, so that the
 file is immediately accessible for reading.
&
\tabularnewline

%\hline
 steps\_per\_file\_inclfirst &
L&see descr.& &
 Defines if first step is counted wrt. \texttt{steps\_per\_file} files count.
 The default is \texttt{.FALSE.} for GRIB2 output, and \texttt{.TRUE.} otherwise.
&
\tabularnewline

%\hline
 stream\_partitions\_hl &
I&1& &
Splits height level output of this namelist into several concurrent alternating files.
See namelist parameter \texttt{stream\_partitions\_ml} for details.
&
\tabularnewline

%\hline
 stream\_partitions\_il &
I&1& &
Splits isentropic level output of this namelist into several concurrent alternating files.
See namelist parameter \texttt{stream\_partitions\_ml} for details.
&
\tabularnewline

%\hline
 stream\_partitions\_ml &
I&1& &
Splits model level output of this namelist into several concurrent alternating files.
The output is split into $N$ files, where the start date of part $i$ gets an offset
of $(i-1)*\texttt{output\_interval}$. 
The output interval is then replaced by $N*\texttt{output\_interval}$,
the \texttt{include\_last} flag is set to \texttt{.FALSE.}, 
the \texttt{steps\_per\_file\_inclfirst} flag is set to \texttt{.FALSE.}, 
and
the \texttt{steps\_per\_file} counter is set to \texttt{1}.
&
\tabularnewline

%\hline
 stream\_partitions\_pl &
I&1& &
Splits pressure level output of this namelist into several concurrent alternating files.
See namelist parameter \texttt{stream\_partitions\_ml} for details.
&
\tabularnewline


%\hline
 \label{output_nml__rbf_scale}%
 rbf\_scale &
R&-1.& &
Explicit setting of RBF shape parameter for interpolated lon-lat output. 
This namelist parameter is only active in combination with interpol\_nml:rbf\_scale\_mode\_ll=3.
&
interpol\_nml:rbf\_scale\_mode\_ll=3
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/io/shared/mo_name_list_output_init.f90+

% -------------------------------------------------------------
\paragraph{Interpolation onto regular grids:}
% -------------------------------------------------------------

Horizontal interpolation onto regular grids is possible through the namelist setting  \texttt{remap=1}, where
the mesh is defined by the parameters
\begin{itemize}
  \item \texttt{reg\_lon\_def}: mesh latitudes in degrees,
  \item \texttt{reg\_lat\_def}: mesh longitudes in degrees,
  \item \texttt{north\_pole}: definition of north pole for rotated lon-lat grids.
\end{itemize}
The regular grid points in \texttt{reg\_lon\_def}, \texttt{reg\_lat\_def} are each specified by three values, given in degrees:
\emph{start}, \emph{increment}, \emph{end}.
The mesh then contains all grid points $start + k * increment <= end$, where $k$ is an integer.
Instead of defining an increment it is also possible to prescribe the number of grid points.
\begin{itemize}
  \item Setting the namelist parameter \texttt{reg\_def\_mode=0}: 
        Switch automatically from increment specification to no. of grid points,
        when the  \texttt{reg\_lon/lat\_def(2)} value is larger than 5.0.
  \item 1: \texttt{reg\_lon/lat\_def(2)} specifies increment
  \item 2: \texttt{reg\_lon/lat\_def(2)} specifies no. of grid points
\end{itemize}
For longitude values the last grid point is omitted if the end point matches the start point, e.g. for 0 and 360 degrees.

\begin{tabbing}
  \parbox{0.7\textwidth}{\textbf{Examples}} \= \\
  local grid with 0.5 degree increment: \>
  \texttt{reg\_lon\_def = -30.,0.5,30.}
  \\ \>
  \texttt{reg\_lat\_def = 90.,-0.5, -90.}
  %
  \\[0.5em]
  global grid with 720x361 grid points: \>
  \texttt{reg\_lon\_def = 0.,720,360.}
  \\ \>
  \texttt{reg\_lat\_def = -90.,360,90.}
\end{tabbing}


% -------------------------------------------------------------
\paragraph{Time stamp format:}
% -------------------------------------------------------------

The namelist parameters \texttt{output\_start}, \texttt{output\_end}, \texttt{output\_interval} allow
the specification of time stamps according to ISO 8601.
The general format for time stamps is \texttt{YYYY-MM-DDThh:mm:ss}
where \texttt{Y}: year, \texttt{M}: month, \texttt{D}: day for dates, 
and   \texttt{hh}: hour, \texttt{mm}: minute, \texttt{ss}: second for time strings.  
The general format for durations is \texttt{PnYnMnDTnHnMnS}.
See, for example, \texttt{http://en.wikipedia.org/wiki/ISO\_8601} for details and further specifications.

\color{red}NOTE: as the mtime library underlaying the output driver
  currently has some restrictions concerning the specification of durations:\begin{enumerate}
\item Any number \texttt{n} in \texttt{PnYnMnDTnHnMnS} must have two digits. For instance use \texttt{"PT06H"} instead of \texttt{"PT6H"}
\item In a duration string \texttt{PnyearYnmonMndayDTnhrHnminMnsecS} the numbers \texttt{nxyz} must not pass the carry over number to the next larger time unit: 0<=nmon<=12, 0<=nhr<=23, 0<=nmin<=59, 0<=nsec<=59.999. For instance use \texttt{"P01D"} instead of \texttt{"PT24H"}, or \texttt{"PT01M"} instead of \texttt{"PT60S"}.
\end{enumerate}

Soon the formatting problem will be resolved and the valid number ranges will be enlarged.
(2013-12-16).\color{black}

\begin{tabbing}
  \parbox{0.7\textwidth}{\textbf{Examples}} \= \\
  date and time representation (\texttt{output\_start}, \texttt{output\_end}) \>
  \texttt{2013-10-27T13:41:00Z} \\
  duration (\texttt{output\_interval}) \>
  \texttt{P00DT06H00M00S} \\
\end{tabbing}



% -------------------------------------------------------------
\subsubsection*{Variable Groups}
% -------------------------------------------------------------
\paragraph{Keyword \texttt{"group:"}:}
Using the \texttt{"group:"} keyword for the namelist parameters \texttt{ml\_varlist}, \texttt{hl\_varlist}, \texttt{pl\_varlist},
sets of common variables can be added to the output:
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
\texttt{group:all}                     \>      output of all variables (caution: do not combine with \underline{mixed} vertical interpolation) \\
\texttt{group:atmo\_ml\_vars}          \>      basic atmospheric variables on model levels                          \\
\texttt{group:atmo\_pl\_vars}          \>      same set as atmo\_ml\_vars, but except pres\\
\texttt{group:atmo\_zl\_vars}          \>      same set as atmo\_ml\_vars, but expect height\\
\texttt{group:nh\_prog\_vars}          \>      additional prognostic variables of the nonhydrostatic model          \\
\texttt{group:atmo\_derived\_vars}     \>      derived atmospheric variables                                        \\
\texttt{group:rad\_vars}               \>                                                                           \\
\texttt{group:precip\_vars}            \>                                                                           \\
\texttt{group:cloud\_diag}             \>                                                                           \\
\texttt{group:pbl\_vars}               \>                                                                           \\
\texttt{group:phys\_tendencies}        \>                                                                           \\
\texttt{group:land\_vars}              \>                                                                           \\
\texttt{group:snow\_vars}              \>     snow variables                                                        \\
\texttt{group:multisnow\_vars}         \>     multi-layer snow variables                                            \\
\texttt{group:additional\_precip\_vars}\>                                                                           \\
\texttt{group:dwd\_fg\_atm\_vars}      \>     DWD first guess fields (atmosphere)                                   \\
\texttt{group:dwd\_fg\_sfc\_vars}      \>     DWD first guess fields (surface/soil)                                 \\
\texttt{group:ART\_AERO\_VOLC}         \>     ART volcanic ash fields                                               \\
\texttt{group:ART\_AERO\_RADIO}        \>     ART radioactive tracer fields                                         \\
\texttt{group:ART\_AERO\_DUST}         \>     ART mineral dust aerosol fields                                       \\
\texttt{group:ART\_AERO\_SEAS}         \>     ART sea salt aerosol fields                                           \\
\texttt{group:prog\_timemean}          \>     time mean output: temp, u, v, rho                                     \\
\texttt{group:tracer\_timemean}        \>     time mean output: qv, qc, qi                                          \\
\texttt{group:echam\_timemean}         \>     time mean output: most echam surface variables                        \\
\texttt{group:atmo\_timemean}          \>     time mean variables from \texttt{prog\_timemean},\texttt{tracer\_timemean}, \texttt{echam\_timemean}\\                                                  \\
\end{tabbing}

\paragraph{Keyword \texttt{"tiles:"}:}
The \texttt{"tiles:"} keyword allows to add all tiles of a specific variable to the output, without the need to specify all 
tile fields separately. E.g.\ \texttt{"tiles:t\_g"} (read: ``tiles of \texttt{t\_g}'') automatically adds all \texttt{t\_g\_t\_X} 
fields to the output. Here, \texttt{X} is a placeholder for the tile number. Make sure to specify the name of the aggregated 
variable rather than the name of the corresponding tile container (i.e.\ in the given example it must be \texttt{t\_g}, and not 
\texttt{t\_g\_t}!).

\begin{note}
      There exists a special syntax which allows to remove variables from the output list, e.\,g.\ if
      these undesired variables were contained in a previously selected group.\\
      Typing \texttt{"-\textnormal{<varname>}"} (for example \texttt{"-temp"}) removes the
      variable from the union set of group variables and other selected variables.
      Note that typos are not detected but that the corresponding variable is
      simply not removed!
\end{note}

\paragraph{Keyword substitution in output filename (\texttt{filename\_format}):}
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
\texttt{path}              \>  substituted by \texttt{model\_base\_dir}                 \\
\texttt{output\_filename}  \>  substituted by \texttt{output\_filename}                 \\
\texttt{physdom}           \>  substituted by physical patch ID                         \\
\texttt{levtype}           \>  substituted by level type ``ML'', ``PL'', ``HL'', ``IL'' \\
\texttt{levtype\_l}        \>  like \texttt{levtype}, but in lower case                 \\
\texttt{jfile}             \>  substituted by output file counter                       \\
\texttt{datetime}          \>  substituted by ISO-8601 date-time stamp in format \texttt{YYYY-MM-DDThh:mm:ss.sssZ} \\
\texttt{datetime2}         \>  substituted by ISO-8601 date-time stamp in format \texttt{YYYYMMDDThhmmssZ}         \\
\texttt{datetime3}         \>  substituted by ISO-8601 date-time stamp in format \texttt{YYYYMMDDThhmmss.sssZ}     \\
\texttt{ddhhmmss}          \>  substituted by \emph{relative} day-hour-minute-second string \\
\texttt{dddhhmmss}         \>  substituted by \emph{relative} three-digit day-hour-minute-second string \\
\texttt{hhhmmss}           \>  substituted by \emph{relative} hour-minute-second string     \\
\texttt{npartitions}       \>  If namelist is split into concurrent files: number of stream partitions.           \\
\texttt{ifile\_partition}  \>  If namelist is split into concurrent files: stream partition index of this file.   \\
\texttt{total\_index}      \>  If namelist is split into concurrent files: substituted by the file counter \\ 
                           \>  (like in \texttt{jfile}), which an "unsplit" namelist would have produced
\end{tabbing}

\newpage

%------------------------------------------------------------------------------
% parallel_nml:
%------------------------------------------------------------------------------
\subsection{parallel\_nml}
\begin{longtab}

%\hline
\textbf{nproma} &
I & 1& &
chunk length. &
\tabularnewline

%\hline
\textbf{nblocks\_c} &
I & 0& &
Number of looping chunks used for cells. For values <= 0 this is ignored. For bigger values, this overwrites \textbf{nproma}. &
\tabularnewline

%\hline
n\_ghost\_rows &
I & 1& &
number of halo cell rows&
\tabularnewline

%\hline
division\_method &
I & 1& &
method of domain decomposition\\
0: read in from file \\
1: use built-in geometric subdivision&
\tabularnewline


%\hline
division\_file\_name &
C &  & &
Name of division file &
division\_method = 0
\tabularnewline

%\hline
ldiv\_phys\_dom &
L & .TRUE. & &
.TRUE.: split into physical domains before computing domain decomposition (in case of merged domains)\\
(This reduces load imbalance; turning off this option is not recommended except for very small processor numbers) &
division\_method = 1
\tabularnewline

%\hline
p\_test\_run &
L & .FALSE.& &
.TRUE. means verification run for MPI parallelization (PE 0
processes full domain) &
\tabularnewline

num\_test\_pe&I&-1&&If set to more than 1, use this many ranks for
testing and switch to different consistency test. This enables tests
for identity in setups which are too big to run on a single rank but
is limited to comparing one MPI parallelization setup
vs.\ another, obviously.&p\_test\_run = .TRUE.  \tabularnewline

%\hline
l\_test\_openmp &
L & .FALSE.& &
if .TRUE. is combined with p\_test\_run=.TRUE. and OpenMP parallelization,
the test PE gets only 1 thread in order to verify the OpenMP parallelization&
p\_test\_run = .TRUE.
\tabularnewline

%\hline
l\_log\_checks &
L & .FALSE.& &
if .TRUE. messages are generated during each synchonization step
(use for debugging only)&
\tabularnewline

%\hline
l\_fast\_sum &
L & .FALSE.& &
if .TRUE., use fast (not processor-configuration-invariant) global summation&
\tabularnewline

%\hline
use\_dycore\_barrier &
L & .FALSE.& &
if .TRUE., set an MPI barrier at the beginning of the nonhydrostatic solver (do not use for production runs!)&
\tabularnewline

%\hline
itype\_exch\_barrier &
I & 0 & &
1: set an MPI barrier at the beginning of each MPI exchange call\\
2: set an MPI barrier after each MPI WAIT call \\
3: 1+2 (do not use for production runs!) &
\tabularnewline

%\hline
iorder\_sendrecv &
I & 1& &
Sequence of send/receive calls: \\
 1 = irecv/send \\
 2 = isend/recv  \\
 3 = isend/irecv
&
\tabularnewline

%\hline
default\_comm-\\
\_pattern\_type &
I & 1& &
Default implementation of mo\_communication to be used: \\
 1 = original \\
 2 = YAXT
&
\tabularnewline

%\hline
itype\_comm &
I & 1& &
1: use local memory for exchange buffers \\
3: asynchronous halo communication for dynamical core (currently deactivated)&
\tabularnewline

%\hline
\textbf{num\_io\_procs} &
I & 0& &
Number of I/O processors (running exclusively for doing I/O)&
\tabularnewline

%\hline
\textbf{num\_io\_procs\_radar}&
I & 0 & &
Number of dedicated I/O processors for the efficient radar forward operator EMVORADO.
Choosing more I/O processors than the total number of simulated radar stations of all domains
is not advisable, because one station is handled by one I/O processor. However, less
I/O processors can be chosen, in which case one processor handles several stations.\par
I/O tasks actually include much more than plain output for each station and
can be very time consuming. More details can be found in the \textcolor{red}{EMVORADO User's Guide} available from
the COSMO web page (\mbox{www.cosmo-model.org} $\rightarrow$ Documentation $\rightarrow$ EMVORADO) or from the
emvorado submodule \verb+./externals/emvorado/DOC/TEX/emvorado_userguide.pdf+.\par
If \texttt{num\_io\_procs\_radar}=0, a subset of the worker processors (=number of radar stations)
are doing the I/O tasks, which may slow down the model considerably.
& luse\_radarfwo(<idom>) =.TRUE., iequations=3,  iforcing=3
\tabularnewline

% \hline 
\textbf{num\_restart\_procs} &
I & 0& &
Number of restart processors (running exclusively for doing restart)&
\tabularnewline

%\hline
\textbf{num\_prefetch\_proc} &
I & 1& &
Number of processors for prefetching of boundary data asynchronously for
a limited area run (running exclusively for reading Input boundary
data. Maximum no of processors used for it is limited to 1). &
itype\_latbc $\ge$ 1 
\tabularnewline  

%\hline 
\textbf{proc0\_shift} &
I & 0 & &
Number of processors at the beginning of the rank list that are excluded from the domain decomposition.
Setting this parameter to 1 serves for offloading I/O to the vector hosts of the NEC Aurora, but it
works technically on other platforms as well. &
\tabularnewline

%\hline 
\textbf{use\_omp\_input} &
L & .FALSE. & &
Setting this parameter to .TRUE. activates OpenMP sections in initicon that allow task parallelism
for reading atmospheric input data, overlapping reading, sending, and statistics calculations. &
\tabularnewline


%\hline
pio\_type &
I & 1& &
Type of parallel I/O.\\
1: Classical async I/O proccessors\\
2: CDI-PIO (Experimental!)
Experimental!&
\tabularnewline

% % %\hline
% % nh\_stepping\_threads &
% % I & 1& &
% % The number of OpenMP threads to be used by the non-hydrostatic dycore. Only used if the \_\_OMP\_RADIATION\_\_
% % flag is set during compilation. Experimental! &
% % \tabularnewline
% %
% % %\hline
% % radiation\_threads &
% % I & 1& &
% % The number of OpenMP threads to be used by the radiation. Only used if the \_\_OMP\_RADIATION\_\_
% % flag is set during compilation. Experimental! &
% % \tabularnewline

%\hline
use\_icon\_comm &
L & .FALSE. & &
Enable the use of MPI bulk communication through the icon\_comm\_lib &
\tabularnewline

%\hline
icon\_comm\_debug &
L & .FALSE. & &
Enable debug mode for the icon\_comm\_lib &
\tabularnewline

%\hline
max\_send\_recv-\\
 \_buffer\_size &
I & 131072 & &
Size of the send/receive buffers for the icon\_comm\_lib. &
\tabularnewline

%\hline
use\_dp\_mpi2io &
L & .FALSE. & &
 Enable this flag if output fields shall be gathered by the output processes in DOUBLE PRECISION. &
\tabularnewline

%\hline
restart\_chunk\_size &
I & 1 & &
\emph{(Advanced namelist parameter:)}
Number of levels to be buffered by the asynchronous restart process.
The (asynchronous) restart is capable of writing and communicating
more than one 2D slice at once. &
\tabularnewline

%\hline
num\_dist\_array\_replicas &
I & 1 & &
\emph{(Advanced namelist parameter:)}
Number of replicas of the distributed array used for the pre\_patch.
&
\tabularnewline

%\hline
io\_process\_stride &
I & -1 & &
\emph{(Advanced namelist parameter:)}
Stride of processes taking part in reading of data. (Few reading
processes, i.e. a large stride, often gives best performance.)
&
\tabularnewline

%\hline
io\_process\_rotate &
I & 0 & &
\emph{(Advanced namelist parameter:)}
Rotate of processes taking part in reading of data.
(Process taking part if p\_pe\_work \% stride == rotate)
&
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_parallel_nml.f90+

%------------------------------------------------------------------------------
% psrad_nml:
%------------------------------------------------------------------------------
\subsection{psrad\_nml}

\begin{longtab}

%\hline
lradforcing &
L(2)&
.FALSE.&
&
switch for diagnostics of aerosol forcing in the solar spectral range
(lradforcing(1)) and the thermal spectral range (lradforcing(2)). 
\tabularnewline

%hline
lw\_gpts\_ts &
I&
1&
&
number of g--points in Monte--Carlo
   spectral integration for thermal radiation, see lw\_spec\_samp
\tabularnewline

%hline
lw\_spec\_samp &
I&
1&
&
sampling of spectral bands in radiation
calculation for thermal radiation\newline
lw\_spec\_samp = 1: standard broad
band sampling\newline
lw\_spec\_samp = 2: Monte--Carlo spec-
 tral integration (MSCI); lw\_gpts\_ts
randomly chosen g--points per column
 and radiation call\newline
lw\_spec\_samp = 3: choose g--points not
 completely randomly in order to reduce
errors in the surface radiative fluxes
\tabularnewline

%hline
rad\_perm &
I&
0&
&
integer number that influences the perturba- 
  tion of the random seed from column 
  to column
\tabularnewline

%hline
sw\_gpts\_ts &
I&
1&
&
number of g--points in Monte--Carlo 
    spectral integration for solar radiation, 
    see sw\_spec\_samp 
\tabularnewline


%hline
sw\_spec\_samp&
I&
1&
&
sampling of spectral bands in radiation 
calculation for solar radiation \newline
sw\_spec\_samp = 1: standard broad 
band sampling\newline 
sw\_spec\_samp = 2: Monte--Carlo spectral integration (MSCI); lw\_gpts\_ts 
  randomly chosen g--points per column 
    and radiation call\newline 
    sw\_spec\_samp = 3: choose g--points not 
      completely randomly in order to reduce 
      errors in the surface radiative fluxes 
\tabularnewline

%hline
\end{longtab}

Defined and used in: \verb+src/echam_phy_psrad/mo_psrad_radiation.f90+

%------------------------------------------------------------------------------
% radiation_nml:
%------------------------------------------------------------------------------
\subsection{radiation\_nml}

\begin{longtab}

%\hline
ldiur &
L&
.TRUE.&
&
switch for solar irradiation: \\.TRUE.:diurnal cycle, \\.FALSE.:zonally averaged irradiation&
\tabularnewline

%\hline
nmonth &
I&
0&
&
0: Earth circles on orbit\\1-12: Earth orbit position fixed for specified month&
\tabularnewline

%\hline
lyr\_perp &
L&
.FALSE.&
&
.FALSE.: transient Earth orbit following VSOP87 \\ .TRUE.: Earth orbit of year yr\_perp of the VSOP87 orbit is perpertuated &
\tabularnewline

%\hline
yr\_perp &
L&
-99999&
&
year used for lyr\_perp = .TRUE.&
\tabularnewline

%\hline
isolrad &
I&
0&
&
Insolation scheme\\
0: Use original SRTM insolation.\\
1: Use insolation from external file containing the spectrally
resolved insolation (monthly means)\\
2: Use preindustrial insolation as in CMIP5 (average from 1844--1856)\\
3: Use insolation for AMIP--type CMIP5 simulation (average from 1979--1988)\\
4: Use insolation for RCE--type simulation with cos(zenith angle) =
pi/4 (with PSRAD: use ``4'' if the diurnal cycle is switched on)\\
5: Use insolation for RCE--type simulation with PSRAD if the diurnal
cycle is switched off.
 &
\tabularnewline

%\hline
izenith&
I&
4 &
&
Choice of zenith angle formula for the radiative transfer computation.\par
0: Sun in zenith everywhere\par
1: Zenith angle depends only on latitude\par
2: Zenith angle depends only on latitude. Local time of day fixed at 07:14:15 for radiative transfer computation (sin(time of day) = 1/pi\par
3: Zenith angle changing with latitude and time of day\par
4: Zenith angle and irradiance changing with season, latitude, and time of day (iforcing=inwp only)
5: Zenith angel for radiative convective equilibrium test: perpetual equinox with 340 W/m2
6: Zenith angle with prescribed cosine of solar zenith angle (see parameter cos\_zenith\_fixed)
&
\tabularnewline

%\hline
cos\_zenith\_fixed&
R&
0.5 &
&
Cosine of zenith angle for test cases including SCM
&
izenith=6
\tabularnewline

%\hline
islope\_rad&
I&
0 &
&
Slope correction for surface radiation:\\
0: None \\
1: Slope correction for direct solar radiation without shading effects
&
\tabularnewline


%\hline
\textbf{albedo\_type}&
I&
1&
&
Type of surface albedo\\
1: based on soil type specific tabulated values (dry soil)\\
2: MODIS albedo \\
3: fixed albedo for SCM and other testcases
&
iforcing=inwp
\tabularnewline


%\hline
\textbf{albedo\_fixed}&
R&
0.5&
&
Fixed albedo value for SCM and various testcases
&
iforcing=inwp\\
albedo\_type=3
\tabularnewline


%\hline
\textbf{direct\_albedo}&
I&
4&
&
Direct beam surface albedo over land and sea-ice. Options mainly differ in terms of their solar zenith angle (SZA) dependency.\\
1: Ritter-Geleyn (1992) \\
2: Z\"angl (pers.\ comm.): For 'rough surfaces' over land direct albedo
   is not allowed to exceed the corresponding broadband diffuse
   albedo. Ritter-Geleyn for ice. \\
3: Yang et al (2008) for snow-free land points. Ritter-Geleyn for ice and Z\"angl for snow. \\
4: Briegleb and Ramanathan (1992) for snow-free land points. Ritter-Geleyn for ice and Z\"angl for snow.
&
iforcing=inwp\\
albedo\_type=2
\tabularnewline

%\hline
\textbf{direct\_albedo\_water}&
I&
2&
&
Direct beam surface albedo over water (ocean or lake). Options mainly differ in terms of their solar zenith angle (SZA) dependency.\\
1: Ritter-Geleyn (1992) \\
2: Yang (2008), originally designed for land\\
3: Taylor et al (1996) for direct and 0.06 for diffuse albedo as in the IFS. 
&
iforcing=inwp\\
albedo\_type=2
\tabularnewline

%\hline
\textbf{albedo\_whitecap}&
I&
0&
&
Ocean albedo increase by foam from breaking waves (whitecaps). Not applied over lakes.\\
0: off \\
1: whitecap describtion by Seferian et al 2018
&
iforcing=inwp\\
albedo\_type=2
\tabularnewline

%\hline
icld\_overlap &
I&
2&
&
Method for cloud overlap calculation in shortwave part of RRTM\\
1: maximum-random overlap \\
2: generalized overlap (Hogan, Illingworth, 2000) \\
3: maximum overlap \\
4: random overlap \\
5: exponential overlap
&
iforcing=inwp\\
inwp\_radiation=1 (1-4)\\
inwp\_radiation=4 (1,2,5)
\tabularnewline

%\hline
irad\_h2o\par
irad\_co2\par
irad\_ch4\par
irad\_n2o\par
irad\_o3\par
irad\_o2\par
irad\_cfc11\par
irad\_cfc12\par
&
I&
1\par
2\par
3\par
3\par
0\par
2\par
2\par
2\par
&
&
Switches for the concentration of radiative agents\par
irad\_xyz = 0: set to zero\par
irad\_h2o = 1: vapor, cloud water and cloud ice from tracer variables\par
irad\_co2 = 1: CO\textsubscript{2} from tracer variable\par
irad\_co2/ch4/n2o/o2/cfc11/cfc12 = 2: concentration given by vmr\_co2/ch4/n2o/o2/cfc11/cfc12\par
irad\_ch4/n2o = 3: tanh-profile with surface concentration given by vmr\_ch4/n2o\par
irad\_co2/cfc11/cfc12 = 4: time dependent concentration from greenhouse gas file\par
irad\_ch4/n2o = 4: time dependent tanh-profile with surface concentration from greenhouse gas file\par
irad\_o3 = 2: ozone climatology from MPI \par
irad\_o3 = 4: ozone clim for Aqua Planet Exp \par
irad\_o3 = 6: ozone climatology with T5 geographical distribution and Fourier series for seasonal cycle {\color{red}for run\_nml/iforcing = 3 (NWP)} \par
irad\_o3 = 7: GEMS ozone climatology (from IFS) {\color{red}for run\_nml/iforcing = 3 (NWP)} \par
irad\_o3 = 8: ozone climatology for AMIP \par
irad\_o3 = 9: MACC ozone climatology (from IFS) {\color{red}for run\_nml/iforcing = 3 (NWP)} \par
irad\_o3 = 79: Blending between GEMS and MACC ozone climatologies (from IFS) {\color{red}for run\_nml/iforcing = 3 (NWP)}; MACC is used over Antarctica \par
irad\_o3 = 97: As 79, but MACC is also used above 1 hPa with transition zone between 5 hPa and 1 hPa \par
irad\_o3 = 10: Linearized ozone chemistry (ART extension necessary) {\color{red}for run\_nml/iforcing = 3 (NWP)} \par
irad\_o3 = 11: Ozone from SCM input file
&
\tabularnewline
%\hline
vmr\_co2\par
vmr\_ch4\par
vmr\_n2o\par
vmr\_o2\par
vmr\_cfc11\par
vmr\_cfc12\par
&
R&
348.0e-6\par
\mbox{1650.0e-9}\par
306.0e-9\par
0.20946\par
\mbox{214.5e-12}\par
\mbox{371.1e-12}
&
&
Volume mixing ratio of the radiative agents&
\tabularnewline

%\hline
fh2o\par
fco2\par
fch4\par
fn2o\par
fo3\par
fo2\par
fcfc\par
&
R&
1.\par
1.\par
1.\par
1.\par
1.\par
1.\par
1.\par
&
&
Scaling factors for concentrations used in radiation&
run\_nml/iforcing=2 (ECHAM)
\tabularnewline

%\hline
irad\_aero &
I&
2&
&
Aerosols\\
1: prognostic variable\\
2: global constant\\
3: externally specified\\
5: Tanre aerosol climatology {\color{red}for run\_nml/iforcing = 3 (NWP) }\\
6: Tegen aerosol climatology {\color{red}for run\_nml/iforcing = 3 (NWP) .AND. itopo =1 }\\
9: ART online aerosol radiation interaction, uses Tegen for aerosols not chosen to be represented in ART {\color{red}for run\_nml/iforcing = 3 (NWP) .AND. itopo =1 .AND. lart=TRUE .AND. iart\_ari=1}\\
12: tropospheric 'Kinne' aerosols, constant in time\\
13: tropospheric 'Kinne' aerosols, time dependent from file
(if the 1850--file is given for all simulated years, only the
natural background of aerosols is applied)\\
14: volcanic stratospheric aerosols for CMIP6, time dependent from file\\
15: tropospheric 'Kinne' aerosols + volcanic stratospheric aerosols for CMIP6,
time dependent, both from file.
If the 1850--file of the 'Kinne' aerosols is given, only the natural background from Kinne aerosol is applied.\\
&
\tabularnewline

%\hline
lrad\_aero\_diag &
L&
.FALSE.&
&
writes actual aerosol optical properties to output &
\tabularnewline

%\hline
ecrad\_data\_path &
C&
"."&
&
Path to the folder containing ecRad optical properties files. 
& inwp\_radiation=4 (ecRad)
\tabularnewline

%\hline
llw\_cloud\_scat &
L&
.FALSE.&
&
Long-wave cloud scattering.
& inwp\_radiation=4 (ecRad)
\tabularnewline

%\hline
iliquid\_scat &
I&
0&
&
Optical properties for liquid cloud scattering. \\
0: SOCRATES \\
1: Slingo (1989)
& inwp\_radiation=4 (ecRad)
\tabularnewline

%\hline
iice\_scat &
I&
0&
&
Optical properties for ice cloud scattering. \\
0: Fu et al. (1996) \\
1: Baran et al. (2016)
& inwp\_radiation=4 (ecRad)
\tabularnewline

%\hline
nproma\_rad &
I&
-1&
&
Chunk size of subblocks used for the ecRad calls, which is needed by the GPU
port to reduce the memory footprint of ecrad. \\
If nproma\_rad $\le0$ the number of subblocks is set to -nproma\_rad instead. 
& inwp\_radiation=4 (ecRad)
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_radiation_nml.f90+


%------------------------------------------------------------------------------
% run_nml
%------------------------------------------------------------------------------
\subsection{run\_nml}

\begin{longtab}

%\hline
\textbf{nsteps} &
I & -999 & &
Number of time steps of this run. Allowed range is $\ge0$; setting a value
of 0 allows writing initial output (including internal remapping) without 
calculating time steps.&
\tabularnewline

%\hline
\textbf{dtime} &
R & 600.0& s&
time step.\\
For real case runs the maximum allowable time step can be estimated as\\
 $1.8 \cdot \mathrm{ndyn\_substeps} \cdot \overline{\Delta x}\,\mathrm{s\, km^{-1}}$,\\
where $\overline{\Delta x}$ is the average resolution in $\mathrm{km}$ and
$\mathrm{ndyn\_substeps}$ is the number of dynamics substeps set in
nonhydrostatic\_nml.  ndyn\_substeps should not be increased beyond the
default value $5$.&
\tabularnewline


%\hline
\textbf{ltestcase} &
L & .TRUE.& &
Idealized testcase runs&
\tabularnewline

%\hline
\textbf{ldynamics}&
L& .TRUE.& &
Compute adiabatic dynamic tendencies&
\tabularnewline

%\hline
\textbf{iforcing}&
I&
0&
&
Forcing of dynamics and transport by parameterized processes. Use positive indices for the
atmosphere and negative indices for the ocean.\\
0: no forcing\\
1: Held-Suarez forcing\\
2: ECHAM forcing\\
3: NWP forcing\\
4: local diabatic forcing without physics\\
5: local diabatic forcing with physics\\
-1: MPIOM forcing (to be done)&
\tabularnewline

%\hline
\textbf{ltransport}&
L& .FALSE.& &
Compute large-scale tracer transport&
\tabularnewline

%\hline
\textbf{ntracer}&
I& 0& &
Number of advected tracers handled by the large-scale transport scheme&
\tabularnewline

%\hline
\textbf{lvert\_nest} &
L & .FALSE.& &
If set to .true. vertical nesting is switched on (i.e.\ variable number of vertical levels) &
\tabularnewline

%\hline
\textbf{num\_lev}&
I(max\_ dom)& 31& &
Number of full levels (atm.) for each domain&
lvert\_nest=.TRUE.
\tabularnewline

%\hline
nshift&
I(max\_ dom)& 0& &
vertical half level of parent domain which coincides with
upper boundary of the current domain \textcolor{red}{required for vertical refinement, which is not yet implemented}&
lvert\_nest=.TRUE.
\tabularnewline

%\hline
ltimer&
L & .TRUE.& &
TRUE: Timer for monitoring the runtime of specific routines is on (FALSE = off)&
\tabularnewline

%\hline
timers\_level&
I & 1& &
&
\tabularnewline

%\hline
activate\_sync\_timers&
L & F& &
TRUE: Timer for monitoring runtime of communication routines (FALSE = off)&
\tabularnewline

%\hline
\textbf{msg\_level}&
I & 10& &
controls how much printout is written during runtime. \\
For values less than 5, only the time step is written.&
\tabularnewline

%\hline
msg\_timestamp&
L & .FALSE.& &
If .TRUE., precede output messages by time stamp.&
\tabularnewline

%\hline
debug\_check\_level&
I & 0& &
Setting a value larger than 0 activates debug checks.
& 
\tabularnewline

%\hline
\textbf{output} &
C(:)& ``nml'', ''totint'' & &
Main switch for enabling/disabling components of the model output. One or more choices can be set (as an array of string constants). Possible choices are:
\begin{itemize}
\item ``none'': switch off all output;
\item``nml'': new output mode (cf.\ \texttt{output\_nml});
\item``totint'': computation of total integrals.
\item``maxwinds'': write max. winds to separate ASCII file ''maxwinds.log''.
\end{itemize}
If the \texttt{output} namelist parameter is not set explicitly, the default setting ``nml'',''totint'' is assumed.
 &
\tabularnewline

\hline
restart\_filename&
C &
&
&
File name for restart/checkpoint files (containing keyword
substitution patterns \texttt{<gridfile>}, \texttt{<idom>}, \texttt{<rsttime>}, \texttt{<mtype>}).
default: ''\texttt{<gridfile>\_restart\_<mtype>\_<rsttime>.nc}''.
&
\tabularnewline

\hline
profiling\_output&
I & 1& &
controls how profiling printout is written: 
TIMER\_MODE\_AGGREGATED=1, 
TIMER\_MODE\_DETAILED=2,
TIMER\_MODE\_WRITE\_FILES=3.
&
\tabularnewline

\hline
lart&
L & .FALSE.& &
Main switch which enables the treatment of atmospheric aerosol and trace gases (The ART package of KIT is needed for this purpose)
&
\tabularnewline

\hline
ldass\_lhn&
L & .FALSE.& &
Main switch which enables the assimilation of radar derived precipitation rate via Latent Heat Nudging
&
\tabularnewline

\hline
check\_uuid\_gracefully&
L & .FALSE.& &
If this flag is set to \texttt{.TRUE.} we give only warnings for non-matching UUIDs.
&
\tabularnewline

\hline
luse\_radarfwo&
L(max\_ dom) & .FALSE.& &
For each domain, switch to activate the efficient volume scan radar forward operator EMVORADO.
The EMVORADO code is provided as a submodule named \verb+emvorado+, which is part of the ICON distribution.
ICON itself contains only some ICON specific interface modules.\par
\verb+./configure+ (respectively the call to a configure wrapper script) needs the option \verb+--enable-emvorado+.\par
EMVORADO needs its own namelist(s) for each radar-active model domain in a separate
namelist input file \verb+RADARSIM_PARAMS+. More details can be found in the \textcolor{red}{EMVORADO User's Guide} available from
the COSMO web page (\mbox{www.cosmo-model.org} $\rightarrow$ Documentation $\rightarrow$ EMVORADO) or from the
submodule \verb+./externals/emvorado/DOC/TEX/emvorado_userguide.pdf+.
& iequations=3,  iforcing=3, \\ICON configure'd with \verb+--enable-emvorado+
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_run_nml.f90+

%-----------------------------------------------------------------------------
% scm_nml:
%-----------------------------------------------------------------------------
\subsection{scm\_nml (relevant if l\_scm\_mode)}
\begin{longtab}

%\hline
i\_scm\_netcdf & I & 1 & & reading SCM input data from \\ 0: ASCII file \\ 1: normal ICON netcdf file \\ 2: DEPHY unified netcdf file &
\tabularnewline

%\hline
lscm\_icon\_ini & L & .FALSE. & & read initial conditions produced
by ICON on the native grid& 
\tabularnewline
%\hline
lscm\_random\_noise & L & .FALSE. & & initialize with random noise - for LEM runs
by ICON on the native grid& 
\tabularnewline

%\hline
lscm\_read\_tke & L & .FALSE. & & read init. tke from netcdf & 
\tabularnewline

%\hline
lscm\_read\_z0 & L & .FALSE. & & read z0 from netcdf &
\tabularnewline

%\hline
scm\_sfc\_mom & I & 0 & & prescribed surface boundary condition for
momentum using \\ 0: TERRA \\ 2: friction velocity \\ 4: drag coefficient \\ 5: Louis surface layer scheme &
\tabularnewline

%\hline
scm\_sfc\_qv & I & 0 & & prescribed surface boundary condition for
moisture using \\ 0: TERRA \\ 1: surface moisture (qv\_s) \\ 2: latent heat flux \\ 3: saturation \\4: draf coefficient \\ 5: Louis surface layer scheme &
\tabularnewline

%\hline
scm\_sfc\_temp & I & 0 & & prescribed surface boundary condition for
temperature using \\ 0: TERRA \\ 1: surface temperature (t\_g) \\ 2: sensible heat flux (shfl\_s)   \\4: drag coefficient \\ 5: Louis surface layer scheme &
\tabularnewline
  
\end{longtab}

Defined and used in: \verb+src/namelists/mo_scm_nml.f90+


%-----------------------------------------------------------------------------
% sleve_nml:
%-----------------------------------------------------------------------------
\subsection{sleve\_nml (relevant if nonhydrostatic\_nml:ivctype=2)}
\begin{longtab}

%\hline
\textbf{min\_lay\_thckn}&
R& 50& m&
Layer thickness of lowermost layer; specifying zero or a negative value leads to constant layer thicknesses
determined by top\_height and nlev&
\tabularnewline

%\hline
max\_lay\_thckn&
R& 25000& m&
Maximum layer thickness below the height given by htop\_thcknlimit (NWP recommendation: 400 m) \\
\textit{Use with caution! Too ambitious settings may result in numerically unstable layer configurations.}&
\tabularnewline

%\hline
htop\_thcknlimit&
R& 15000& m&
Height below which the layer thickness does not exceed max\_lay\_thckn &
\tabularnewline

%\hline
itype\_laydistr&
I& 1& &
Type of analytical function used to specify the distribution of the vertical coordinate surfaces \\
1: transformed cosine, 2: third-order polynomial; in this case, stretch\_fac should be less than 1,
particularly for large numbers of model levels; the algorithm always works for stretch\_fac=0.5 &
\tabularnewline


%\hline
\textbf{top\_height}&
R& 23500.0& m&
Height of model top&
\tabularnewline

%\hline
stretch\_fac&
R& 1.0& &
Stretching factor to vary distribution of model levels;
values $<$1 increase the layer thickness near the model top&
\tabularnewline

%\hline
decay\_scale\_1&
R& 4000& m&
Decay scale of large-scale topography component&
\tabularnewline

%\hline
decay\_scale\_2&
R& 2500& m&
Decay scale of small-scale topography component&
\tabularnewline

%\hline
decay\_exp&
R& 1.2& &
Exponent of decay function&
\tabularnewline

%\hline
\textbf{flat\_height} &
R& 16000& m&
Height above which the coordinate surfaces are flat&
\tabularnewline

%\hline
lread\_smt &
L& .FALSE.& &
read smoothed topography from file (TRUE) or compute internally (FALSE)&
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_sleve_nml.f90+


%-----------------------------------------------------------------------------
% synsat_nml:
%-----------------------------------------------------------------------------
\subsection[synsat\_nml]{synsat\_nml%
\footnote{Important note: This feature is currently active for configuration \texttt{dwd+cray} only.}}

This namelist enables the RTTOV library incorporated into ICON for
simulating satellite radiance and brightness temperatures.
%
RTTOV is a radiative transfer model for nadir-viewing passive visible, infrared
and microwave satellite radiometers, spectrometers and
interferometers, see
\begin{center}
\verb+https://nwpsaf.eu/deliverables/rtm+
\end{center}
for detailed information.

\begin{longtab}

%\hline
{lsynsat}&
L (max\_dom) & .FALSE.& 
& Main switch: Enables/disables computation of synthetic satellite imagery for each model domain.
&
\tabularnewline

%\hline
{nlev\_rttov}&
I& 51&
& Number of RTTOV levels.
&
\tabularnewline

%\hline
\end{longtab}

Enabling the synsat module makes the following 32 two-dimensional output fields available:
%
{\renewcommand{\baselinestretch}{1.25}\normalsize%
\begin{tabbing}
\hspace*{14em} \= \hspace*{14em} \= \hspace*{14em} \= \hspace*{14em} \kill
\verb+SYNMSG_RAD_CL_IR3.9+   \>  \verb+SYNMSG_BT_CL_IR3.9+    \>
\verb+SYNMSG_RAD_CL_WV6.2+   \>   \verb+SYNMSG_BT_CL_WV6.2+   \\
\verb+SYNMSG_RAD_CL_WV7.3+   \>   \verb+SYNMSG_BT_CL_WV7.3+   \>
\verb+SYNMSG_RAD_CL_IR8.7+   \>   \verb+SYNMSG_BT_CL_IR8.7+   \\
\verb+SYNMSG_RAD_CL_IR9.7+   \>   \verb+SYNMSG_BT_CL_IR9.7+   \>
\verb+SYNMSG_RAD_CL_IR10.8+  \>   \verb+SYNMSG_BT_CL_IR10.8+  \\
\verb+SYNMSG_RAD_CL_IR12.1+  \>   \verb+SYNMSG_BT_CL_IR12.1+  \>
\verb+SYNMSG_RAD_CL_IR13.4+  \>   \verb+SYNMSG_BT_CL_IR13.4+  \\
\verb+SYNMSG_RAD_CS_IR3.9+   \>   \verb+SYNMSG_BT_CS_IR3.9+   \>
\verb+SYNMSG_RAD_CS_WV6.2+   \>   \verb+SYNMSG_BT_CS_WV6.2+   \\
\verb+SYNMSG_RAD_CS_WV7.3+   \>   \verb+SYNMSG_BT_CS_WV7.3+   \>
\verb+SYNMSG_RAD_CS_IR8.7+   \>   \verb+SYNMSG_BT_CS_IR8.7+   \\
\verb+SYNMSG_RAD_CS_IR9.7+   \>   \verb+SYNMSG_BT_CS_IR9.7+   \>
\verb+SYNMSG_RAD_CS_IR10.8+  \>   \verb+SYNMSG_BT_CS_IR10.8+  \\
\verb+SYNMSG_RAD_CS_IR12.1+  \>   \verb+SYNMSG_BT_CS_IR12.1+  \>
\verb+SYNMSG_RAD_CS_IR13.4+  \>   \verb+SYNMSG_BT_CS_IR13.4+
\end{tabbing}
}
Here, 
\verb+RAD+ denotes radiance, 
\verb+BT+ brightness temperature,
\verb+CL+ cloudy, and
\verb+CS+ clear sky, 
supplemented by the channel name.

Defined and used in: \verb+src/namelists/mo_synsat_nml.f90+

%-----------------------------------------------------------------------------
% synradar_nml:
%-----------------------------------------------------------------------------
\subsection[synradar\_nml]{synradar\_nml}%

  The list of diagnostic output variables in ICON incorporates some fields related
  to synthetic radar reflectivity on the model grid:
  \begin{itemize}
    \item \texttt{'dbz', 'dbz\_850', 'dbz\_cmax', 'dbz\_ctmax'}
    \item \texttt{'echotop', 'echotopinm'}
  \end{itemize}
  By default, these are based on
  a simple analytic so-called Rayleigh-approximation for single-particle backscattering.

  If ICON is configured with the flag \verb+--enable-emvorado+ and compiled with
  the pre-processor flag \verb+-DHAVE_RADARFWO+, some alternative, more accurate
  Mie- or T-matrix methods from the radar forward operator EMVORADO can be used by namelist choice (see below), particularly for
  improving the simulation of the so-called "bright band", the enhanced reflectivity in the melting layer.
  
%
EMVORADO is the Efficient Modular VOlume RADar Operator for simulating radar volume scans for cloud- and weather radar wavelenghts, see
\begin{itemize}
\item EMVORADO User's Guide\\
  in ICON's EMVORADO submodule \verb+./externals/emvorado/DOC/TEX/emvorado_userguide.pdf+\\
  or on the COSMO web page (\mbox{www.cosmo-model.org} $\rightarrow$ Documentation $\rightarrow$ EMVORADO)\\
  \verb+http://www.cosmo-model.org/content/model/documentation/core/emvorado_userguide.pdf+
\item A COSMO Technical Report No. 28\\
  on the COSMO web page (\mbox{www.cosmo-model.org} $\rightarrow$ COSMO Tech Reports)\\
  \verb+http://www.cosmo-model.org/content/model/documentation/techReports/cosmo/docs/techReport28.pdf+
\end{itemize}
for detailed information.

\begin{longtab}

%\hline
synradar\_meta \\[2\baselineskip]
\squeezeme{\hspace*{3ex} This type contains:}\\[\baselineskip]
\squeezeme{\hspace*{3ex} synradar\_meta\%itype\_refl}\\[\baselineskip]
\hspace*{3ex} \parbox{\linewidth-3ex}{and many other parameters which are only relevant if itype\_refl is not the default (4)} &
\squeezeme{TYPE(dbzcalc\_params)} \\[4\baselineskip] I&
\,\\[4\baselineskip]
4&&
Instance of the derived type \textbf{dbzcalc\_params} from EMVORADO to specify details of the radar reflectivity calculation for related outputs ('dbz', 'dbz\_850', 'dbz\_cmax', 'dbz\_ctmax', 'echotop', 'echotopinm').
The type is documented in detail in the \textcolor{red}{EMVORADO User's Guide}. \\
The most important component is \textbf{itype\_refl:}\\
\textbf{1:} Mie-scattering from EMVORADO assuming spherical particles and including a detailed melting scheme for the radar ``bright band''.\\
\textbf{3:} Rayleigh-Oguchi approximation from EMVORADO including a simple melting scheme, but not producing pronounced ``bright bands''.\\
\textbf{4:} Traditional Rayleigh approximation from ICON, also without pronounced ``bright bands''. \textbf{This is the default.}\\
\textbf{5:} T-matrix scattering from EMVORADO assuming oblate spheroids, otherwise similar to Mie-option 1.\\
\textbf{6:} T-matrix scattering from EMVORADO assuming spherical particles, only for sanity-checks against Mie-option 1.\\
For options 1, 5, 6 there are many more relevant type components.
&
iforcing=3, \\ ICON configure'd with \verb+--enable-emvorado+
\tabularnewline

%\hline
ydir\_mielookup\_write&
C& ' ' & &
For reflectivity calculations: directory for storing new automatically created reflectivity lookup tables in case of EMVORADO-methods that employ reflectivity lookup tables to boost efficiency (synradar\_meta\%itype\_refl=1, 5, 6 together with synradar\_meta\%llookup\_mie=.TRUE.) &
iforcing=3, \\ ICON configure'd with \verb+--enable-emvorado+, \\ \squeezeme{synradar\_meta\%itype\_refl=1, 5, 6} \\ \squeezeme{synradar\_meta\%llookup\_mie=.TRUE.}
\tabularnewline

%\hline
ydir\_mielookup\_read&
C& ' ' & &
For reflectivity calculations: directory for reading the reflectivity lookup tables in case of EMVORADO-methods that employ reflectivity lookup tables to boost efficiency (synradar\_meta\%itype\_refl=1, 5, 6 together with synradar\_meta\%llookup\_mie=.TRUE.) &
iforcing=3, \\ ICON configure'd with \verb+--enable-emvorado+, \\ \squeezeme{synradar\_meta\%itype\_refl=1, 5, 6} \\ \squeezeme{synradar\_meta\%llookup\_mie=.TRUE.}
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_synradar_nml.f90+

%------------------------------------------------------------------------------
% time_nml
%------------------------------------------------------------------------------
\subsection{time\_nml}
\begin{longtab}

%\hline
calendar&
I& 1& &
Calendar type: \\
0=Julian/Gregorian \\
1=proleptic Gregorian\\
2=30day/month, 360day/year &
\tabularnewline

%\hline
dt\_restart &
R & 0. & s &
Length of restart cycle in seconds.
This namelist parameter specifies how long the model runs until it saves its
state to a file and stops.
Later, the model run can be resumed, s.\,t.\ a simulation over
a long period of time can be split into a chain of restarted model runs.

Note that the frequency of writing restart files is controlled by
\texttt{io\_nml:dt\_checkpoint}. 
Only if the value of \texttt{dt\_checkpoint} resulting from
model default or user's specification is longer than \texttt{dt\_restart},
it will be reset (by the model) to \texttt{dt\_restart} so
that at least one restart file is generated during the restart cycle.
If \texttt{dt\_restart} is larger than but not a multiple of \texttt{dt\_checkpoint},
restart file will \emph{not} be generated at the end of the restart cycle.
&
\tabularnewline

%\hline
ini\_datetime\_string &
C & '2008- 09-01T 00:00:00Z' &&
Initial date and time of the simulation&
\tabularnewline

%\hline
end\_datetime\_string &
C & '2008- 09-01T 01:40:00Z' &&
End date and time of the simulation&
\tabularnewline

%\hline
is\_relative\_time &
L & .FALSE. &&
.TRUE., if time loop shall start with
step 0 regardless whether we are in a standard run or in a
restarted run (which means re-initialized run).
&
\tabularnewline

\end{longtab}

% -------------------------------------------------------------
\paragraph{Length of the run}
% -------------------------------------------------------------

If "nsteps" in run\_nml is positive, then nsteps*dtime
is used to compute the end date and time of the run.

Else the initial date and time, the end date and time, dt\_restart,
as well as the time step are used to compute "nsteps".

\newpage

%------------------------------------------------------------------------------
% transport_nml:
%------------------------------------------------------------------------------
\subsection{transport\_nml (used if run\_nml/ltransport=.TRUE.)}

\begin{longtab}

%\hline
\textbf{lvadv\_tracer}&
L& .TRUE.& & Main switch for vertical tracer transport. \\ 
             TRUE/FALSE : compute/do not compute vertical tracer advection. \\ 
             If vertical advection is switched off, the tracer mass fraction $q$ is kept constant. & 
\tabularnewline

%\hline
\textbf{ihadv\_tracer}&
I(ntracer)&
2& & Tracer specific method to compute horizontal advection:& \tabularnewline
& & & & 0: no horiz.\ transport. The tracer mass fraction $q$ is kept constant. & \tabularnewline
& & & & 1: upwind (1st order) & \tabularnewline
& & & & 2: Miura (2nd order, linear reconstr.)&  \tabularnewline
& & & & 3: Miura3 (quadr. or cubic reconstr.)& lsq\_high\_ord $\in$ [2,3] \tabularnewline
& & & & 4: FFSL (quadr. or cubic reconstr.)& lsq\_high\_ord $\in$ [2,3] \tabularnewline
& & & & 5: hybrid Miura3/FFSL (quadr. or cubic reconstr.)& lsq\_high\_ord $\in$ [2,3] \tabularnewline
& & & & 20: miura (2nd order, lin. reconstr.) with subcycling&  \tabularnewline
& & & & 22: combination of miura and miura with subcycling&  \tabularnewline
& & & & 32: combination of miura3 and miura with subcycling&  \tabularnewline
& & & & 42: combination of FFSL and miura with subcycling& \tabularnewline
& & & & 52: combination of hybrid FFSL/Miura3 with subcycling \\

Subcycling means that the integration from time step n to n+1 is splitted into substeps to meet the stability requirements. 
For NWP runs, substepping is generally applied above $z=22\,\mathrm{km}$ (see nonhydrostatic\_nml/hbot\_qvsubstep).
& \tabularnewline

%\hline
\textbf{ivadv\_tracer}&
I(ntracer)&
3& & Tracer specific method to compute vertical advection:& lvadv\_tracer=TRUE \tabularnewline
& & & & 0: no vert.\ transport. The tracer mass fraction $q$ is kept constant. & \tabularnewline
& & & & 1: upwind (1st order)& \tabularnewline
& & & & 2: Parabolic Spline Method (PSM): allows for $\mathrm{CFL}>1$& \tabularnewline
& & & & 3: Piecewise parabolic method (PPM): allows for $\mathrm{CFL}>1$ & \tabularnewline


%\hline
\textbf{itype\_hlimit}&
I(ntracer)&
4& & Type of limiter for horizontal transport:& \tabularnewline
& & & & 0: no limiter& \tabularnewline
& & & & 3: monotonic flux limiter (FCT)& \tabularnewline
& & & & 4: positive definite flux limiter& \tabularnewline

%\hline
\textbf{itype\_vlimit}&
I(ntracer)&
1& & Type of limiter for vertical transport:& \tabularnewline
& & & & 0: no limiter& \tabularnewline
& & & & 1: semi-monotonic reconstruction filter& \tabularnewline
& & & & 2: monotonic reconstruction filter& \tabularnewline
& & & & 3: positive definite flux limiter& \tabularnewline

%\hline
\textbf{ivlimit\_selective}&
I(ntracer)&
0& & Reduce detrimental effect of vertical limiter by applying a method for identifying and avoiding spurious limiting of smooth extrema.& \tabularnewline
& & & & 1: on& itype\_vlimit=1, 2 \tabularnewline
& & & & 0: off& \tabularnewline

%\hline
beta\_fct&
R& 1.005& & global boost factor for range of permissible values $\left[q_{max},q_{min}\right]$ in (semi-) monotonic flux limiter. A value larger 
than 1 allows for (small) over and undershoots, while a value of $1$ gives strict monotonicity (at the price of increased diffusivity). & 
itype\_hlimit = 3, 4
\tabularnewline

%\hline
iadv\_tke& 
I& 
0& & Type of TKE advection & inwp\_turb=1 \tabularnewline
&  & & & 0: no TKE advection & \tabularnewline
&  & & & 1: vertical advection only & \tabularnewline
&  & & & 2: vertical and horizontal advection &\tabularnewline

%\hline
tracer\_names&
C(:)& 'Int2Str(i)'& & Tracer-specific name suffixes. When running idealized cases or the hydrostatic ICON, 
this variable is used to specify tracer names. If nothing is specified, the tracer name is given as 
\texttt{PREFIX+Int2String(i)}, where \texttt{i} is the tracer index. Note that this 
namelist variable has no effect for nonhydrostatic real-case runs, if the NWP- or ECHAM physics 
packages are switched on. & iforcing$\ne$ inwp, iecham'
\tabularnewline

%\hline
npassive\_tracer&
I& 0 & & number of additional passive tracers which have no sources and are transparent to any physical process (no effect).\\ 
Passive tracers are named Qpassive\_ID, where ID is a number between \texttt{ntracer} and \texttt{ntracer}$+$\texttt{npassive\_tracer}.\\ 
\textbf{NOTE:} By default, limiters are switched off for passive tracers and the scheme $52$ is selected for horizontal advection. & 
\tabularnewline

%\hline
init\_formula&
C& ' ' & & Comma-separated list of initialization formulas for additional passive tracers. & npassive\_tracer > 0
\tabularnewline

%\hline
iord\_backtraj&
I& 1& & order of backward trajectory calculation:& \tabularnewline
& & & & 1: first order& \tabularnewline
& & & & 2: second order (iterative; currently 1 iteration hardcoded; experimental!)& ihadv\_tracer='miura'
\tabularnewline

%\hline
igrad\_c\_miura&
I& 1& & Method for gradient reconstruction at cell center for 2nd order miura scheme& \tabularnewline
& & & & 1: Least-squares (linear, non-consv)& ihadv\_tracer=2\tabularnewline
& & & & 2: Green-Gauss&
\tabularnewline

%\hline
ivcfl\_max&
I& 5& &
determines stability range of vertical PPM/PSM-scheme in terms of the maximum allowable CFL-number&
ivadv\_tracer=3,4
\tabularnewline

%\hline
llsq\_svd&
L&
.TRUE.&
&
use QR decomposition (FALSE) or SV decomposition (TRUE) for least squares design matrix A&
\tabularnewline

%\hline
lclip\_tracer&
L& .FALSE.& & Clipping of negative values&
\tabularnewline

%\hline
\end{longtab}

Defined and used in: \verb+src/namelists/mo_advection_nml.f90+


%------------------------------------------------------------------------------
% turbdiff_nml:
%------------------------------------------------------------------------------
\subsection{turbdiff\_nml}

\begin{longtab}

%\hline
imode\_turb &
I                &      1      & &
Mode of solving the TKE equation for atmosph. layers:\\
0: diagnostic equation\\
1: prognostic equation (current version)\\
2: prognostic equation (intrinsically positive definite) & 
\tabularnewline

%\hline
imode\_tran &
I                &      0      & &
Same as \emph{imode\_turb} but only for the transfer layer &
\tabularnewline

%\hline
icldm\_turb &
I                &      2      & &
Mode of water cloud representation in turbulence for atmosph. layers:\\
-1: ignoring cloud water completely (pure dry scheme)\\
 0: no clouds considered (all cloud water is evaporated)\\
 1: only grid scale condensation possible\\
 2: also sub grid (turbulent) condensation considered  &
\tabularnewline

%\hline
icldm\_tran &
I                &      2      & &
Same as \emph{icldm\_turb} but only for the transfer layer &
\tabularnewline

%\hline
q\_crit &
R                &    1.6      & &
critical value for normalized super-saturation &
\tabularnewline

%\hline
itype\_wcld &
I                &     2      & &
type of water cloud diagnosis within the turbulence scheme:\\
1: employing a scheme based on relative humitidy\\
2: employing a statistical saturation adjustment & icldm\_turb=2 or icldm\_tran=2
\tabularnewline

%\hline
itype\_sher &
I                &      0      & &
Type of shear forcing used in turbulence:\\
0: only vertical shear of horizontal wind\\
1: previous plus horizontal shear correction \\
2: previous plus shear from vertical velocity \\
3: same as option 1, but (when combined with ltkeshs=.TRUE.) scaling of
coarse-grid horizontal shear production term with $\frac{1}{\sqrt{Ri}}$ &
\tabularnewline

%\hline
ltkeshs &
L                &     .FALSE.      & &
Include correction term for coarse grids in horizontal shear production term (needed 
at non-convection-resolving model resolutions in order to get a non-negligible impact) & itype\_sher $\ge$ 1
\tabularnewline

%\hline
ltkesso &
L                &     .TRUE.      & &
Consider TKE-production by sub grid SSO wakes & inwp\_sso = 1
\tabularnewline

%\hline
imode\_tkesso &
I                &      1      & &
mode of calculat. the SSO source term for TKE production:\\
1: original implementation\\
2: Ri-dependent reduction factor for Ri$>$1 & 
\tabularnewline

%\hline
ltkecon &
L                &     .FALSE.      & &
Consider TKE-production by sub grid convective plumes (inactive) & inwp\_conv = 1
\tabularnewline

%\hline
ltkeshs &
L                &     .FALSE.      & &
Consider TKE-production by separated horizontal shear eddies (inactive) &
\tabularnewline

%\hline
ltmpcor &
L                &     .FALSE.      & &
Consider thermal TKE sources in enthalpy equation &
\tabularnewline

%\hline
lsflcnd &
L                &     .TRUE.      & &
Use lower flux condition for vertical diffusion calculation (TRUE) instead of a lower concentration condition (FALSE) &
\tabularnewline

%\hline
lexpcor &
L                &     .FALSE.      & &
Explicit corrections of implicitly calculated vertical diffusion of non-conservative scalars that are involved in sub grid condensation processes &
\tabularnewline

%\hline
tur\_len &
R                &     500.0      & m &
Asymptotic maximal turbulent distance ($\kappa * tur\_len$ is the integral turbulent master length scale) &
\tabularnewline

%\hline
pat\_len &
R                &     100.0      & m &
Effective length scale of thermal surface patterns controlling TKE-production by sub grid kata/ana-batic circulations. In case of $pat\_len=0$, 
this production is switched off.&
\tabularnewline

%\hline
c\_diff &
R                &     0.2      & 1 &
Length scale factor for vertical diffusion of TKE. In case of $c\_diff=0$, TKE is not diffused vertically.&
\tabularnewline

%\hline
a\_stab &
R                &     0.0      & 1 &
Factor for stability correction of turbulent length scale. In case of $a\_stab=0$, the turbulent length scale is not reduced for stable stratification.&
\tabularnewline

%\hline
a\_hshr &
R                &     0.20      & 1 &
Length scale factor for the separated horizontal shear mode. In case of $a\_hshr=0$, this shear mode has no effect.& ltkeshs=.TRUE.
\tabularnewline

%\hline
alpha0 &
R                &     0.0123      & 1 &
Lower bound of velocity-dependent Charnock parameter & 
\tabularnewline

%\hline
alpha0\_max &
R                &     0.0335      & 1 &
Upper bound of velocity-dependent Charnock parameter. Setting this parameter to 0.0335 or higher values implies unconstrained 
velocity dependence & 
\tabularnewline

%\hline
alpha1 &
R                &     0.75      & 1 &
Scaling parameter for molecular roughness of ocean waves  & 
\tabularnewline

%\hline
tkhmin &
R                &     0.75      & $\mathrm{m^2/s}$ &
Scaling factor for minimum vertical diffusion coefficient (proportional to ${Ri}^{-2/3}$)
for heat and moisture &
\tabularnewline

%\hline
tkmmin &
R                &     0.75      & $\mathrm{m^2/s}$ &
Scaling factor for minimum vertical diffusion coefficient (proportional to ${Ri}^{-2/3}$)
 for momentum & 
\tabularnewline


tkmmin\_strat &
R                &    4      & $\mathrm{m^2/s}$ &
Scaling factor for stratospheric minimum vertical diffusion coefficient (proportional to ${Ri}^{-1/3}$)
 for momentum, valid above 17.5 km (tropics above 22.5 km)& 
\tabularnewline

tkhmin\_strat &
R                &     0.75      & $\mathrm{m^2/s}$ &
Scaling factor for stratospheric minimum vertical diffusion coefficient (proportional to ${Ri}^{-1/3}$)
for heat and moisture, valid above 17.5 km (tropics above 22.5 km)  &
\tabularnewline


%\hline
itype\_synd &
I                &     2      & &
Type of diagnostics of synoptic near surface variables:\\
1: Considering the mean surface roughness of a grid box\\
2: Considering a fictive surface roughness of a SYNOP lawn &
\tabularnewline

%\hline
rlam\_heat &
R                &     10.0     & 1 &
Scaling factor of the laminar boundary layer for heat (scalars). The larger rlam\_heat, the larger is the laminar resistance. &
\tabularnewline

%\hline
rat\_sea &
R                &     0.8     & 1 &
Ratio of laminar scaling factors for scalars over sea and land. The larger rat\_sea, the larger is the laminar resistance 
for a sea surface compared to a land surface. &
\tabularnewline

%\hline
rat\_glac &
R                &     3.0     & 1 &
Ratio of laminar scaling factors for scalars over glaciers. The larger rat\_glac, the larger is the laminar resistance 
over glaciers compared to other land surfaces. &
\tabularnewline

%\hline
tkesmot &
R                &     0.15     & 1 &
Time smoothing factor within $[0, 1]$ for TKE. In case of $tkesmot=0$, no smoothing is active. &
\tabularnewline

%\hline
frcsmot &
R                &     0.0     & 1 &
Vertical smoothing factor within $[0, 1]$ for TKE forcing terms. In case of $frcmot=0$, no smoothing is active. &
\tabularnewline

%\hline
imode\_frcsmot &
I                &     1     &  &
1 = apply vertical smoothing (if frcsmot$>$0) uniformly over the globe \\
2 = restrict vertical smoothing to the tropics (reduces the moist bias in the tropics while avoiding 
    adverse effects on NWP skill scores in the extratropics) &
\tabularnewline

%\hline
impl\_s &
R                &     1.20     & 1 &
Implicit weight near the surface (maximal value) &
\tabularnewline

%\hline
impl\_t &
R                &     0.75     & 1 &
Implicit weight near top of the atmosphere (minimal value) &
\tabularnewline

%\hline
lconst\_z0 &
L                &     .FALSE.      & &
TRUE: horizontally homogeneous roughness length z0 & 
\tabularnewline

%\hline
const\_z0 &
R                &     0.001      & m &
value for horizontally homogeneous roughness length z0 & lconst\_z0=.TRUE.
\tabularnewline


%\hline
ldiff\_qi &
L                &     .FALSE.     &  &
Turbulent diffusion of cloud ice, if .TRUE.
\tabularnewline




%\hline
itype\_tran &
I            & 2      &&
type of surface-atmosphere transfer& 
\tabularnewline

%\hline
lprfcor &
L                &     .FALSE.      & &
using the profile values of the lowest main level instead of the mean value of the lowest layer for surface flux calculations & 
\tabularnewline

%\hline
lnonloc &
L                &     .FALSE.      & &
nonlocal calculation of vertical gradients used for turbul. diff. & 
\tabularnewline

%\hline
lfreeslip &
L                &     .FALSE.      & &
.TRUE.: use a free-slip lower boundary condition, i.e. neither momentum nor heat/moisture fluxes (use for idealized runs only!) & 
\tabularnewline

%\hline
lcpfluc &
L                &     .FALSE.      & &
consideration of fluctuations of the heat capacity of air & 
\tabularnewline


\end{longtab}

Defined and used in: \verb+src/namelists/mo_turbdiff_nml.f90+

%------------------------------------------------------------------------------
% upatmo_nml:
%------------------------------------------------------------------------------
\subsection{upatmo\_nml}

\begin{longtab}

%
% deep-atmosphere dynamics
%

\hline
\hline
\multicolumn{5}{|l|}{\emph{Deep-atmosphere dynamics}}
& ldeepatmo = .TRUE.
\tabularnewline
\hline
\hline

%\hline
lnontrad &
L & .TRUE. &  
&
.TRUE.: Non-traditional terms in horizontal and vertical components of 
momentum budget (underlined) are switched on (standard for deep atmosphere):\\
$\partial v_n/\partial t \underline{ + w[v_{\mathrm{n}}/(a+z) - f_{\mathrm{t}}]} +\cdots = \cdots$ \\
$\partial w/\partial t \underline{+ v_{\mathrm{n}}[-v_{\mathrm{n}}/(a+z)+f_{\mathrm{t}}] +} \linebreak 
\underline{v_{\mathrm{t}}[-v_{\mathrm{t}}/(a+z) - f_{\mathrm{n}}] }+\cdots = \cdots$, \\
where $a$ is radius of model Earth, 
$f_{{\mathrm{n}},{\mathrm{t}}}=2\Omega\cos(\varphi)\boldsymbol{e_\varphi\cdot e_{\mathrm{n},\mathrm{t}}}$ 
are non-traditional Coriolis parameters, with edge-normal and edge-tangential 
components denoted by $\mathrm{n}$ and $\mathrm{t}$, the angular velocity of 
the model Earth $\Omega$, the latitude $\varphi$, and unit vectors 
$\boldsymbol{e_{\ldots}}$. 
%
\\
& 
\tabularnewline

%\hline
lconstgrav &
L & .FALSE. &  
&
.FALSE.: gravitational acceleration varies with height (standard for deep atmosphere) \\
.TRUE.: gravitational acceleration is constant (as in case of shallow atmosphere). 
I.e. underlined factor in gravitational acceleration is set to 1:\\
$\text{grav}=\text{const.}*\underline{[a/(a+z)]^2}$. 
%
\\
& 
\tabularnewline

%\hline
lcentrifugal &
L & .FALSE. & &
.TRUE.: Explicit centrifugal acceleration is switched on. 
I.e. underlined terms in horizontal and vertical components of 
momentum budget are taken into account:\\
$\partial v_n/\partial t \underline{+ \Omega^2 (a+z)\sin(\varphi)\cos(\varphi)
\boldsymbol{e_\varphi\cdot e_{\mathrm{n}}}} +\cdots = \cdots$ \\
$\partial w/\partial t \underline{-\Omega^2 (a+z) \cos^2(\varphi)} +\cdots = \cdots$. \\
(If the factor const. in the gravitational acceleration of the model Earth, 
$\text{grav}=\text{const.}*[a/(a+z)]^2$,
is assumed to be implicitly composed of a purely gravitational part and 
a centrifugal part, the latter is not subtracted out for lcentrifugal = .TRUE.!)
%
\\
& 
\tabularnewline

%\hline
ldeepatmo2phys &
L & .FALSE. &  
&
.FALSE.: input fields to the physics parameterizations are computed 
in accordance with the shallow-atmosphere approximation in any case \\ 
.TRUE.: input fields to the physics parameterizations are modified 
for the deep atmosphere. (Please note: the physics parameterizations themselves 
are not explicitly modified for the deep atmosphere!)
%
%\\
& iforcing = 2 (ECHAM)
\tabularnewline

%
% upper-atmosphere extrapolation
%

\hline
\hline
\multicolumn{5}{|l|}
{\emph{Extrapolation to determine the inital state of the upper atmosphere}}
& itype\_vert\_expol = 2
\tabularnewline
\hline
\hline

%\hline
expol\_start\_height &
R & 70000 & m
&
Height above which extrapolation of initial data starts.
%
\\
& 
\tabularnewline

%\hline
expol\_blending\_scale &
R & 10000 & m
&
Vertical distance above expol\_start\_height within which blending of linearly
extrapolated state and climatological state takes place.
%
\\
& 
\tabularnewline

%\hline
expol\_vn\_decay\_scale  &
R & 10000 & m
&
Scale height of vertically exponentially decaying factor multiplied to the
extrapolated horizontal wind (to alleviate stability-endangering wind magnitudes).
%
\\
& 
\tabularnewline

%\hline
expol\_temp\_infty&
R & 400 & K
&
Exospheric mean reference temperature of the climatology for the extrapolation blending.
%
\\
& 
\tabularnewline

%\hline
lexpol\_sanitycheck&
L & .FALSE. & 
&
.TRUE.: Apply some rudimentary sanity check to the extrapolated atmospheric state 
in the region above expol\_start\_height 
(e.g., temperature values everywhere > 0). 
(Please, apply with care, since it is computationally relatively expensive.) 
%
%\\
& 
\tabularnewline

%
% upper-atmosphere physics: general
%

\hline
\hline
\multicolumn{5}{|l|}
{\emph{Upper-atmosphere physics}}
& 
(iforcing = 2 (ECHAM) \& \\ 
``coming soon'') or \\
(iforcing = 3 (NWP) \& \\ 
lupatmo\_phy = .TRUE.)
\tabularnewline
\hline
\hline

%\hline
orbit\_type&
I & 1 & 
&
Orbit model for upper-atmosphere radiation 
(compare echam\_rad\_nml: l\_orbvsop87): \\
1: vsop87 $\rightarrow$ standard and accurate model \\
2: kepler $\rightarrow$ simple model appropriate for idealized work 
%
\\
& 
\tabularnewline

%\hline
solvar\_type&
I & 1 & 
&
Solar activity: \\
1: normal \\
2: low \\
3: high
%
\\
&
\tabularnewline

%\hline
solvar\_data&
I & 2 & 
&
Data set for solar activity: \\
1: G. Rottman data \\
2: J. Lean data
%
\\
& 
\tabularnewline

%\hline
solcyc\_type&
I & 2 & 
&
Solar cycle: \\
1: standard cycle \\
2: 27-day cycle
%
%\\
& 
\tabularnewline

%
% upper-atmosphere physics: NWP-specific
%

\hline
\multicolumn{4}{|l|}{nwp\_grp\_<groupname>\%\ldots}
& Configuration of the upper-atmosphere process groups 
under NWP-forcing (compare time control of processes in echam\_phy\_nml): \\
<groupname> = imf: ion drag, molecular diffusion and frictional heating \\
<groupname> = rad: radiation and chemical heating 
& iforcing = 3 \\ 
lupatmo\_phy = .TRUE.
\tabularnewline
\hline

%\hline
\ldots imode &
I(max\_\\dom) & 1 &  &
Group mode: \\
0: all processes clustered in the group <groupname> are switched off \\
1: all processes are switched on \\
2: all processes run in offline-mode, i.e. tendencies are computed, 
but not coupled to the dynamics \\
Example of usage for multi-domain applications: \\
\begin{itemize}
\item set nwp\_grp\_imf\%imode = 1 to switch on the IMF-group for all domains (default) 
\item set nwp\_grp\_rad\%imode = 1,1,0 to switch on the RAD-group for domain 1 and 2, 
but to switch it off for domain 3
\end{itemize}
Please note: if imode = 1 or 2 for a domain, but lupatmo\_phy = .FALSE. 
for this domain, imode is set to 0 and the group is switched off.
%
\\
& 
\tabularnewline

%\hline
\ldots dt &
R(max\_\\dom) & 300.0$|_{\text{imf}}$, \\ 600.0$|_{\text{rad}}$ & s & 
Tendency update period. 
New tendencies from all processes of a group are computed every dt 
(temperature, wind and water vapor tendencies in case of IMF, 
and temperature tendencies in case of RAD).
Please note: internal processing will round dt to the next multiple 
of the domain-adjusted value of run\_nml: dtime, 
which in turn might have been rescaled,  
if grid\_nml: grid\_rescale\_factor $\neq$ 1. 
In case of a domain-wise assignment in a multi-domain application, 
dt(1) $\geq$ dt(2) $\geq$ \ldots is required. 
%
\\
& 
\tabularnewline

%\hline
\ldots t\_start \\
\ldots t\_end  &
C & "{ }" &  &
Tendencies from all processes of a group are computed 
within the time interval
[t\_start, t\_end]. Outside this interval the tendencies are set to zero. 
Format as for time\_nml: ini\_datetime\_string, e.g. 
nwp\_grp\_imf\%t\_start = "2008-09-01T00:00:00Z". 
Empty strings will be replaced by the simulation start and/or end date and
time of the domain. t\_start and t\_end apply to all domains, 
no domain-wise specification possible! 
%
\\
& 
\tabularnewline

%\hline
\ldots start\_height &
R & -999.0 & m &
All processes of a group compute tendencies above start\_height. 
Below start\_height the processes are inactive and all tendencies 
are set to zero.
A negative value means that the default start heights of each process, 
listed in src/upper\_atmosphere/mo\_upatmo\_impl\_const: startHeightDef, 
are applied. Please note: start\_height applies to all domains. 
If it is above the top of one domain, 
the group is switched off for that domain (imode(idom) is set to 0).
%
%\\
& 
\tabularnewline

\hline
\multicolumn{4}{|l|}{nwp\_gas\_<gasname>\%\ldots}
& Configuration of the radiatively active gases in the upper atmosphere under
NWP-forcing (compare radiation\_nml and echam\_rad\_nml): \\
<gasname> = o3: ozone ($\text{O}_3$) \\
<gasname> = o2: dioxygen ($\text{O}_2$) \\
<gasname> = o: atomic oxygen ($\text{O}$) \\
<gasname> = co2: carbon dioxide ($\text{CO}_2$) \\
<gasname> = no: nitric oxide ($\text{NO}$) \\
(Dinitrogen ($\text{N}_2$) is determined diagnostically.)
& iforcing = 3 \\ 
lupatmo\_phy = .TRUE. \\
nwp\_grp\_rad\%imode  $>$ 0
\tabularnewline
\hline

%\hline
\ldots imode & I & 2 & &
Gas mode (comparable, but generally not identical to the irad\_<gasname> 
in radiation\_nml and echam\_rad\_nml). \\
0: zero gas concentration \\
1: constant gas concentration (independent of space and time), 
specified via nwp\_gas\_<gasname>\%vmr \\
2: external data; meridionally, vertically and monthly varying 
gas concentrations are read from a file 
with name nwp\_extdat\_gases\%filename
%
\\
& 
\tabularnewline

%\hline
\ldots vmr & R & 0.0 & $\text{m}^3/\text{m}^3$ &
Constant volume mixing ratio for a radiatively active gas. 
%
\\
& nwp\_gas\_<gasname>\%imode = 1
\tabularnewline

%\hline
\ldots fscale & R & 1.0 & &
Scaling factor the gas concentration in each grid cell is multiplied with.
%
%\\
& 
nwp\_gas\_<gasname>\%imode $>$ 0
\tabularnewline

\hline
\multicolumn{4}{|l|}{nwp\_extdat\_<extdatname>\%\ldots}
& Configuration of the external upper-atmosphere data: \\
<extdatname> = gases: concentrations of the radiatively
active gases \\
<extdatname> = chemheat: temperature tendencies from chemical heating \\
Please note: the standard NWP physics use other external gas data
(e.g., for ozone)! 
& 
nwp\_grp\_rad\%imode  $>$ 0
\tabularnewline
\hline

%\hline
\ldots dt &
R & 86400.0 & s & 
Update period for the time interpolation 
of the external data. 
Currently, the external data provide monthly mean values. 
In order to avoid too strong jumps in the transition from 
one month to the next, the parameters are ``smoothed'' in time 
by a linear interpolation that is computed every dt. 
A value of the order of a day should be entirely sufficient 
for this purpose.
%
\\
& 
\tabularnewline

%\hline
\ldots filename &
C & "{}upatmo\_gases\_\\chemheat.nc" &  & 
Name of the file containing the external data.
The file of the default name can be found in the folder data/,
to which a link has to be set in the run script,  
following the typical examples of nwp\_phy\_nml: lrtm\_filename 
and cldopt\_filename. 
May contain the keyword <path> which will be substituted by
model\_base\_dir (e.g., "{}<path>upatmo\_\\gases\_chemheat.nc").
Please note: if you would like to use other external data files, 
their data structure has to follow \emph{exactly} the data structure 
of data/upatmo\_gases\_chemheat.nc (variable and dimension names and units, 
zonally averaged monthly mean gas concentrations on pressure levels, 
zonally averaged monthly mean temperature tendencies from chemical heating
on geometric height levels etc.). 
Any other structure cannot be processed for the time being!
%
%\\
& 
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_upatmo_nml.f90+

\paragraph{Some notes on the output of upper-atmosphere-specific variables (under NWP-forcing):}
\mbox{}\\
An output of upper-atmosphere fields is only possible, 
if upper-atmosphere physics are switched on. \\
Upper-atmosphere fields cannot be output in the GRIB format 
(output\_nml: filetype = 2). \\
Upper-atmosphere fields entered on output\_nml: m/h/pl\_varlist 
need the prefix ``upatmo\_''. \\

The following fields can be output, if \ldots \\

\ldots lupatmo\_phy = .TRUE.:
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
%----------------------------------------
\texttt{upatmo\_mdry}      \>  Mass of dry air \\
%----------------------------------------
\texttt{upatmo\_amd}       \>  Molar mass of dry air \\
%----------------------------------------
\texttt{upatmo\_cpair}     \>  Heat capacity of (moist) air at constant pressure \\
%----------------------------------------
\texttt{upatmo\_grav}      \>  Gravitational acceleration of Earth 
%----------------------------------------
\end{tabbing}

\ldots lupatmo\_phy = .TRUE. \& nwp\_grp\_rad\%imode > 0:
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
%----------------------------------------
\texttt{upatmo\_sclrlw}  \> Scaling factor for standard long-wave radiation heating rate  
from radiative processes \\
                         \> out of local thermodynamic equilibrium \\
%----------------------------------------
\texttt{upatmo\_effrsw}  \> Efficiency factor for standard short-wave radiation heating rate  
from chemical heating \\
%----------------------------------------
\texttt{upatmo\_o3}      \> Mass mixing ratio of ozone (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_o2}      \> Mass mixing ratio of dioxygen (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_o}       \> Mass mixing ratio of atomic oxygen (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_co2}     \> Mass mixing ratio of carbon dioxide (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_no}      \> Mass mixing ratio of nitric oxide (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_n2}      \> Mass mixing ratio of dinitrogen (member of \texttt{group:upatmo\_rad\_gases}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_srbc}  \> Temperature tendency due to
absorbtion by O2 in Schumann-Runge band and continuum \\ 
                                  \> (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_nlte}  \> Temperature tendency due to 
radiative processes out of local thermodynamic equilibrium \\
                                  \> (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_euv}   \> Temperature tendency due to 
heating from extreme ultraviolet radiation \\
                                  \> (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_no}    \> Temperature tendency due to 
NO heating at near infrared (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_chemheat}   \> Temperature tendency due to 
chemical heating (member of \texttt{group:upatmo\_tendencies}) 
%----------------------------------------
\end{tabbing}


\ldots lupatmo\_phy = .TRUE. \& nwp\_grp\_imf\%imode > 0:
\begin{tabbing}
\hspace*{0.4\textwidth} \= \kill
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_vdfmol}   \> Temperature tendency due to 
molecular diffusion (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_fric}   \> Temperature tendency due to 
frictional heating (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_temp\_joule}   \> Temperature tendency due to 
Joule heating from ion drag (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_u\_vdfmol}   \> Zonal component of wind tendency due to 
molecular diffusion (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_v\_vdfmol}   \> Meridionl component of wind tendency due to 
molecular diffusion (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_u\_iondrag}   \> Zonal component of wind tendency due to 
ion drag (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_v\_iondrag}   \> Meridionl component of wind tendency due to 
ion drag (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\texttt{upatmo\_ddt\_qv\_vdfmol}   \> Tendency of specific humidity due to 
molecular diffusion (member of \texttt{group:upatmo\_tendencies}) \\
%----------------------------------------
\end{tabbing}

\newpage

% =============================================================================
%
\input{\basepath icon_ocean_nml_tables.tex}
%
% This LaTeX file defines ocean (and sea-ice) specific namelist parameters.
% The file is included by ICON_NML_TABLES.TEX. For atmosphere-only releases
% the ocean namelists can also easily be excluded.
%
% =============================================================================


%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
%MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM

\section{Namelist parameters for testcases (NAMELIST\_ICON)}

The ICON model code includes several experiments, so-called test cases,
for the 2 and 3-dimensional atmosphere. Depending on the specified experiment, 
initial conditions and boundary conditions are computed internally.



%-------------------------------------------------------------------------------
% nh_testcase_nml:
%-------------------------------------------------------------------------------
\subsection{nh\_testcase\_nml (Scope: ltestcase=.TRUE. and iequations=3 in run\_nml)}

\begin{longtab}

%\hline
nh\_test\_name&
C& 'jabw'& &
testcase selection&
\tabularnewline
&&&& '\textbf{zero}': no orography&
\tabularnewline
&&&& '\textbf{bell}': bell shaped mountain at 0E,0N&
\tabularnewline
&&&& '\textbf{schaer}': hilly mountain at 0E,0N  &  is\_plane\_torus=.TRUE.   
\tabularnewline
&&&& '\textbf{jabw}': Initializes the full Jablonowski Williamson test case.&
\tabularnewline
&&&&'\textbf{jabw\_s}': Initializes the Jablonowski Williamson steady state test case.&
\tabularnewline
&&&&'\textbf{jabw\_m}': Initializes the Jablonowski Williamson test case with a mountain instead of the wind perturbation (specify mount\_height).&
\tabularnewline
&&&&'\textbf{mrw\_nh}': Initializes the full Mountain-induced Rossby wave test case.&
\tabularnewline
&&&&'\textbf{mrw2\_nh}': Initializes the modified mountain-induced Rossby wave test case.&
\tabularnewline
&&&&'\textbf{mwbr\_const}': Initializes the mountain wave with two layers test case.
The lower layer is isothermal and the upper layer has constant brunt
vaisala frequency. The interface has constant pressure.&
\tabularnewline
&&&&'\textbf{PA}': Initializes the pure advection test case.&
\tabularnewline
&&&&'\textbf{HS\_nh}': Initializes the Held-Suarez test case. At the moment
 with an isothermal atmosphere at rest (T=300K, ps=1000hPa,
u=v=0, topography=0.0).&
\tabularnewline
&&&&'\textbf{HS\_jw}': Initializes the Held-Suarez test case
with Jablonowski Williamson initial conditions and zero topography.&
\tabularnewline
&&&&'\textbf{APE\_nwp, APE\_echam, APE\_nh, APEc\_nh, }': Initializes the APE experiments. With the
jabw test case, including moisture.&
\tabularnewline
&&&&'\textbf{wk82}': Initializes the Weisman Klemp test case&
l\_limited\_area =.TRUE.
\tabularnewline
&&&&'\textbf{g\_lim\_area}': Initializes a series of general limited area test cases:
 itype\_atmos\_ana determines the atmospheric profile, itype\_anaprof\_uv
determines the wind profile and itype\_topo\_ana determines the topography&
\tabularnewline
&&&&'\textbf{dcmip\_bw\_11}': Initializes (moist) baroclinic instability/wave (\textbf{DCMIP2016}) &
\tabularnewline
&&&&'\textbf{dcmip\_pa\_12}': Initializes Hadley-like meridional circulation pure advection test case.&
\tabularnewline
&&&&'\textbf{dcmip\_rest\_200}': atmosphere at rest test (Schaer-type mountain)&
lcoriolis = .FALSE.
\tabularnewline
&&&&'\textbf{dcmip\_mw\_2x}': nonhydrostatic mountain waves triggered by Schaer-type mountain&
lcoriolis = .FALSE.
\tabularnewline
&&&&'\textbf{dcmip\_gw\_31}': nonhydrostatic gravity waves triggered by a localized perturbation (nonlinear)&
\tabularnewline
&&&&'\textbf{dcmip\_gw\_32}': nonhydrostatic gravity waves triggered by a localized perturbation (linear)&
l\_limited\_area =.TRUE. \\
and lcoriolis = .FALSE.
\tabularnewline
&&&&'\textbf{dcmip\_tc\_51}': tropical cyclone test case with 'simple physics' parameterizations (\textbf{not yet implemented})&
lcoriolis = .TRUE.
\tabularnewline
&&&&'\textbf{dcmip\_tc\_52}': tropical cyclone test case with with full physics in Aqua-planet mode&
lcoriolis = .TRUE.
\tabularnewline
&&&&'\textbf{CBL}': convective boundary layer simulations for LES package on torus (doubly periodic) grid&
is\_plane\_torus= .TRUE.
\tabularnewline
&&&&'\textbf{bb13}': linear gravity- and sound-wave expansion in a channel (Baldauf, Brdar (2013) QJRMS) &
is\_plane\_torus= .TRUE.
\tabularnewline
&&&&'\textbf{lahade}': deep-atmosphere sound wave testcase providing
comparison of numerical with analytical solution according to method of
Laeuter, Handorf and Dethloff, J. Comp. Phys.(2005) (requires to set
src/shared/mo\_physical\_constants: grav to a very small value, e.g. grav = 1.0E-30)&
ldeepatmo = .TRUE. .AND. lcoriolis = .TRUE. .AND. lcentrifugal = .TRUE.
\tabularnewline
&&&&'\textbf{SCM}' Single Column Mode & is\_plane\_torus= .TRUE.
\tabularnewline
is\_toy\_chem & 
L & .FALSE. &  &
Terminator toy chemistry activated when .TRUE. &
\tabularnewline

tracer\_inidist\_list & 
I(:) & 1 &  &
For a subset of testcases pre-defined initial tracer distributions are available. 
This namelist parameter specifies the initial distribution for each tracer. 
In the following the testcases and the pre-defined numbers are given:\\
`PA': 4,5,6,7,8\\
'JABW':1,2,3,4\\
'DF': 5,6,7,8,9\\
For more details on the initial distributions, please have a look into the code. & nh\_test\_name='PA',\\'JABW','DF'
\tabularnewline

\hline
\hline
\multicolumn{4}{|l|}{\textbf{dcmip\_bw\%}}& DCMIP2016 baroclinic wave test &  'dcmip\_bw\_11'
\tabularnewline
\hline

deep&
I& 0 &  &
deep atmosphere\\
(1 = yes or 0 = no)&
\tabularnewline

%\hline
moist&
I& 0 &  &
include moisture, i.e.\ $qv\neq 0$\\
(1 = yes or 0 = no)&
\tabularnewline

%\hline
pertt&
I& 0 &  &
type of initial perturbation\\
(0 = exponential, 1 = stream function)&
\tabularnewline


\hline
\hline
\multicolumn{4}{|l|}{\textbf{toy\_chem\%}}& terminator toy chemistry &  is\_toy\_chem=.TRUE.
\tabularnewline
\hline

dt\_chem&
R& 300&  s &
chemistry tendency update interval&
\tabularnewline

dt\_cpl&
R& 300&  s &
chemistry-transport coupling interval&
\tabularnewline

id\_cl&
I& 1&   &
Tracer container slice index for species CL&
\tabularnewline

id\_cl2&
I& 2&   &
Tracer container slice index for species CL2&
\tabularnewline
\hline


%\hline
jw\_up&
R& 1.0& m/s&
amplitude of the u-perturbation in jabw test case&
nh\_test\_name='jabw'
\tabularnewline

%\hline
jw\_u0&
R& 35.0& m/s&
maximum zonal wind in jabw test case&
nh\_test\_name='jabw'
\tabularnewline

%\hline
jw\_temp0&
R& 288.0& K&
horizontal-mean temperature at surface in jabw test case&
nh\_test\_name='jabw'
\tabularnewline

%\hline
u0\_mrw&
R& 20.0& m/s&
wind speed for mrw(2) and mwbr\_const cases&
nh\_test\_name= 'mrw(2)\_nh' and 'mwbr\_const'
\tabularnewline

%\hline
mount\_height\_mrw&
R& 2000.0& m&
maximum mount height in mrw(2) and mwbr\_const&
nh\_test\_name= 'mrw(2)\_nh' and 'mwbr\_const'
\tabularnewline

%\hline
mount\_half\_width&
R& 1500000.0& m&
half width of mountain in mrw(2), mwbr\_const and bell &
nh\_test\_name= 'mrw(2)\_nh', 'mwbr\_const' and 'bell'
\tabularnewline

%\hline
mount\_width&
R& 1000.0& m&
  width of mountain &
\tabularnewline

%\hline
mount\_width\_2 &
R& 100.0& m&
  a 2nd width scale of mountain &
  nh\_test\_name='schaer'
\tabularnewline

%\hline
mount\_lonctr\_mrw\_deg&
R& 90.& deg&
lon of mountain center in mrw(2) and mwbr\_const&
nh\_test\_name= 'mrw(2)\_nh' and 'mwbr\_const'
\tabularnewline

%\hline
mount\_latctr\_mrw\_deg&
R& 30.& deg&
lat of mountain center in mrw(2) and mwbr\_const&
nh\_test\_name= 'mrw(2)\_nh' and 'mwbr\_const'
\tabularnewline


%\hline
temp\_i\_mwbr\_const&
R& 288.0& K&
temp at isothermal lower layer for mwbr\_const case&
nh\_test\_name= 'mwbr\_const'
\tabularnewline

%\hline
p\_int\_mwbr\_const&
R& 70000.& Pa&
pres at the interface of the two layers for mwbr\_const case&
nh\_test\_name= 'mwbr\_const'
\tabularnewline

%\hline
bruntvais\_u\_mwbr\_const&
R& 0.025& 1/s&
constant brunt vaissala frequency at upper layer for mwbr\_const case&
nh\_test\_name= 'mwbr\_const'
\tabularnewline

%\hline
mount\_height&
R& 100.0& m&
peak height of mountain&
nh\_test\_name=  'bell'
\tabularnewline

%\hline
layer\_thickness&
R& -999.0& m&
thickness of vertical layers&
If layer\_thickness $<$ 0, the vertical level distribution is read in from externally given HYB\_PARAMS\_XX.
\tabularnewline

%\hline
n\_flat\_level&
I& 2& &
level number for which the layer is still flat and not terrain-following&
layer\_thickness $>$ 0
\tabularnewline

%\hline
nh\_u0&
R& 0.0& m/s&
initial constant zonal wind speed &
nh\_test\_name = 'bell'
\tabularnewline

%\hline
nh\_t0&
R& 300.0& K&
initial temperature at lowest level &
nh\_test\_name = 'bell'
\tabularnewline

%\hline
nh\_brunt\_vais&
R& 0.01& 1/s&
initial Brunt-Vaisala frequency &
nh\_test\_name = 'bell'
\tabularnewline

%\hline
torus\_domain\_length&
R& 100000.0& m&
length of slice domain &
nh\_test\_name = 'bell', lplane=.TRUE.
\tabularnewline

%\hline
rotate\_axis\_deg&
R& 0.0& deg&
Earth's rotation axis pitch angle&
nh\_test\_name= 'PA'
\tabularnewline

%\hline
lhs\_nh\_vn\_ptb&
L& .TRUE.& &
Add random noise to the initial wind field in the Held-Suarez test. &
nh\_test\_name= 'HS\_nh'
\tabularnewline

%\hline
lhs\_fric\_heat&
L& .FALSE.& &
add frictional heating from Rayleigh friction in the Held-Suarez test.&
nh\_test\_name= 'HS\_nh'
\tabularnewline

%\hline
hs\_nh\_vn\_ptb\_scale&
R& 1.& m/s &
Magnitude of the random noise added to the initial wind field in the
Held-Suarez test. &
nh\_test\_name= 'HS\_nh'
\tabularnewline

%\hline
rh\_at\_1000hpa&
R& 0.7& 1 &
relative humidity at 1000 hPa &
nh\_test\_name= 'jabw', nh\_test\_name= 'mrw'
\tabularnewline

%\hline
qv\_max&
R& 20.e-3& kg/kg &
specific humidity in the tropics &
nh\_test\_name= 'jabw', nh\_test\_name= 'mrw'
\tabularnewline

%\hline
ape\_sst\_case&
C& 'sst1'& &
SST distribution selection\\
'sst1': Control experiment\\
'sst2': Peaked experiment\\
'sst3': Flat experiment\\
'sst4': Control-5N experiment\\
'sst\_qobs': Qobs SST distribution exp.\\
'sst\_const': constant SST&
nh\_test\_name='APE\_nwp', 'APE\_echam'
\tabularnewline

%\hline
ape\_sst\_val&
R& 29.0& degC &
aqua planet SST  for ape\_sst\_case='sst\_const'&
nh\_test\_name= 'APE\_nwp', 'APE\_echam'
\tabularnewline

%\hline
linit\_tracer\_fv&
L& .TRUE.& &
Finite volume initialization for tracer fields &
pure advection tests, only
\tabularnewline

%\hline
lcoupled\_rho&
L& .FALSE.& &
Integrate density equation 'offline'&
pure advection tests, only
\tabularnewline

%\hline
qv\_max\_wk&
R& 0.014 & Kg/kg &
maximum specific humidity near \\
the surface, range  0.012 - 0.016\\
used to vary the buoyancy&
nh\_test\_name='wk82'
\tabularnewline

%\hline
u\_infty\_wk&
R& 20. & m/s &
zonal wind at infinity height\\
range 0. - 45.               \\
used to vary the wind shear&
nh\_test\_name='wk82', 'bb13'
\tabularnewline

%\hline
bub\_amp&
R& 2.& K&
maximum amplitud of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
bubctr\_lat&
R& 0.& deg&
latitude of the center of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
bubctr\_lon&
R& 90.& deg&
longitude of the center of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
bubctr\_x&
R& 0.0 & m&
x-position of the center of the thermal perturbation &
is\_plane\_grid=.TRUE.
\tabularnewline

%\hline
bubctr\_y&
R& 0.0 & m&
y-position of the center of the thermal perturbation &
is\_plane\_grid=.TRUE.
\tabularnewline

%\hline
bubctr\_z&
R& 1400.& m&
height of the center of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
bub\_hor\_width&
R& 10000.& m&
horizontal radius of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
bub\_ver\_width&
R& 1400.& m&
vertical radius of the thermal perturbation&
nh\_test\_name='wk82'
\tabularnewline

%\hline
itype\_atmo\_ana&
I& 1 & &
kind of atmospheric profile:\\
1 piecewise N constant layers\\
2 piecewise polytropic layers&
nh\_test\_name=\\'g\_lim\_area'
\tabularnewline
%\hline
itype\_anaprof\_uv&
I& 1 & &
kind of wind profile:\\
1 piecewise linear wind layers\\
2 constant zonal wind\\
3 constant meridional wind&
nh\_test\_name=\\'g\_lim\_area'
\tabularnewline
%\hline
itype\_topo\_ana&
I& 1 & &
kind of orography:\\
1 schaer test case mountain\\
2 gaussian\_2d mountain\\
3 gaussian\_3d mountain\\
any other no orography&
nh\_test\_name=\\'g\_lim\_area'
\tabularnewline
%\hline
nlayers\_nconst&
I& 1 & &
Number of the desired layers with a constant Brunt-Vaisala-frequency&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
p\_base\_nconst&
R& 100000. & Pa &
pressure at the base of the first N constant layer&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
theta0\_base\_nconst&
R& 288. & K &
potential temperature at the base of the first N constant layer&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
h\_nconst&
R(nlayers \_nconst)& 0., 1500., 12000.  & m &
height of the base of each of the N constant layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
N\_nconst&
R(nlayers \_nconst)& 0.01  & 1/s &
Brunt-Vaisala-frequency at each of the N constant layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
rh\_nconst&
R(nlayers \_nconst)& 0.5  & \% &
relative humidity at the base of each N constant layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
rhgr\_nconst&
R(nlayers \_nconst)& 0.  & \% &
relative humidity gradient at each of the N constant layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=1
\tabularnewline
%\hline
nlayers\_poly&
I& 2 & &
Number of the desired layers with constant gradient temperature&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
p\_base\_poly&
R& 100000. & Pa &
pressure at the base of the first polytropic layer&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
h\_poly&
R(nlayers \_poly)& 0., 12000.  & m &
height of the base of each of the polytropic layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
t\_poly&
R(nlayers \_poly)& 288., 213.  & K &
temperature at the base of each of the polytropic layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
rh\_poly&
R(nlayers \_poly)& 0.8, 0.2  & \% &
relative humidity at the base of each of the polytropic layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
rhgr\_poly&
R(nlayers \_poly)& 5.e-5, 0. & \% &
relative humidity gradient at each of the polytropic layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_atmo\_ana=2
\tabularnewline
%\hline
nlayers\_linwind&
I& 2 & &
Number of the desired layers with constant U gradient &
nh\_test\_name=\\'g\_lim\_area' and
itype\_anaprof\_uv=1
\tabularnewline
%\hline
h\_linwind&
R(nlayers \_linwind)& 0., 2500.  & m &
height of the base of each of the linear wind layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_anaprof\_uv=1
\tabularnewline
%\hline
u\_linwind&
R(nlayers \_linwind)& 5,  10.  & m/s &
zonal wind at the base of each of the linear wind layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_anaprof\_uv=1
\tabularnewline
%\hline
ugr\_linwind&
R(nlayers \_linwind)& 0., 0. & 1/s &
zonal wind gradient at each of the linear wind layers&
nh\_test\_name=\\'g\_lim\_area' and
itype\_anaprof\_uv=1
\tabularnewline
%\hline
vel\_const&
R& 20. & m/s &
constant zonal/meridional wind (itype\_anaprof\_uv=2,3)&
nh\_test\_name=\\'g\_lim\_area' and
itype\_anaprof\_uv=2,3
\tabularnewline
%\hline
mount\_lonc\_deg&
R& 90. & deg &
longitud of the center of the  mountain&
nh\_test\_name=\\'g\_lim\_area'
\tabularnewline
%\hline
mount\_latc\_deg&
R& 0. & deg &
latitud of the center of the  mountain&
nh\_test\_name=\\'g\_lim\_area'
\tabularnewline
%\hline
schaer\_h0&
R& 250. & m &
h0 parameter for the schaer mountain&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=1
\tabularnewline
%\hline
schaer\_a&
R& 5000. & m &
-a- parameter for the schaer mountain, \\
also half width in the north and south side of the
finite ridge to round the sharp edges&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=1,2
\tabularnewline
%\hline
schaer\_lambda&
R& 4000. & m &
lambda parameter for the schaer mountain&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=1
\tabularnewline
%\hline
lshear\_dcmip&
L& FALSE &  &
run dcmip\_mw\_2x with/without vertical wind shear\\
FALSE: dcmip\_mw\_21: non-sheared \\
TRUE : dcmip\_mw\_22: sheared &
nh\_test\_name=\\'dcmip\_mw\_2x'
\tabularnewline
%\hline
halfwidth\_2d&
R& 10000. & m &
half lenght of the finite ridge in the north-south
direction&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=1,2
\tabularnewline
%\hline
m\_height&
R& 1000. & m &
height of the mountain&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=2,3
\tabularnewline
%\hline
m\_width\_x&
R& 5000. & m &
half width of the gaussian mountain in the east-west direction \\
half width in the north-south direction in the rounding of the
finite ridge (gaussian\_2d)&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=2,3
\tabularnewline
%\hline
m\_width\_y&
R& 5000. & m &
half width of the gaussian mountain in the north-south direction&
nh\_test\_name=\\'g\_lim\_area' and
itype\_topo\_ana=2,3
\tabularnewline
%\hline
gw\_u0&
R& 0. & m/s &
maximum amplitude of the zonal wind&
nh\_test\_name=\\'dcmip\_gw\_3X'
\tabularnewline
%\hline
gw\_clat&
R& 90. & deg &
Lat of perturbation center&
nh\_test\_name=\\'dcmip\_gw\_3X'
\tabularnewline
%\hline
gw\_delta\_temp&
R& 0.01 & K &
maximum temperature perturbation&
nh\_test\_name=\\'dcmip\_gw\_32'
\tabularnewline

%\hline
u\_cbl(2)&
R& 0:0 & m/s and 1/s &
to prescribe initial zonal velocity profile for convective boundary layer simulations where u\_cbl(1)
sets the constant and u\_cbl(2) sets the vertical gradient &
nh\_test\_name=CBL
\tabularnewline

%\hline
v\_cbl(2)&
R& 0:0 & m/s and 1/s &
to prescribe initial meridional velocity profile for convective boundary layer simulations where v\_cbl(1)
sets the constant and v\_cbl(2) sets the vertical gradient &
nh\_test\_name=CBL
\tabularnewline

%\hline
th\_cbl(2)&
R& 290:0.006 & K and K/m &
to prescribe initial potential temperature profile for convective boundary layer simulations where th\_cbl(1)
sets the constant and th\_cbl(2) sets the gradient &
nh\_test\_name=CBL
\tabularnewline

%\hline
lahade\%icase &
I & 1 & &
lahade sub-cases: \\ 
1: spherical sound wave (currently the only sub-case) &
nh\_test\_name=`lahade'
\tabularnewline

%\hline
lahade\%omega &
R & 0 & m/s &
Model Earth's angular velocity in units of the velocity the center 
of the sound wave is advected according to the rotation &
\tabularnewline

%\hline
lahade\%bkg\_temp &
R & 250 & K &
Temperature of background atmosphere &
\tabularnewline

%\hline
lahade\%bkg\_pres &
R & 100000 & Pa &
Pressure of background atmosphere &
\tabularnewline

%\hline
lahade\%ptb\_ctr\_lat &
R & 0 & deg &
Center latitude of spherical sound wave perturbation &
\tabularnewline

%\hline
lahade\%ptb\_ctr\_lon &
R & 0 & deg &
Center longitude of spherical sound wave perturbation &
\tabularnewline

%\hline
lahade\%ptb\_ctr\_hgt &
R & 0.5 & -> &
Center height of spherical sound wave perturbation,  
in units of the model top height [top\_height] &
\tabularnewline

%\hline
lahade\%ptb\_rad\_min &
R & 0.04 & -> &
Min. radius of spherical shell within which initial perturbation is non-zero, 
in units of distance from center to model bottom or model top, whichever is
shorter [min\{ptb\_ctr\_hgt,(1-ptb\_ctr\_hgt)\} * top\_height] &
\tabularnewline

%\hline
lahade\%ptb\_rad\_max &
R & 0.6 & -> &
Max. radius of spherical shell ... [min\{ptb\_ctr\_hgt,(1-ptb\_ctr\_hgt)\} * top\_height]&
\tabularnewline

%\hline
lahade\%ptb\_amp\_temp &
R & 0.05 & K &
Temperature amplitude of initial sound wave perturbation&
\tabularnewline

%\hline
lahade\%ptb\_n\_rad &
R & 1 & 1 &
Number of radial wave crests of initial perturbation 
= (ptb\_rad\_max - ptb\_rad\_min) / radial wave length &
\tabularnewline

%\hline
lahade\%output\_ptb\_var&
C & ""  &  &
Select, if the numerical and analytical solutions of a sound-wave-perturbation-variable 
shall be output. Currently available variables are: \\
\begin{itemize}
\item "temp": temperature perturbation
\item "rho": density perturbation
\item "pres": pressure perturbation
\end{itemize}
Requirements: the fields "{extra}\_3d1"{ a}nd "{extra}\_3d2"{ w}ill contain the numerical 
and the analytical solutions, respectively. 
Both have to be added to the ml\_varlist of the output\_nml of your choice 
in combination with inextra\_3d = 2.
&
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/testcases/mo_nh_testcases.f90+


\section{External data}
%------------------------------------------------------------------------------
% ext_par_nml:
%------------------------------------------------------------------------------
\subsection{extpar\_nml (Scope: itopo=1 in run\_nml)}

\begin{longtab}

%\hline
\textbf{itopo}&
I & 0& &
0: analytical topography/ext. data \\
1: topography/ext. data read from file&
\tabularnewline


itype\_vegetation\_cycle&
I & 1& &
1: annual cycle of LAI solely based on NDVI climatology \\
2: additional use of monthly T2M climatology to get more realistic values in extratropics 
(requires external parameter data containing this field) &
\tabularnewline


%\hline
\textbf{n\_iter\_smooth\_topo} &
I(n\_dom) &
0&
&
iterations of topography smoother
&
itopo = 1
\tabularnewline

%\hline
fac\_smooth\_topo&
R &
0.015625&
&
pre-factor of topography smoother
&
n\_iter\_smooth\_topo $>$ 0
\tabularnewline


%\hline
hgtdiff\_max\_smooth\_topo&
R &
0. &
m &
RMS height difference to neighbor grid points at which the smoothing pre-factor fac\_smooth\_topo
reaches its maximum value (linear proportionality for weaker slopes)
&
n\_iter\_smooth\_topo $>$ 0
\tabularnewline


%\hline
heightdiff\_threshold&
R(n\_dom) &
3000.&
m &
height difference between neighboring grid points above which additional local nabla2 diffusion is applied
&
\tabularnewline

%\hline
pp\_sso&
I &
1 &
 &
1: Postprocess SSO standard deviation and slope over glaciers based on the ratio between grid-scale and subgrid-scale slope:
both quantities are reduced if the subgrid-scale slope calculated in extpar largely reflects the grid-scale slope. \\
2: Optimized tuning for MERIT/REMA orography data: the reduction is also applied at non-glacier points in the Arctic,
and the adjustment of the SSO standard deviation to orography smoothing is turned off.
&
n\_iter\_smooth\_topo $>$ 0
\tabularnewline

%\hline
lrevert\_sea\_height&
L &
.FALSE.&
 &
If .TRUE., sea point heights will be reverted to original (raw data) heights after topography smoothing was applied.
& n\_iter\_smooth\_topo > 0
\tabularnewline

%\hline
itype\_lwemiss&
I &
1 &
&
Type of data used for longwave surface emissivity: \\
0: No data; use constant fallback value instead \\
1: Read and use emissivities derived in extpar from landuse classes \\
2: Read and use monthly climatologies derived from satellite measurements
&
itopo = 1
\tabularnewline

%\hline
\textbf{extpar\_filename}&
C &
&
&
Filename of external parameter input file,
default: ''\texttt{<path>extpar\_<gridfile>}''.
May contain the keyword \texttt{<path>} which will be substituted by
\texttt{model\_base\_dir}. &
\tabularnewline

%\hline
read\_nc\_via\_cdi&
L &
.FALSE.&
&
.TRUE.: read NetCDF input data via cdi library \\
.FALSE.: read NetCDF input data using parallel NetCDF library \\
Note: GRIB2 input data is always read via cdi library / GRIB API. For NetCDF input, this
switch allows optimizing the input performance, but there is no general rule which option is faster.
&
\tabularnewline

%\hline
extpar\_varnames\_map\_ file&
C & ' '
&
&
Filename of external parameter dictionary,
This is a text file with two columns separated by whitespace, where
left column: NetCDF name, right column: GRIB2 short name. It is required, if external parameter are read from a file in GRIB2 format.
 &
\tabularnewline

\end{longtab}

Defined and used in: \verb+src/namelists/mo_extpar_nml.f90+

\section{Serialization}

Some developments must not change model results. Serialbox allows reading and writing data at any point in ICON into savepoints. These savepoints can be used to restore model variables to some reference or compare different model versions. The simplest application of Serialbox is using mo\_ser\_debug.f90 (or writing a similar routine fitting ones needs). Following this method will allow reading and writing manually specified fields in ICON. This can be very useful for small subroutines where input and output are clearly specified (i.e. do not involve derived types) and can thus easily be translated to Serialbox read/write statements. For larger components (basically everything hanging from nh\_stepping.f90, e.g. nwp\_physics) the interface is specified by the in and out types. The actual fields that are read or written to in these subroutines are not specified. For this purpose, serialize\_all has been implemented. It provides a wrapper for Serialbox read and write statements by looping through variable lists. This approach does not require managing lists of fields to read or write by Serialbox. At the level of mo\_nh\_stepping.f90 and mo\_nh\_interface\_nwp.f90 many components are wrapped by such serialize\_all calls that allow testing these components. Each of these hard-coded calls to serialize\_all has a name and for each name there is a namelist switch specifying the following triplet (e.g. 0,12,12):
\begin{itemize}
  \item If 0 do not use this savepoint, else use this savepoint at every time step
  \item the relative threshold for errors (given as $N$ for $N$ in $10^{-N}$)
  \item the absolute threshold for errors (given as $N$ for $N$ in $10^{-N}$)
\end{itemize}

\begin{longtab}

  ser\_initialization &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$&
  Serialization switch for initial data (Checked after regular initialization at model start as well as after initialization of nested domains during model run) &
  \tabularnewline

  ser\_output\_diag\_dyn &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$&
  Serialization switch for output diagnostics of dynamics fields&
  \tabularnewline

  ser\_output\_diag &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$&
  Serialization switch for output diagnostics &
  \tabularnewline

  ser\_latbc\_data &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine recv\_latbc\_data &
  \tabularnewline

  ser\_nesting\_save\_progvars &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine save\_progvars which is related to nesting &
  \tabularnewline

  ser\_dynamics &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine perform\_dyn\_substepping &
  \tabularnewline

  ser\_diffusion &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine diffusion &
  \tabularnewline

  ser\_nesting\_compute\_tendencies &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine compute\_tendencies (related to nesting) &
  \tabularnewline

  ser\_nesting\_boundary\_interpolation &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine boundary\_interpolation (related to nesting) &
  \tabularnewline


  ser\_nesting\_relax\_feedback &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine relax\_feedback (related to nesting) &
  \tabularnewline
  
  ser\_step\_advection &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine step\_advection &
  \tabularnewline

  ser\_physics &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine step\_physics &
  \tabularnewline

  ser\_lhn &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine organize\_lhn &
  \tabularnewline

  ser\_nudging &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the nudging computations &
  \tabularnewline

  ser\_surface &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_surface &
  \tabularnewline

  ser\_microphysics &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_microphysics &
  \tabularnewline

  ser\_turbtrans &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_turbtrans &
  \tabularnewline

  ser\_turbdiff &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_turbdiff &
  \tabularnewline
  
  ser\_convection &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_convection &
  \tabularnewline

  ser\_cover &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine cover\_koe &
  \tabularnewline

  ser\_radiation &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_radiation &
  \tabularnewline

  ser\_radheat &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the computations involving radiative heating &
  \tabularnewline

  ser\_gwdrag &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Serialization switch for the subroutine nwp\_gwdrag &
  \tabularnewline

  ser\_time\_loop\_end  &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Check the state at the end of the time loop (does not read in data) &
  \tabularnewline


  ser\_all\_debug &
  I (3)&
  0,12,12&
  -, $10^{-N}$, $10^{-N}$ &
  Additional calls to serialize\_all (for debugging purposes) can be controlled using this switch. &
  \tabularnewline

  ser\_nfail &
  R &
  1.0 &
  \% &
  Fields that fail more elements than the percentage specified by ser\_nfail will be reported. &
  \tabularnewline

  ser\_nreport &
  I &
  10 &
  &
  The detailed serialization report will include the ser\_nreport elements with largest relative differences to the reference  &
  \tabularnewline

  ser\_debug &
  L &
  .FALSE. &
  &
  Activates the debug serialization defined in mo\_ser\_debug.f90 &
  \tabularnewline


\end{longtab}

Defined and used in: \verb+src/namelists/mo_ser_nml.f90+

\section{External packages}



\section{Information on vertical level distribution}

If no vertical sleve coodinate is chosen (ivctype $/=$2), the hydrostatic and nonhydrostatic models need hybrid vertical level information to generate the
terrain following coordinates. The hybrid level specification is stored in
$<$icon home$>$/hyb\_params/HYB\_PARAMS\_$<$nlev$>$.
The \textbf{hydrostatic} model assumes to get \textbf{pressure based} coordinates, the \textbf{nonhydrostatic}
model expects \textbf{height based} coordinates. For further information see $<$icon home$>$/hyb\_params/README.

\section{Compile flag for mixed precision}

To speed up code parts strongly limited by memory bandwidth (primarily the dynamical core and the tracer advection), 
an option exists to use single precision for variables that are presumed to be insensitive to computational accuracy.
This affects most local arrays in the dynamical core routines (solve\_nonhydro and velocity\_advection), some local
arrays in the tracer transport routines, the metrics coefficients,
arrays used for storing tendencies or differenced fields (gradients, divergence etc.), reference atmosphere fields,
and interpolation coefficients. Prognostic variables and intermediate variables affecting the accuracy of mass conservation
are still treated in double precision. To activate the mixed-precision option, run the configure script with the 
'-\,-enable-mixed-precision' flag.




